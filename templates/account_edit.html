{% extends "base.html" %}

{% block title %}The Blue Alliance - Edit Your Account{% endblock %}

{% block meta_description %}Manage your account and preferences.{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2 col-md-offset-2 col-lg-offset-2">
      <p class="pull-right">
        <a class="btn btn-info" href="/logout"><span class="glyphicon glyphicon-remove"></span> Logout</a>
      </p>
      <p>
        <a class="btn btn-default" href="/account"><span class="glyphicon glyphicon-chevron-left"></span> View Profile</a>
      </p>
      <div class="pull-left">
        <h1>Edit your profile</h1>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2 col-md-offset-2 col-lg-offset-2">
      <form class="account_edit_form" action="/account/edit" method="post">
        <ul class="nav nav-tabs">
          <li class="active"><a href="#details" data-toggle="tab">Account Details</a></li>
          <li><a href="#preferences" data-toggle="tab">Gameday Preferences</a></li>
          <li><a href="#follow" data-toggle="tab">Follow Teams/Events</a></li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane active" id="details">
            <table class="table table-striped table-hover table-condensed">
              <tbody>
                <tr>
                  <td>Name</td>
                  <td><input class="form-control" type="text" name="display_name" {% if user_bundle.account.display_name != None %}value="{{user_bundle.account.display_name}}"{% endif %} placeholder="Woodie FLowers"/></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane" id="preferences">
            <table class="table table-striped table-hover table-condensed">
              <tbody>
                <tr>
                  <td>Prefered Layout:</td>
                </tr>
                <tr>
                  <td>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_0" value="0" {% if user_bundle.account.gameday_layout == 0 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_0" class="layout_0 {{ user_bundle.account.gameday_layout|user_gameday_selection:0 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">Single</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_1" value="1" {% if user_bundle.account.gameday_layout == 1 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_1" class="layout_1 {{ user_bundle.account.gameday_layout|user_gameday_selection:1 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">Split</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_2" value="2" {% if user_bundle.account.gameday_layout == 2 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_2" class="layout_2 {{ user_bundle.account.gameday_layout|user_gameday_selection:2 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">1+2</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_3" value="3" {% if user_bundle.account.gameday_layout == 3 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_3" class="layout_3 {{ user_bundle.account.gameday_layout|user_gameday_selection:3 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">Quad</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_4" value="4" {% if user_bundle.account.gameday_layout == 4 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_4" class="layout_4 {{ user_bundle.account.gameday_layout|user_gameday_selection:4 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">1+3</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_5" value="5" {% if user_bundle.account.gameday_layout == 5 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_5" class="layout_5 {{ user_bundle.account.gameday_layout|user_gameday_selection:5 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">1+4</div>
                    </label>
                    <input type="radio" class="form-control" name="gameday_layout" id="gameday_layout_6" value="6" {% if user_bundle.account.gameday_layout == 6 %}checked="checked"{% endif %} />
                    <label for="gameday_layout_6" class="layout_6 {{ user_bundle.account.gameday_layout|user_gameday_selection:6 }}">
                      <img src="http://placehold.it/350x150" width="350" height="150" />
                      <div class="layout_name">Hex</div>
                    </label>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane" id="follow">
            <table class="table table-striped table-hover table-condensed">
              <tbody>
                <tr>
                  <td>Teams</td>
                  <td><input type="text" id="follow_teams" name="follow_teams" data-role="tagsinput" {% if user_bundle.account.follow_teams != None %}value="{{teams_following}}"{% endif %}/></td>
                </tr>
                <tr>
                  <td>Events</td>
                  <td><input type="text" id="follow_events" name="follow_events" data-role="tagsinput" {% if user_bundle.account.follow_events != None %}value="{{events_following}}"{% endif %}/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <input name="account_id" type="hidden" value="{{user_bundle.account.key.id}}" />
        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-thumbs-up"></span> Save profile</button>
        <a href="/account" class="btn btn-default"><span class="glyphicon glyphicon-thumbs-down"></span></i> Cancel</a>
      </form>
    </div>
  </div>
</div>
{% endblock %}
