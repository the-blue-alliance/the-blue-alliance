{% extends "insights_base.html" %}

{% block title %}Insights Overview - The Blue Alliance{% endblock %}

{% block meta_description %}FIRST Robotics Competition insights overview.{% endblock %}

{% block detailed_content %}
  <h1 class="end_header">Insights Overview <small>2007 to Present</small></h1>
  
  {% if blue_banners %}
  <div class="row-fluid">
    <h3>Most Blue Banners</h3>
    <div class="span8 offset2">
      <table class="table table-striped table-condensed table-center">
        <tbody>
          <tr><th>Number</th><th>Teams</th></tr>
          {% for number, team_list in blue_banners.data %}
            {% if forloop.counter <= 8 %}
            {% if team_list|length < 50 %}
            <tr>
              <td>{{number}}</td>
              <td>
                {% for team in team_list %}
                <a href="/team/{{team}}">{{team|digits}}</a>{% if not forloop.last %},{% endif %}
                {% endfor %}
              </td>
            </tr>
            {% endif %}
            {% endif %}
          {% endfor %}
      </table>
    </div>
  </div>
  {% endif %}
  
  {% if world_champions %}
  <div class="row-fluid">
    <h3>Most World Championship Wins</h3>
    <div class="span8 offset2">
      <table class="table table-striped table-condensed table-center">
        <tbody>
          <tr><th>Number</th><th>Teams</th></tr>
          {% for number, team_list in world_champions.data %}
            {% if number != 1 %}
            <tr>
              <td>{{number}}</td>
              <td>
                {% for team in team_list %}
                <a href="/team/{{team}}">{{team|digits}}</a>{% if not forloop.last %},{% endif %}
                {% endfor %}
              </td>
            </tr>
            {% endif %}
          {% endfor %}
      </table>
    </div>
  </div>
  {% endif %}
  
  {% if rca_winners %}
  <div class="row-fluid">
    <h3>Most Regional Chairman's Award Wins</h3>
    <div class="span8 offset2">
      <table class="table table-striped table-condensed table-center">
        <tbody>
          <tr><th>Number</th><th>Teams</th></tr>
          {% for number, team_list in rca_winners.data %}
            {% if forloop.counter <= 4 %}
            {% if team_list|length < 15 %}
            <tr>
              <td>{{number}}</td>
              <td>
                {% for team in team_list %}
                <a href="/team/{{team}}">{{team|digits}}</a>{% if not forloop.last %},{% endif %}
                {% endfor %}
              </td>
            </tr>
            {% endif %}
            {% endif %}
          {% endfor %}
      </table>
    </div>
  </div>
  {% endif %}
      
  {% if regional_district_winners %}
  <div class="row-fluid">
    <h3>Most Regional & District Wins</h3>
    <div class="span8 offset2">
      <table class="table table-striped table-condensed table-center">
        <tbody>
          <tr><th>Number</th><th>Teams</th></tr>
          {% for number, team_list in regional_district_winners.data %}
            {% if forloop.counter <= 6 %}
            {% if team_list|length < 15 %}
            <tr>
              <td>{{number}}</td>
              <td>
                {% for team in team_list %}
                <a href="/team/{{team}}">{{team|digits}}</a>{% if not forloop.last %},{% endif %}
                {% endfor %}
              </td>
            </tr>
            {% endif %}
            {% endif %}
          {% endfor %}
      </table>
    </div>
  </div>
  {% endif %}
  
  {% if num_matches %}
    <h3>Number of Matches by Year</h3>
      <figure style="width: 90%; height: 300px;" id="num-matches-chart"></figure>
      <div id="num-matches" class="xcharts-data xcharts-line-single-data">{{ num_matches.data_json }}</div>
  {% endif %}
  
{% endblock %}
