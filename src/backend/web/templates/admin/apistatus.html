{% extends "admin/base.html" %}

{% block title %}API Status{% endblock %}

{% block content %}

<form method="post">
<input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

<h1>API Status</h1>
<p>Here you can edit the backed values that supply the Status API endpoint. This contains data about datafeeds that are down, as well as some configuration data for the mobile apps</p>

<table class="table table-striped">
<tr><td><p>Max Competition Season</p></td><td><input type="number" name="max_year" value="{{max_year}}" /></td></tr>
<tr><td><p>Current Competition Season</p></td><td><input type="number" name="current_year" value="{{current_year}}" /></td></tr>
<tr><td><p>Android Latest App Version Code</p></td><td><input type="number" name="android_latest_version" value="{{android_latest_version}}" /></td></tr>
<tr><td><p>Android Min App Version Code</p></td><td><input type="number" name="android_min_version" value="{{android_min_version}}" /></td></tr>

<tr><td><p>iOS Latest App Version Code</p></td><td><input type="number" name="ios_latest_version" value="{{ios_latest_version}}" /></td></tr>
<tr><td><p>iOS Min App Version Code</p></td><td><input type="number" name="ios_min_version" value="{{ios_min_version}}" /></td></tr>

</table>

<h1>Trusted API Status</h1>
<p>Here you can enable and disable the Trusted API</p>
{% for auth_type in auth_types %}
    <p>Enable the trusted API for {{auth_type_names[auth_type]}}: <input type="checkbox" name="enable_{{auth_type.name | slugify}}" {% if enable_trustedapi.get(auth_type|string, True) %}checked{%endif%} /></p>
{% endfor %}

<button type="submit" class="btn btn-info"><span class="glyphicon glyphicon-thumbs-up"></span> Update</button>

</form>

{% endblock %}
