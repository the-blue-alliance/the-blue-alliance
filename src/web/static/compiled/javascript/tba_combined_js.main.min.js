var jwplayer,$jw,_userPlayerReady;void 0===jwplayer&&(jwplayer=function(a){if(jwplayer.api)return jwplayer.api.selectPlayer(a)},$jw=jwplayer,jwplayer.version="5.10.2295",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(b){b.utils=function(){},b.utils.typeOf=function(d){var c=typeof d;return"object"===c&&(d?d instanceof Array&&(c="array"):c="null"),c},b.utils.extend=function(){var c=b.utils.extend.arguments;if(1<c.length){for(var e=1;e<c.length;e++)for(var d in c[e])c[0][d]=c[e][d];return c[0]}return null},b.utils.clone=function(f){var c,d=b.utils.clone.arguments;if(1==d.length)switch(b.utils.typeOf(d[0])){case"object":for(var e in c={},d[0])c[e]=b.utils.clone(d[0][e]);break;case"array":for(var e in c=[],d[0])c[e]=b.utils.clone(d[0][e]);break;default:return d[0]}return c},b.utils.extension=function(c){return c?-1<(c=(c=c.substring(c.lastIndexOf("/")+1,c.length)).split("?")[0]).lastIndexOf(".")?c.substr(c.lastIndexOf(".")+1,c.length).toLowerCase():void 0:""},b.utils.html=function(c,d){c.innerHTML=d},b.utils.wrap=function(c,d){c.parentNode&&c.parentNode.replaceChild(d,c),d.appendChild(c)},b.utils.ajax=function(g,f,c){var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status){if(f){if(!b.utils.exists(e.responseXML))try{var h;window.DOMParser?(h=(new DOMParser).parseFromString(e.responseText,"text/xml"))&&(e=b.utils.extend({},e,{responseXML:h})):((h=new ActiveXObject("Microsoft.XMLDOM")).async="false",h.loadXML(e.responseText),e=b.utils.extend({},e,{responseXML:h}))}catch(j){c&&c(g)}f(e)}}else c&&c(g)};try{e.open("GET",g,!0),e.send(null)}catch(d){c&&c(g)}return e},b.utils.load=function(d,e,c){d.onreadystatechange=function(){4===d.readyState&&(200===d.status?e&&e():c&&c())}},b.utils.find=function(d,c){return d.getElementsByTagName(c)},b.utils.append=function(c,d){c.appendChild(d)},b.utils.isIE=function(){return void 0!==window.ActiveXObject},b.utils.userAgentMatch=function(d){return null!==navigator.userAgent.toLowerCase().match(d)},b.utils.isIOS=function(){return b.utils.userAgentMatch(/iP(hone|ad|od)/i)},b.utils.isIPad=function(){return b.utils.userAgentMatch(/iPad/i)},b.utils.isIPod=function(){return b.utils.userAgentMatch(/iP(hone|od)/i)},b.utils.isAndroid=function(){return b.utils.userAgentMatch(/android/i)},b.utils.isLegacyAndroid=function(){return b.utils.userAgentMatch(/android 2.[012]/i)},b.utils.isBlackberry=function(){return b.utils.userAgentMatch(/blackberry/i)},b.utils.isMobile=function(){return b.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)},b.utils.getFirstPlaylistItemFromConfig=function(c){var d={},e=c.playlist&&c.playlist.length?c.playlist[0]:c;return d.file=e.file,d.levels=e.levels,d.streamer=e.streamer,d.playlistfile=e.playlistfile,d.provider=e.provider,d.provider||(d.file&&(-1<d.file.toLowerCase().indexOf("youtube.com")||-1<d.file.toLowerCase().indexOf("youtu.be"))&&(d.provider="youtube"),d.streamer&&0==d.streamer.toLowerCase().indexOf("rtmp://")&&(d.provider="rtmp"),e.type&&(d.provider=e.type.toLowerCase())),"audio"==d.provider&&(d.provider="sound"),d},b.utils.getOuterHTML=function(c){if(c.outerHTML)return c.outerHTML;try{return(new XMLSerializer).serializeToString(c)}catch(d){return""}},b.utils.setOuterHTML=function(f,e){var g,c,d;f.outerHTML?f.outerHTML=e:((g=document.createElement("div")).innerHTML=e,(c=document.createRange()).selectNodeContents(g),d=c.extractContents(),f.parentNode.insertBefore(d,f),f.parentNode.removeChild(f))},b.utils.hasFlash=function(){if(void 0!==navigator.plugins&&void 0!==navigator.plugins["Shockwave Flash"])return!0;if(void 0!==window.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(c){}return!1},b.utils.getPluginName=function(c){return 0<=c.lastIndexOf("/")&&(c=c.substring(c.lastIndexOf("/")+1,c.length)),0<=c.lastIndexOf("-")&&(c=c.substring(0,c.lastIndexOf("-"))),0<=c.lastIndexOf(".swf")&&(c=c.substring(0,c.lastIndexOf(".swf"))),0<=c.lastIndexOf(".js")&&(c=c.substring(0,c.lastIndexOf(".js"))),c},b.utils.getPluginVersion=function(c){return 0<=c.lastIndexOf("-")?0<=c.lastIndexOf(".js")?c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".js")):0<=c.lastIndexOf(".swf")?c.substring(c.lastIndexOf("-")+1,c.lastIndexOf(".swf")):c.substring(c.lastIndexOf("-")+1):""},b.utils.getAbsolutePath=function(j,h){if(b.utils.exists(h)||(h=document.location.href),b.utils.exists(j)){if(function(d){if(!b.utils.exists(d))return;var e=d.indexOf("://"),c=d.indexOf("?");return 0<e&&(c<0||e<c)}(j))return j;var e,d,k=h.substring(0,h.indexOf("://")+3),g=h.substring(k.length,h.indexOf("/",k.length+1));d=0===j.indexOf("/")?j.split("/"):(e=(e=h.split("?")[0]).substring(k.length+g.length+1,e.lastIndexOf("/"))).split("/").concat(j.split("/"));for(var c=[],f=0;f<d.length;f++)d[f]&&b.utils.exists(d[f])&&"."!=d[f]&&(".."==d[f]?c.pop():c.push(d[f]));return k+g+"/"+c.join("/")}},b.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"},b.utils.getPluginPathType=function(d){if("string"==typeof d){var e=(d=d.split("?")[0]).indexOf("://");if(0<e)return b.utils.pluginPathType.ABSOLUTE;var c=d.indexOf("/"),f=b.utils.extension(d);return!(e<0&&c<0)||f&&isNaN(f)?b.utils.pluginPathType.RELATIVE:b.utils.pluginPathType.CDN}},b.utils.mapEmpty=function(c){for(var d in c)return!1;return!0},b.utils.mapLength=function(d){var c=0;for(var e in d)c++;return c},b.utils.log=function(d,c){"undefined"!=typeof console&&void 0!==console.log&&(c?console.log(d,c):console.log(d))},b.utils.css=function(d,g,c){if(b.utils.exists(d))for(var e in g)try{if(void 0===g[e])continue;if("number"==typeof g[e]&&"zIndex"!=e&&"opacity"!=e){if(isNaN(g[e]))continue;e.match(/color/i)?g[e]="#"+b.utils.strings.pad(g[e].toString(16),6):g[e]=Math.ceil(g[e])+"px"}d.style[e]=g[e]}catch(f){}},b.utils.isYouTube=function(c){return-1<c.indexOf("youtube.com")||-1<c.indexOf("youtu.be")},b.utils.transform=function(e,d,c,g,h){var f;b.utils.exists(d)||(d=1),b.utils.exists(c)||(c=1),b.utils.exists(g)||(g=0),b.utils.exists(h)||(h=0),1==d&&1==c&&0==g&&0==h?(e.style.webkitTransform="",e.style.MozTransform="",e.style.OTransform=""):(f="scale("+d+","+c+") translate("+g+"px,"+h+"px)",e.style.webkitTransform=f,e.style.MozTransform=f,e.style.OTransform=f)},b.utils.stretch=function(k,q,p,g,n,h){if(void 0!==p&&void 0!==g&&void 0!==n&&void 0!==h){var d=p/n,f=g/h,e=!1,c={};switch(q.parentElement&&(q.parentElement.style.overflow="hidden"),b.utils.transform(q),k.toUpperCase()){case b.utils.stretching.NONE:c.width=n,c.height=h,c.top=(g-c.height)/2,c.left=(p-c.width)/2;break;case b.utils.stretching.UNIFORM:f<d?(c.width=n*f,c.height=h*f,.95<c.width/p&&(e=!0,d=Math.ceil(100*p/c.width)/100,f=1,c.width=p)):(c.width=n*d,c.height=h*d,.95<c.height/g&&(e=!0,d=1,f=Math.ceil(100*g/c.height)/100,c.height=g)),c.top=(g-c.height)/2,c.left=(p-c.width)/2;break;case b.utils.stretching.FILL:f<d?(c.width=n*d,c.height=h*d):(c.width=n*f,c.height=h*f),c.top=(g-c.height)/2,c.left=(p-c.width)/2;break;case b.utils.stretching.EXACTFIT:c.width=n,c.height=h;var o=Math.round(n/2*(1-1/d)),j=Math.round(h/2*(1-1/f)),e=!0;c.top=c.left=0}e&&b.utils.transform(q,d,f,o,j),b.utils.css(q,c)}},b.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"},b.utils.deepReplaceKeyName=function(k,e,c){switch(b.utils.typeOf(k)){case"array":for(var g=0;g<k.length;g++)k[g]=b.utils.deepReplaceKeyName(k[g],e,c);break;case"object":for(var f in k){var j;if(e instanceof Array&&c instanceof Array){if(e.length!=c.length)continue;j=e,0}else j=[e],0;for(var d=f,g=0;g<j.length;g++)d=d.replace(new RegExp(e[g],"g"),c[g]);k[d]=b.utils.deepReplaceKeyName(k[f],e,c),f!=d&&delete k[f]}}return k},b.utils.isInArray=function(e,d){if(!(e&&e instanceof Array))return!1;for(var c=0;c<e.length;c++)if(d===e[c])return!0;return!1},b.utils.exists=function(c){switch(typeof c){case"string":return 0<c.length;case"object":return null!==c;case"undefined":return!1}return!0},b.utils.empty=function(c){if("function"==typeof c.hasChildNodes)for(;c.hasChildNodes();)c.removeChild(c.firstChild)},b.utils.parseDimension=function(c){return"string"==typeof c?""===c?0:-1<c.lastIndexOf("%")?c:parseInt(c.replace("px",""),10):c},b.utils.getDimensions=function(c){return c&&c.style?{x:b.utils.parseDimension(c.style.left),y:b.utils.parseDimension(c.style.top),width:b.utils.parseDimension(c.style.width),height:b.utils.parseDimension(c.style.height)}:{}},b.utils.getElementWidth=function(c){return c?c==document.body?b.utils.parentNode(c).clientWidth:0<c.clientWidth?c.clientWidth:c.style?b.utils.parseDimension(c.style.width):null:null},b.utils.getElementHeight=function(c){return c?c==document.body?b.utils.parentNode(c).clientHeight:0<c.clientHeight?c.clientHeight:c.style?b.utils.parseDimension(c.style.height):null:null},b.utils.timeFormat=function(c){return str="00:00",0<c&&(str=Math.floor(c/60)<10?"0"+Math.floor(c/60)+":":Math.floor(c/60)+":",str+=Math.floor(c%60)<10?"0"+Math.floor(c%60):Math.floor(c%60)),str},b.utils.useNativeFullscreen=function(){return navigator&&navigator.vendor&&0==navigator.vendor.indexOf("Apple")},b.utils.parentNode=function(c){return c?c.parentNode?c.parentNode:c.parentElement?c.parentElement:c:document.body},b.utils.getBoundingClientRect=function(c){return"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():{left:c.offsetLeft+document.body.scrollLeft,top:c.offsetTop+document.body.scrollTop,width:c.offsetWidth,height:c.offsetHeight}},b.utils.translateEventResponse=function(e,c){var g=b.utils.extend({},c);e!=b.api.events.JWPLAYER_FULLSCREEN||g.fullscreen?"object"==typeof g.data?delete(g=b.utils.extend(g,g.data)).data:"object"==typeof g.metadata&&b.utils.deepReplaceKeyName(g.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"]):(g.fullscreen="true"==g.message,delete g.message);var d=["position","duration","offset"];for(var f in d)g[d[f]]&&(g[d[f]]=Math.round(1e3*g[d[f]])/1e3);return g},b.utils.saveCookie=function(c,d){document.cookie="jwplayer."+c+"="+d+"; path=/"},b.utils.getCookies=function(){for(var f={},e=document.cookie.split("; "),d=0;d<e.length;d++){var c=e[d].split("=");0==c[0].indexOf("jwplayer.")&&(f[c[0].substring(9,c[0].length)]=c[1])}return f},b.utils.readCookie=function(c){return b.utils.getCookies()[c]}}(jwplayer),function(a){a.events=function(){},a.events.COMPLETE="COMPLETE",a.events.ERROR="ERROR"}(jwplayer),function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug,_listeners,_globallisteners;this.resetEventListeners=function(){_listeners={},_globallisteners=[]},this.resetEventListeners(),this.addEventListener=function(type,listener,count){try{jwplayer.utils.exists(_listeners[type])||(_listeners[type]=[]),"string"==typeof listener&&eval("listener = "+listener),_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return!1},this.removeEventListener=function(type,listener){if(_listeners[type]){try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++)if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break}}catch(err){jwplayer.utils.log("error",err)}return!1}},this.addGlobalListener=function(listener,count){try{"string"==typeof listener&&eval("listener = "+listener),_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return!1},this.removeGlobalListener=function(listener){if(listener){try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++)if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break}}catch(err){jwplayer.utils.log("error",err)}return!1}},this.sendEvent=function(type,data){if(jwplayer.utils.exists(data)||(data={}),_debug&&jwplayer.utils.log(type,data),void 0!==_listeners[type])for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener)}_listeners[type][listenerIndex]&&(1===_listeners[type][listenerIndex].count?delete _listeners[type][listenerIndex]:0<_listeners[type][listenerIndex].count&&(_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1))}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener)}_globallisteners[globalListenerIndex]&&(1===_globallisteners[globalListenerIndex].count?delete _globallisteners[globalListenerIndex]:0<_globallisteners[globalListenerIndex].count&&(_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1))}}}}(jwplayer),function(a){var b={};a.utils.animations=function(){},a.utils.animations.transform=function(c,d){c.style.webkitTransform=d,c.style.MozTransform=d,c.style.OTransform=d,c.style.msTransform=d},a.utils.animations.transformOrigin=function(c,d){c.style.webkitTransformOrigin=d,c.style.MozTransformOrigin=d,c.style.OTransformOrigin=d,c.style.msTransformOrigin=d},a.utils.animations.rotate=function(c,d){a.utils.animations.transform(c,["rotate(",d,"deg)"].join(""))},a.utils.cancelAnimation=function(c){delete b[c.id]},a.utils.fadeTo=function(m,f,e,j,h,d){if((b[m.id]==d||!a.utils.exists(d))&&m.style.opacity!=f){var c=(new Date).getTime();if(c<d&&setTimeout(function(){a.utils.fadeTo(m,f,e,j,0,d)},d-c),"none"==m.style.display&&(m.style.display="block"),a.utils.exists(j)||(j=""===m.style.opacity?1:m.style.opacity),m.style.opacity==f&&""!==m.style.opacity&&a.utils.exists(d))0===f&&(m.style.display="none");else{a.utils.exists(d)||(d=c,b[m.id]=d),a.utils.exists(h)||(h=0);var k=0<e?(c-d)/(1e3*e):0,g=j+(k=1<k?1:k)*(f-j);if(1<g?g=1:g<0&&(g=0),m.style.opacity=g,0<h)return b[m.id]=d+1e3*h,void a.utils.fadeTo(m,f,e,j,0,b[m.id]);setTimeout(function(){a.utils.fadeTo(m,f,e,j,0,d)},10)}}}}(jwplayer),function(a){a.utils.arrays=function(){},a.utils.arrays.indexOf=function(c,d){for(var b=0;b<c.length;b++)if(c[b]==d)return b;return-1},a.utils.arrays.remove=function(c,d){var b=a.utils.arrays.indexOf(c,d);-1<b&&c.splice(b,1)}}(jwplayer),jwplayer.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}},function(e){e.utils.mediaparser=function(){};var g={element:{width:"width",height:"height",id:"id",class:"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}},f={};function c(k,j){return e.utils.exists(j)?e.utils.extend(j,g[k]):j=g[k],j}function d(n,j){if(f[n.tagName.toLowerCase()]&&!e.utils.exists(j))return f[n.tagName.toLowerCase()](n);j=c("element",j);var m,o={};for(var k in j){"length"!=k&&(m=n.getAttribute(k),e.utils.exists(m)&&(o[j[k]]=m))}var l=n.style["#background-color"];return l&&"transparent"!=l&&"rgba(0, 0, 0, 0)"!=l&&(o.screencolor=l),o}function h(n,k){k=c("media",k);var l=[],j=e.utils.selectors("source",n);for(var m in j)isNaN(m)||l.push(a(j[m]));var o=d(n,k);return e.utils.exists(o.file)&&(l[0]={file:o.file}),o.levels=l,o}function a(l,k){var j=d(l,k=c("source",k));return j.width=j.width?j.width:0,j.bitrate=j.bitrate?j.bitrate:0,j}e.utils.mediaparser.parseMedia=function(j){return d(j)},f.media=h,f.audio=h,f.source=a,f.video=function(l,k){return h(l,k=c("video",k))}}(jwplayer),function(a){a.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"},a.utils.scriptloader=function(c){var d=a.utils.loaderstatus.NEW,b=new a.events.eventdispatcher;a.utils.extend(this,b),this.load=function(){var e;d==a.utils.loaderstatus.NEW&&(d=a.utils.loaderstatus.LOADING,(e=document.createElement("script")).onload=function(f){d=a.utils.loaderstatus.COMPLETE,b.sendEvent(a.events.COMPLETE)},e.onerror=function(f){d=a.utils.loaderstatus.ERROR,b.sendEvent(a.events.ERROR)},e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(d=a.utils.loaderstatus.COMPLETE,b.sendEvent(a.events.COMPLETE))},document.getElementsByTagName("head")[0].appendChild(e),e.src=c)},this.getStatus=function(){return d}}}(jwplayer),function(a){a.utils.selectors=function(b,e){a.utils.exists(e)||(e=document);var c=(b=a.utils.strings.trim(b)).charAt(0);if("#"==c)return e.getElementById(b.substr(1));if("."==c)return e.getElementsByClassName?e.getElementsByClassName(b.substr(1)):a.utils.selectors.getElementsByTagAndClass("*",b.substr(1));if(0<b.indexOf(".")){var d=b.split(".");return a.utils.selectors.getElementsByTagAndClass(d[0],d[1])}return e.getElementsByTagName(b)},a.utils.selectors.getElementsByTagAndClass=function(e,h,g){var j=[];a.utils.exists(g)||(g=document);for(var f=g.getElementsByTagName(e),d=0;d<f.length;d++)if(a.utils.exists(f[d].className))for(var c=f[d].className.split(" "),b=0;b<c.length;b++)c[b]==h&&j.push(f[d]);return j}}(jwplayer),function(a){a.utils.strings=function(){},a.utils.strings.trim=function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")},a.utils.strings.pad=function(c,d,b){for(b=b||"0";c.length<d;)c=b+c;return c},a.utils.strings.serialize=function(b){return null==b?null:"true"==b||"false"!=b&&(isNaN(Number(b))||5<b.length||0==b.length?b:Number(b))},a.utils.strings.seconds=function(d){var b=(d=d.replace(",",".")).split(":"),c=0;return"s"==d.substr(-1)?c=Number(d.substr(0,d.length-1)):"m"==d.substr(-1)?c=60*Number(d.substr(0,d.length-1)):"h"==d.substr(-1)?c=3600*Number(d.substr(0,d.length-1)):1<b.length?(c=Number(b[b.length-1]),c+=60*Number(b[b.length-2]),3==b.length&&(c+=3600*Number(b[b.length-3]))):c=Number(d),c},a.utils.strings.xmlAttribute=function(b,c){for(var d=0;d<b.attributes.length;d++)if(b.attributes[d].name&&b.attributes[d].name.toLowerCase()==c.toLowerCase())return b.attributes[d].value.toString();return""},a.utils.strings.jsonToString=function(f){var h=h||{};if(h&&h.stringify)return h.stringify(f);var c=typeof f;if("object"==c&&null!==f){var g=[],b=f&&f.constructor==Array;for(var d in f){var e=f[d];switch(typeof e){case"string":e='"'+e.replace(/"/g,'\\"')+'"';break;case"object":a.utils.exists(e)&&(e=a.utils.strings.jsonToString(e))}b?"function"!=typeof e&&g.push(String(e)):"function"!=typeof e&&g.push('"'+d+'":'+String(e))}return b?"["+String(g)+"]":"{"+String(g)+"}"}if("string"!=c)return String(f);f='"'+f.replace(/"/g,'\\"')+'"'}}(jwplayer),function(c){var d=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);c.utils.typechecker=function(g,f){return function(g,f){if(!c.utils.exists(f))return g;switch(f){case"color":return 0<g.length?function(f){switch(f.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:return 3==(f=f.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2")).length&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)}return parseInt("000000",16)}(g):null;case"integer":return parseInt(g,10);case"float":return parseFloat(g);case"boolean":return"true"==g.toLowerCase()?!0:"1"==g}return g}(g,f=c.utils.exists(f)?f:function(f){{if(0<=["true","false","t","f"].toString().indexOf(f.toLowerCase().replace(" ","")))return"boolean";if(d.test(f))return"color";if(!isNaN(parseInt(f,10))&&parseInt(f,10).toString().length==f.length)return"integer";if(!isNaN(parseFloat(f))&&parseFloat(f).toString().length==f.length)return"float"}return"string"}(g))}}(jwplayer),function(a){a.utils.parsers=function(){},a.utils.parsers.localName=function(b){return b?b.localName?b.localName:b.baseName?b.baseName:"":""},a.utils.parsers.textContent=function(b){return b?b.textContent?b.textContent:b.text?b.text:"":""}}(jwplayer),function(a){a.utils.parsers.jwparser=function(){},a.utils.parsers.jwparser.PREFIX="jwplayer",a.utils.parsers.jwparser.parseEntry=function(c,d){for(var b=0;b<c.childNodes.length;b++)c.childNodes[b].prefix==a.utils.parsers.jwparser.PREFIX&&(d[a.utils.parsers.localName(c.childNodes[b])]=a.utils.strings.serialize(a.utils.parsers.textContent(c.childNodes[b])),"file"==a.utils.parsers.localName(c.childNodes[b])&&d.levels&&delete d.levels),!d.file&&-1<String(d.link).toLowerCase().indexOf("youtube")&&(d.file=d.link);return d},a.utils.parsers.jwparser.getProvider=function(c){if(c.type)return c.type;if(-1<c.file.indexOf("youtube.com/w")||-1<c.file.indexOf("youtube.com/v")||-1<c.file.indexOf("youtu.be/"))return"youtube";if(c.streamer&&0==c.streamer.indexOf("rtmp"))return"rtmp";if(c.streamer&&0==c.streamer.indexOf("http"))return"http";var b=a.utils.strings.extension(c.file);return extensions.hasOwnProperty(b)?extensions[b]:""}}(jwplayer),function(a){a.utils.parsers.mediaparser=function(){},a.utils.parsers.mediaparser.PREFIX="media",a.utils.parsers.mediaparser.parseGroup=function(d,f){for(var e=!1,c=0;c<d.childNodes.length;c++)if(d.childNodes[c].prefix==a.utils.parsers.mediaparser.PREFIX){if(!a.utils.parsers.localName(d.childNodes[c]))continue;switch(a.utils.parsers.localName(d.childNodes[c]).toLowerCase()){case"content":e||(f.file=a.utils.strings.xmlAttribute(d.childNodes[c],"url")),a.utils.strings.xmlAttribute(d.childNodes[c],"duration")&&(f.duration=a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c],"duration"))),a.utils.strings.xmlAttribute(d.childNodes[c],"start")&&(f.start=a.utils.strings.seconds(a.utils.strings.xmlAttribute(d.childNodes[c],"start"))),d.childNodes[c].childNodes&&0<d.childNodes[c].childNodes.length&&(f=a.utils.parsers.mediaparser.parseGroup(d.childNodes[c],f)),(a.utils.strings.xmlAttribute(d.childNodes[c],"width")||a.utils.strings.xmlAttribute(d.childNodes[c],"bitrate")||a.utils.strings.xmlAttribute(d.childNodes[c],"url"))&&(f.levels||(f.levels=[]),f.levels.push({width:a.utils.strings.xmlAttribute(d.childNodes[c],"width"),bitrate:a.utils.strings.xmlAttribute(d.childNodes[c],"bitrate"),file:a.utils.strings.xmlAttribute(d.childNodes[c],"url")}));break;case"title":f.title=a.utils.parsers.textContent(d.childNodes[c]);break;case"description":f.description=a.utils.parsers.textContent(d.childNodes[c]);break;case"keywords":f.tags=a.utils.parsers.textContent(d.childNodes[c]);break;case"thumbnail":f.image=a.utils.strings.xmlAttribute(d.childNodes[c],"url");break;case"credit":f.author=a.utils.parsers.textContent(d.childNodes[c]);break;case"player":var b=d.childNodes[c].url;(0<=b.indexOf("youtube.com")||0<=b.indexOf("youtu.be"))&&(e=!0,f.file=a.utils.strings.xmlAttribute(d.childNodes[c],"url"));break;case"group":a.utils.parsers.mediaparser.parseGroup(d.childNodes[c],f)}}return f}}(jwplayer),function(b){b.utils.parsers.rssparser=function(){},b.utils.parsers.rssparser.parse=function(f){for(var c=[],e=0;e<f.childNodes.length;e++)if("channel"==b.utils.parsers.localName(f.childNodes[e]).toLowerCase())for(var d=0;d<f.childNodes[e].childNodes.length;d++)"item"==b.utils.parsers.localName(f.childNodes[e].childNodes[d]).toLowerCase()&&c.push(function(d){for(var e={},c=0;c<d.childNodes.length;c++)if(b.utils.parsers.localName(d.childNodes[c]))switch(b.utils.parsers.localName(d.childNodes[c]).toLowerCase()){case"enclosure":e.file=b.utils.strings.xmlAttribute(d.childNodes[c],"url");break;case"title":e.title=b.utils.parsers.textContent(d.childNodes[c]);break;case"pubdate":e.date=b.utils.parsers.textContent(d.childNodes[c]);break;case"description":e.description=b.utils.parsers.textContent(d.childNodes[c]);break;case"link":e.link=b.utils.parsers.textContent(d.childNodes[c]);break;case"category":e.tags?e.tags+=b.utils.parsers.textContent(d.childNodes[c]):e.tags=b.utils.parsers.textContent(d.childNodes[c])}return e=b.utils.parsers.mediaparser.parseGroup(d,e),e=b.utils.parsers.jwparser.parseEntry(d,e),new b.html5.playlistitem(e)}(f.childNodes[e].childNodes[d]));return c}}(jwplayer),function(a){var c={},b={};a.plugins=function(){},a.plugins.loadPlugins=function(e,d){return b[e]=new a.plugins.pluginloader(new a.plugins.model(c),d),b[e]},a.plugins.registerPlugin=function(h,f,e){var d=a.utils.getPluginName(h);if(c[d])c[d].registerPlugin(h,f,e);else for(var g in a.utils.log("A plugin ("+h+") was registered with the player that was not loaded. Please check your configuration."),b)b[g].pluginFailed()}}(jwplayer),function(a){a.plugins.model=function(b){this.addPlugin=function(c){var d=a.utils.getPluginName(c);return b[d]||(b[d]=new a.plugins.plugin(c)),b[d]}}}(jwplayer),function(a){a.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"},a.plugins.plugin=function(b){var k,h,l,d="http://plugins.longtailvideo.com",j=a.utils.loaderstatus.NEW,c=new a.events.eventdispatcher;function e(){switch(a.utils.getPluginPathType(b)){case a.utils.pluginPathType.ABSOLUTE:return b;case a.utils.pluginPathType.RELATIVE:return a.utils.getAbsolutePath(b,window.location.href);case a.utils.pluginPathType.CDN:var o=a.utils.getPluginName(b),n=a.utils.getPluginVersion(b);return(0==window.location.href.indexOf("https://")?d.replace("http://","https://secure"):d)+"/"+a.version.split(".")[0]+"/"+o+"/"+o+(""!==n?"-"+n:"")+".js"}}function g(m){l=setTimeout(function(){j=a.utils.loaderstatus.COMPLETE,c.sendEvent(a.events.COMPLETE)},1e3)}function f(m){j=a.utils.loaderstatus.ERROR,c.sendEvent(a.events.ERROR)}a.utils.extend(this,c),this.load=function(){if(j==a.utils.loaderstatus.NEW){if(0<b.lastIndexOf(".swf"))return k=b,j=a.utils.loaderstatus.COMPLETE,void c.sendEvent(a.events.COMPLETE);j=a.utils.loaderstatus.LOADING;var m=new a.utils.scriptloader(e());m.addEventListener(a.events.COMPLETE,g),m.addEventListener(a.events.ERROR,f),m.load()}},this.registerPlugin=function(o,n,m){l&&(clearTimeout(l),l=void 0),n&&m?(k=m,h=n):"string"==typeof n?k=n:"function"==typeof n?h=n:n||m||(k=o),j=a.utils.loaderstatus.COMPLETE,c.sendEvent(a.events.COMPLETE)},this.getStatus=function(){return j},this.getPluginName=function(){return a.utils.getPluginName(b)},this.getFlashPath=function(){if(k)switch(a.utils.getPluginPathType(k)){case a.utils.pluginPathType.ABSOLUTE:return k;case a.utils.pluginPathType.RELATIVE:return 0<b.lastIndexOf(".swf")?a.utils.getAbsolutePath(k,window.location.href):a.utils.getAbsolutePath(k,e());case a.utils.pluginPathType.CDN:return-1<k.indexOf("-")?k+"h":k+"-h"}return null},this.getJS=function(){return h},this.getPluginmode=function(){return void 0!==k&&void 0!==h?a.plugins.pluginmodes.HYBRID:void 0!==k?a.plugins.pluginmodes.FLASH:void 0!==h?a.plugins.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(n,m,o){return new h(n,m,o)},this.getURL=function(){return b}}}(jwplayer),function(a){a.plugins.pluginloader=function(h,e){var g={},k=a.utils.loaderstatus.NEW,b=!1,c=new a.events.eventdispatcher;function f(){b||(b=!0,k=a.utils.loaderstatus.COMPLETE,c.sendEvent(a.events.COMPLETE))}function j(){if(!b){var m=0;for(plugin in g){var l=g[plugin].getStatus();l!=a.utils.loaderstatus.LOADING&&l!=a.utils.loaderstatus.NEW||m++}0==m&&f()}}a.utils.extend(this,c),this.setupPlugins=function(n,l,s){var m={length:0,plugins:{}},p={length:0,plugins:{}};for(var o in g){var r,q=g[o].getPluginName();g[o].getFlashPath()&&(m.plugins[g[o].getFlashPath()]=l.plugins[o],m.plugins[g[o].getFlashPath()].pluginmode=g[o].getPluginmode(),m.length++),g[o].getJS()&&((r=document.createElement("div")).id=n.id+"_"+q,r.style.position="absolute",r.style.zIndex=p.length+10,p.plugins[q]=g[o].getNewInstance(n,l.plugins[o],r),p.length++,void 0!==p.plugins[q].resize&&(n.onReady(s(p.plugins[q],r,!0)),n.onResize(s(p.plugins[q],r))))}return n.plugins=p.plugins,m},this.load=function(){for(var l in k=a.utils.loaderstatus.LOADING,e)a.utils.exists(l)&&(g[l]=h.addPlugin(l),g[l].addEventListener(a.events.COMPLETE,j),g[l].addEventListener(a.events.ERROR,j));for(l in g)g[l].load();j()},this.pluginFailed=function(){f()},this.getStatus=function(){return k}}}(jwplayer),function(b){var a=[];b.api=function(d){this.container=d,this.id=d.id;var m={},t={},p={},g=void 0,k=!1,h=[],r=void 0,o=b.utils.getOuterHTML(d),s={},j={};function q(u){h=[],b.utils.getOuterHTML(u.container)!=o&&b.api.destroyPlayer(u.id,o)}return this.getBuffer=function(){return this.callInternal("jwGetBuffer")},this.getContainer=function(){return this.container},this.getPlugin=function(u){var w=this,v={};return"dock"==u?b.utils.extend(v,{setButton:function(v,u){return function(A,w,x,y){var z;return"flash"!=v.renderingMode&&"html5"!=v.renderingMode||(w?(j[A]=w,z="jwplayer('"+v.id+"').callback('"+A+"')"):!w&&j[A]&&delete j[A],g.jwDockSetButton(A,z,x,y)),u}}(w,v),show:function(){return w.callInternal("jwDockShow"),v},hide:function(){return w.callInternal("jwDockHide"),v},onShow:function(x){return w.componentListener("dock",b.api.events.JWPLAYER_COMPONENT_SHOW,x),v},onHide:function(x){return w.componentListener("dock",b.api.events.JWPLAYER_COMPONENT_HIDE,x),v}}):"controlbar"==u?b.utils.extend(v,{show:function(){return w.callInternal("jwControlbarShow"),v},hide:function(){return w.callInternal("jwControlbarHide"),v},onShow:function(x){return w.componentListener("controlbar",b.api.events.JWPLAYER_COMPONENT_SHOW,x),v},onHide:function(x){return w.componentListener("controlbar",b.api.events.JWPLAYER_COMPONENT_HIDE,x),v}}):"display"==u?b.utils.extend(v,{show:function(){return w.callInternal("jwDisplayShow"),v},hide:function(){return w.callInternal("jwDisplayHide"),v},onShow:function(x){return w.componentListener("display",b.api.events.JWPLAYER_COMPONENT_SHOW,x),v},onHide:function(x){return w.componentListener("display",b.api.events.JWPLAYER_COMPONENT_HIDE,x),v}}):this.plugins[u]},this.callback=function(u){if(j[u])return j[u]()},this.getDuration=function(){return this.callInternal("jwGetDuration")},this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")},this.getHeight=function(){return this.callInternal("jwGetHeight")},this.getLockState=function(){return this.callInternal("jwGetLockState")},this.getMeta=function(){return this.getItemMeta()},this.getMute=function(){return this.callInternal("jwGetMute")},this.getPlaylist=function(){var v=this.callInternal("jwGetPlaylist");"flash"==this.renderingMode&&b.utils.deepReplaceKeyName(v,["__dot__","__spc__","__dsh__"],["."," ","-"]);for(var u=0;u<v.length;u++)b.utils.exists(v[u].index)||(v[u].index=u);return v},this.getPlaylistItem=function(u){return b.utils.exists(u)||(u=this.getCurrentItem()),this.getPlaylist()[u]},this.getPosition=function(){return this.callInternal("jwGetPosition")},this.getRenderingMode=function(){return this.renderingMode},this.getState=function(){return this.callInternal("jwGetState")},this.getVolume=function(){return this.callInternal("jwGetVolume")},this.getWidth=function(){return this.callInternal("jwGetWidth")},this.setFullscreen=function(u){return b.utils.exists(u)?this.callInternal("jwSetFullscreen",u):this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen")),this},this.setMute=function(u){return b.utils.exists(u)?this.callInternal("jwSetMute",u):this.callInternal("jwSetMute",!this.callInternal("jwGetMute")),this},this.lock=function(){return this},this.unlock=function(){return this},this.load=function(u){return this.callInternal("jwLoad",u),this},this.playlistItem=function(u){return this.callInternal("jwPlaylistItem",u),this},this.playlistPrev=function(){return this.callInternal("jwPlaylistPrev"),this},this.playlistNext=function(){return this.callInternal("jwPlaylistNext"),this},this.resize=function(v,u){var w;return"html5"==this.renderingMode?g.jwResize(v,u):(this.container.width=v,this.container.height=u,(w=document.getElementById(this.id+"_wrapper"))&&(w.style.width=v+"px",w.style.height=u+"px")),this},this.play=function(u){return void 0===u?(u=this.getState())==b.api.events.state.PLAYING||u==b.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay"):this.callInternal("jwPlay",u),this},this.pause=function(u){return void 0===u?(u=this.getState())==b.api.events.state.PLAYING||u==b.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay"):this.callInternal("jwPause",u),this},this.stop=function(){return this.callInternal("jwStop"),this},this.seek=function(u){return this.callInternal("jwSeek",u),this},this.setVolume=function(u){return this.callInternal("jwSetVolume",u),this},this.loadInstream=function(v,u){return r=new b.api.instream(this,g,v,u)},this.onBufferChange=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER,u)},this.onBufferFull=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,u)},this.onError=function(u){return this.eventListener(b.api.events.JWPLAYER_ERROR,u)},this.onFullscreen=function(u){return this.eventListener(b.api.events.JWPLAYER_FULLSCREEN,u)},this.onMeta=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_META,u)},this.onMute=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_MUTE,u)},this.onPlaylist=function(u){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,u)},this.onPlaylistItem=function(u){return this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,u)},this.onReady=function(u){return this.eventListener(b.api.events.API_READY,u)},this.onResize=function(u){return this.eventListener(b.api.events.JWPLAYER_RESIZE,u)},this.onComplete=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,u)},this.onSeek=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_SEEK,u)},this.onTime=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_TIME,u)},this.onVolume=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_VOLUME,u)},this.onBeforePlay=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BEFOREPLAY,u)},this.onBeforeComplete=function(u){return this.eventListener(b.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,u)},this.onBuffer=function(u){return this.stateListener(b.api.events.state.BUFFERING,u)},this.onPause=function(u){return this.stateListener(b.api.events.state.PAUSED,u)},this.onPlay=function(u){return this.stateListener(b.api.events.state.PLAYING,u)},this.onIdle=function(u){return this.stateListener(b.api.events.state.IDLE,u)},this.remove=function(){if(!k)throw"Cannot call remove() before player is ready";q(this)},this.setup=function(v){if(b.embed){var u=this.id;q(this);var w=b(u);return w.config=v,new b.embed(w)}return this},this.registerPlugin=function(w,v,u){b.plugins.registerPlugin(w,v,u)},this.setPlayer=function(u,v){g=u,this.renderingMode=v},this.stateListener=function(u,v){return t[u]||(t[u]=[],this.eventListener(b.api.events.JWPLAYER_PLAYER_STATE,function(u){return function(w){var v=w.newstate,y=w.oldstate;if(v==u){var x=t[v];if(x)for(var z=0;z<x.length;z++)"function"==typeof x[z]&&x[z].call(this,{oldstate:y,newstate:v})}}}(u))),t[u].push(v),this},this.detachMedia=function(){if("html5"==this.renderingMode)return this.callInternal("jwDetachMedia")},this.attachMedia=function(){if("html5"==this.renderingMode)return this.callInternal("jwAttachMedia")},this.componentListener=function(u,v,w){return p[u]||(p[u]={}),p[u][v]||(p[u][v]=[],this.eventListener(v,function(u,v){return function(x){if(u==x.component){var w=p[u][v];if(w)for(var y=0;y<w.length;y++)"function"==typeof w[y]&&w[y].call(this,x)}}}(u,v))),p[u][v].push(w),this},this.addInternalListener=function(u,v){try{u.jwAddEventListener(v,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+v+'", dat); }')}catch(w){b.utils.log("Could not add internal listener")}},this.eventListener=function(u,v){return m[u]||(m[u]=[],g&&k&&this.addInternalListener(g,u)),m[u].push(v),this},this.dispatchEvent=function(w){if(m[w])for(var v=_utils.translateEventResponse(w,arguments[1]),u=0;u<m[w].length;u++)"function"==typeof m[w][u]&&m[w][u].call(this,v)},this.dispatchInstreamEvent=function(u){r&&r.dispatchEvent(u,arguments)},this.callInternal=function(){if(k){for(var w=arguments[0],u=[],v=1;v<arguments.length;v++)u.push(arguments[v]);return void 0!==g&&"function"==typeof g[w]?2==u.length?g[w](u[0],u[1]):1==u.length?g[w](u[0]):g[w]():null}h.push(arguments)},this.playerReady=function(v){for(var u in k=!0,g||this.setPlayer(document.getElementById(v.id)),this.container=document.getElementById(this.id),m)this.addInternalListener(g,u);for(this.eventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,function(w){s={}}),this.eventListener(b.api.events.JWPLAYER_MEDIA_META,function(w){b.utils.extend(s,w.metadata)}),this.dispatchEvent(b.api.events.API_READY);0<h.length;)this.callInternal.apply(this,h.shift())},this.getItemMeta=function(){return s},this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")},this},b.api.selectPlayer=function(d){var c;if(b.utils.exists(d)||(d=0),d.nodeType?c=d:"string"==typeof d&&(c=document.getElementById(d)),c){var e=b.api.playerById(c.id);return e||b.api.addPlayer(new b.api(c))}return"number"==typeof d?b.getPlayers()[d]:null},b.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"},b.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},b.api.playerById=function(d){for(var c=0;c<a.length;c++)if(a[c].id==d)return a[c];return null},b.api.addPlayer=function(c){for(var d=0;d<a.length;d++)if(a[d]==c)return c;return a.push(c),c},b.api.destroyPlayer=function(h,d){for(var g=-1,l=0;l<a.length;l++)a[l].id!=h||(g=l);if(0<=g){try{a[g].callInternal("jwDestroy")}catch(k){}var j,f,c=document.getElementById(a[g].id);document.getElementById(a[g].id+"_wrapper")&&(c=document.getElementById(a[g].id+"_wrapper")),c&&(d?b.utils.setOuterHTML(c,d):(j=document.createElement("div"),f=c.id,c.id.indexOf("_wrapper")==c.id.length-8&&(newID=c.id.substring(0,c.id.length-8)),j.setAttribute("id",f),c.parentNode.replaceChild(j,c))),a.splice(g,1)}return null},b.getPlayers=function(){return a.slice(0)}}(jwplayer),_userPlayerReady="function"==typeof playerReady?playerReady:void 0,playerReady=function(b){var a=jwplayer.api.playerById(b.id);a?a.playerReady(b):jwplayer.api.selectPlayer(b.id).playerReady(b),_userPlayerReady&&_userPlayerReady.call(this,b)},function(a){a.api.instream=function(c,j,n,q){var h=c,b=j,e={},p={};function d(r,s){return e[r]||(e[r]=[],function(s){b.jwInstreamAddEventListener(s,'function(dat) { jwplayer("'+h.id+'").dispatchInstreamEvent("'+s+'", dat); }')}(r)),e[r].push(s),this}function o(r,s){return p[r]||(p[r]=[],d(a.api.events.JWPLAYER_PLAYER_STATE,function(r){return function(t){var s=t.newstate,v=t.oldstate;if(s==r){var u=p[s];if(u)for(var w=0;w<u.length;w++)"function"==typeof u[w]&&u[w].call(this,{oldstate:v,newstate:s,type:t.type})}}}(r))),p[r].push(s),this}this.dispatchEvent=function(u,t){if(e[u])for(var s=_utils.translateEventResponse(u,t[1]),r=0;r<e[u].length;r++)"function"==typeof e[u][r]&&e[u][r].call(this,s)},this.onError=function(r){return d(a.api.events.JWPLAYER_ERROR,r)},this.onFullscreen=function(r){return d(a.api.events.JWPLAYER_FULLSCREEN,r)},this.onMeta=function(r){return d(a.api.events.JWPLAYER_MEDIA_META,r)},this.onMute=function(r){return d(a.api.events.JWPLAYER_MEDIA_MUTE,r)},this.onComplete=function(r){return d(a.api.events.JWPLAYER_MEDIA_COMPLETE,r)},this.onSeek=function(r){return d(a.api.events.JWPLAYER_MEDIA_SEEK,r)},this.onTime=function(r){return d(a.api.events.JWPLAYER_MEDIA_TIME,r)},this.onVolume=function(r){return d(a.api.events.JWPLAYER_MEDIA_VOLUME,r)},this.onBuffer=function(r){return o(a.api.events.state.BUFFERING,r)},this.onPause=function(r){return o(a.api.events.state.PAUSED,r)},this.onPlay=function(r){return o(a.api.events.state.PLAYING,r)},this.onIdle=function(r){return o(a.api.events.state.IDLE,r)},this.onInstreamClick=function(r){return d(a.api.events.JWPLAYER_INSTREAM_CLICK,r)},this.onInstreamDestroyed=function(r){return d(a.api.events.JWPLAYER_INSTREAM_DESTROYED,r)},this.play=function(r){b.jwInstreamPlay(r)},this.pause=function(r){b.jwInstreamPause(r)},this.seek=function(r){b.jwInstreamSeek(r)},this.destroy=function(){b.jwInstreamDestroy()},this.getState=function(){return b.jwInstreamGetState()},this.getDuration=function(){return b.jwInstreamGetDuration()},this.getPosition=function(){return b.jwInstreamGetPosition()},h.callInternal("jwLoadInstream",n,q)}}(jwplayer),function(a){var c=a.utils;a.embed=function(h){var g=c.mediaparser.parseMedia(h.container),f=new a.embed.config(c.extend({width:400,height:300,components:{controlbar:{position:"over"}}},g,h.config),this),j=a.plugins.loadPlugins(h.id,f.plugins);function e(){if(j.getStatus()==c.loaderstatus.COMPLETE){for(var n=0;n<f.modes.length;n++)if(f.modes[n].type&&a.embed[f.modes[n].type]){var p=f.modes[n].config,t=f;if(p){t=c.extend(c.clone(f),p);for(var s=["file","levels","playlist"],m=0;m<s.length;m++){var q=s[m];if(c.exists(p[q]))for(var o,l=0;l<s.length;l++){l!=m&&(o=s[l],c.exists(t[o])&&!c.exists(p[o])&&delete t[o])}}}var r=new a.embed[f.modes[n].type](document.getElementById(h.id),f.modes[n],t,j,h);if(r.supportsConfig())return r.embed(),function(n,m){for(var l in m)"function"==typeof n[l]&&n[l].call(n,m[l])}(h,f.events),h}c.log("No suitable players found"),new a.embed.logo(c.extend({hide:!0},f.components.logo),"none",h.id)}}return j.addEventListener(a.events.COMPLETE,e),j.addEventListener(a.events.ERROR,e),j.load(),h},function b(){if(!document.body)return setTimeout(b,15);for(var d=c.selectors.getElementsByTagAndClass("video","jwplayer"),e=0;e<d.length;e++){var f=d[e];""==f.id&&(f.id="jwplayer_"+Math.round(1e5*Math.random())),a(f.id).setup({})}}()}(jwplayer),function(e){var k=e.utils;function h(m){var l=[{type:"flash",src:m||"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];return k.isAndroid()&&(l[0]=l.splice(1,1,l[0])[0]),l}var a={players:"modes",autoplay:"autostart"};function j(l){return"string"==typeof l&&(parseInt(l).toString()==l||-1<l.toLowerCase().indexOf("px"))?parseInt(l):l}var g=["playlist","dock","controlbar","logo","display"];function d(p,o,n,l){"object"!=k.typeOf(p[o])&&(p[o]={});var q,m=p[o][n];"object"!=k.typeOf(m)&&(p[o][n]=m={}),l&&("plugins"==o?(q=k.getPluginName(n),m[l]=p[q+"."+l],delete p[q+"."+l]):(m[l]=p[n+"."+l],delete p[n+"."+l]))}e.embed.deserialize=function(m){var p,o,n=function(l){var o={};switch(k.typeOf(l.plugins)){case"object":for(var n in l.plugins)o[k.getPluginName(n)]=n;break;case"string":for(var p=l.plugins.split(","),m=0;m<p.length;m++)o[k.getPluginName(p[m])]=p[m]}return o}(m);for(var l in n)d(m,"plugins",n[l]);for(var q in m){-1<q.indexOf(".")&&(o=(p=q.split("."))[0],q=p[1],k.isInArray(g,o)?d(m,"components",o,q):n[o]&&d(m,"plugins",n[o],q))}return m},e.embed.config=function(l,v){var s,u=k.extend({},l);if(!function(m){return m instanceof Array||"object"==typeof m&&!m.position&&!m.size}(u.playlist)||(s=u.playlist,delete u.playlist),(u=e.embed.deserialize(u)).height=j(u.height),u.width=j(u.width),"string"==typeof u.plugins){var m=u.plugins.split(",");"object"!=typeof u.plugins&&(u.plugins={});for(var q=0;q<m.length;q++){var r=k.getPluginName(m[q]);"object"==typeof u[r]?(u.plugins[m[q]]=u[r],delete u[r]):u.plugins[m[q]]={}}}for(var n,t=0;t<g.length;t++){var p=g[t];k.exists(u[p])&&("object"!=typeof u[p]?(u.components[p]||(u.components[p]={}),"logo"==p?u.components[p].file=u[p]:u.components[p].position=u[p]):(u.components[p]||(u.components[p]={}),k.extend(u.components[p],u[p])),delete u[p]),void 0!==u[p+"size"]&&(u.components[p]||(u.components[p]={}),u.components[p].size=u[p+"size"],delete u[p+"size"])}for(var o in void 0!==u.icons&&(u.components.display||(u.components.display={}),u.components.display.icons=u.icons,delete u.icons),a)u[o]&&(u[a[o]]||(u[a[o]]=u[o]),delete u[o]);return u.flashplayer&&!u.modes?(n=h(u.flashplayer),delete u.flashplayer):u.modes?("string"==typeof u.modes?n=h(u.modes):u.modes instanceof Array?n=u.modes:"object"==typeof u.modes&&u.modes.type&&(n=[u.modes]),delete u.modes):n=h(),u.modes=n,s&&(u.playlist=s),u}}(jwplayer),function(a){a.embed.download=function(c,g,b,d,f){function e(j,l,h){if(h)return!1;if(l&&-1<["image","sound","youtube","http"].toString().indexOf(l))return!0;if(!l||l&&"video"==l){var m=a.utils.extension(j);if(m&&a.utils.extensionmap[m])return!0}return!1}this.embed=function(){a.utils.extend({},b);var q={},j=b.width?b.width:480;"number"!=typeof j&&(j=parseInt(j,10));var u,o,n,m=b.height?b.height:320;"number"!=typeof m&&(m=parseInt(m,10));var s={};b.playlist&&b.playlist.length?(s.file=b.playlist[0].file,o=b.playlist[0].image,s.levels=b.playlist[0].levels):(s.file=b.file,o=b.image,s.levels=b.levels),s.file?u=s.file:s.levels&&s.levels.length&&(u=s.levels[0].file);function h(v,x,y){var w=document.createElement(v);return w.id=y||c.id+"_jwplayer_"+x,a.utils.css(w,l[x].style),w}var l={display:{style:{cursor:n=u?"pointer":"auto",width:j,height:m,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:n,position:"absolute",display:u?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:n,position:"absolute",display:u?"block":"none",top:(m-50)/2,left:(j-50)/2,border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:j,height:m,display:o?"block":"none",position:"absolute",cursor:n,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};q.display=h("a","display",c.id),u&&q.display.setAttribute("href",a.utils.getAbsolutePath(u)),q.display_image=h("img","display_image"),q.display_image.setAttribute("alt","Click to download..."),o&&q.display_image.setAttribute("src",a.utils.getAbsolutePath(o)),q.display_icon=h("div","display_icon"),q.display_iconBackground=h("div","display_iconBackground"),q.display.appendChild(q.display_image),q.display_iconBackground.appendChild(q.display_icon),q.display.appendChild(q.display_iconBackground),_css=a.utils.css,_hide=function(v){_css(v,{display:"none"})},q.display_image.onerror=function(v){_hide(q.display_image)},q.display_image.onload=function(v){_imageWidth=q.display_image.naturalWidth,_imageHeight=q.display_image.naturalHeight,a.utils.stretch(a.utils.stretching.UNIFORM,q.display_image,j,m,_imageWidth,_imageHeight)},c.parentNode.replaceChild(q.display,c);b.plugins&&b.plugins.logo&&b.plugins.logo;q.display.appendChild(new a.embed.logo(b.components.logo,"download",c.id)),f.container=document.getElementById(f.id),f.setPlayer(q.display,"download")},this.supportsConfig=function(){if(!b)return!0;var j=a.utils.getFirstPlaylistItemFromConfig(b);if(void 0===j.file&&void 0===j.levels)return!0;if(j.file)return e(j.file,j.provider,j.playlistfile);if(j.levels&&j.levels.length)for(var h=0;h<j.levels.length;h++)if(j.levels[h].file&&e(j.levels[h].file,j.provider,j.playlistfile))return!0}}}(jwplayer),function(a){a.embed.flash=function(f,g,l,e,j){function m(o,n,p){var q=document.createElement("param");q.setAttribute("name",n),q.setAttribute("value",p),o.appendChild(q)}function k(o,p,n){return function(q){n&&document.getElementById(j.id+"_wrapper").appendChild(p);var s=document.getElementById(j.id).getPluginConfig("display");o.resize(s.width,s.height);var r={left:s.x,top:s.y};a.utils.css(p,r)}}function h(q,p){if(q[p]){var s=q[p];for(var o in s){var n=s[o];if("string"==typeof n)q[o]||(q[o]=n);else for(var r in n)q[o+"."+r]||(q[o+"."+r]=n[r])}delete q[p]}}function c(p){var n=p.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var o in p)"object"==typeof p[o]?n+=o+"="+encodeURIComponent("[[JSON]]"+a.utils.strings.jsonToString(p[o]))+"&":n+=o+"="+encodeURIComponent(p[o])+"&";return n.substring(0,n.length-1)}this.embed=function(){var A;l.id=j.id;var r=a.utils.extend({},l),o=r.width,y=r.height;f.id+"_wrapper"==f.parentNode.id?A=document.getElementById(f.id+"_wrapper"):((A=document.createElement("div")).id=f.id+"_wrapper",a.utils.wrap(f,A),a.utils.css(A,{position:"relative",width:o,height:y}));var p=e.setupPlugins(j,r,k);0<p.length?a.utils.extend(r,function(q){if(!q)return{};var t={},s=[];for(var n in q){var p=a.utils.getPluginName(n),o=q[n];for(var r in s.push(n),o)t[p+"."+r]=o[r]}return t.plugins=s.join(","),t}(p.plugins)):delete r.plugins;for(var s=["height","width","modes","events"],v=0;v<s.length;v++)delete r[s[v]];var q="opaque";r.wmode&&(q=r.wmode),h(r,"components"),h(r,"providers"),void 0!==r["dock.position"]&&"false"==r["dock.position"].toString().toLowerCase()&&(r.dock=r["dock.position"],delete r["dock.position"]);var x=a.utils.getCookies();for(var n in x)void 0===r[n]&&(r[n]=x[n]);var w,t,u=a.utils.isIE()?(w='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="#000000" width="100%" height="100%" id="'+f.id+'" name="'+f.id+'" tabindex=0"">',w+='<param name="movie" value="'+g.src+'">',w+='<param name="allowfullscreen" value="true">',w+='<param name="allowscriptaccess" value="always">',w+='<param name="seamlesstabbing" value="true">',w+='<param name="wmode" value="'+q+'">',w+='<param name="flashvars" value="'+c(r)+'">',w+="</object>",a.utils.setOuterHTML(f,w),document.getElementById(f.id)):((t=document.createElement("object")).setAttribute("type","application/x-shockwave-flash"),t.setAttribute("data",g.src),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.setAttribute("bgcolor","#000000"),t.setAttribute("id",f.id),t.setAttribute("name",f.id),t.setAttribute("tabindex",0),m(t,"allowfullscreen","true"),m(t,"allowscriptaccess","always"),m(t,"seamlesstabbing","true"),m(t,"wmode",q),m(t,"flashvars",c(r)),f.parentNode.replaceChild(t,f),t);j.container=u,j.setPlayer(u,"flash")},this.supportsConfig=function(){if(a.utils.hasFlash()){if(!l)return!0;var o=a.utils.getFirstPlaylistItemFromConfig(l);if(void 0===o.file&&void 0===o.levels)return!0;if(o.file)return flashCanPlay(o.file,o.provider);if(o.levels&&o.levels.length)for(var n=0;n<o.levels.length;n++)if(o.levels[n].file&&flashCanPlay(o.levels[n].file,o.provider))return!0}return!1},flashCanPlay=function(n,p){if(p&&["video","http","sound","image"].toString().indexOf(p)<0)return!0;var q=a.utils.extension(n);return!q||!(a.utils.exists(a.utils.extensionmap[q])&&!a.utils.exists(a.utils.extensionmap[q].flash))}}}(jwplayer),function(a){a.embed.html5=function(c,g,b,d,f){function e(j,k,h){return function(l){var m=document.getElementById(c.id+"_displayarea");h&&m.appendChild(k),j.resize(m.clientWidth,m.clientHeight),k.left=m.style.left,k.top=m.style.top}}this.embed=function(){if(!a.html5)return null;d.setupPlugins(f,b,e),c.innerHTML="";for(var j=a.utils.extend({screencolor:"0x000000"},b),h=["plugins","modes","events"],k=0;k<h.length;k++)delete j[h[k]];j.levels&&!j.sources&&(j.sources=b.levels),j.skin&&0<j.skin.toLowerCase().indexOf(".zip")&&(j.skin=j.skin.replace(/\.zip/i,".xml"));var l=new(a.html5(c).setup)(j);f.container=document.getElementById(f.id),f.setPlayer(l,"html5")},this.supportsConfig=function(){if(a.vid.canPlayType){if(!b)return!0;var j=a.utils.getFirstPlaylistItemFromConfig(b);if(void 0===j.file&&void 0===j.levels)return!0;if(j.file)return html5CanPlay(a.vid,j.file,j.provider,j.playlistfile);if(j.levels&&j.levels.length)for(var h=0;h<j.levels.length;h++)if(j.levels[h].file&&html5CanPlay(a.vid,j.levels[h].file,j.provider,j.playlistfile))return!0}return!1},html5CanPlay=function(k,j,l,h){if(h)return!1;if(l&&"youtube"==l)return!0;if(l&&"video"!=l&&"http"!=l&&"sound"!=l)return!1;if(null!==navigator.userAgent.match(/BlackBerry/i))return!1;var m=a.utils.extension(j);return!a.utils.exists(m)||!a.utils.exists(a.utils.extensionmap[m])||!!a.utils.exists(a.utils.extensionmap[m].html5)&&(!(!a.utils.isLegacyAndroid()||!m.match(/m4v|mp4/))||browserCanPlay(k,a.utils.extensionmap[m].html5))},browserCanPlay=function(j,h){return!h||(!!j.canPlayType(h)||!("audio/mp3"!=h||!navigator.userAgent.match(/safari/i))&&j.canPlayType("audio/mpeg"))}}}(jwplayer),function(a){a.embed.logo=function(m,l,d){var b,h,j={prefix:"http://l.longtailvideo.com/"+l+"/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!1,position:"bottom-left"};if(_css=a.utils.css,function(){{var q;j.prefix&&(q=a.version.split(/\W/).splice(0,2).join("/"),j.prefix.indexOf(q)<0&&(j.prefix+=q+"/"))}h=a.utils.extend({},j)}(),function(){if((b=document.createElement("img")).id=d+"_jwplayer_logo",b.style.display="none",b.onload=function(q){_css(b,function(){var s={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};s.display=h.hide?"none":"block";var r=h.position.toLowerCase().split("-");for(var q in r)s[r[q]]=h.margin;return s}()),e()},!h.file)return;0===h.file.indexOf("http://")?b.src=h.file:b.src=h.prefix+h.file}(),function(){h.link?(b.onmouseover=g,b.onmouseout=e,b.onclick=n):this.mouseEnabled=!1}(),h.file)return b;function n(q){void 0!==q&&(q.preventDefault(),q.stopPropagation()),h.link&&window.open(h.link,h.linktarget)}function e(q){h.link&&(b.style.opacity=h.out)}function g(q){h.hide&&(b.style.opacity=h.over)}}}(jwplayer),function(a){a.html5=function(b){var c=b;return this.setup=function(d){return a.utils.extend(this,new a.html5.api(c,d)),this},this}}(jwplayer),function(a){var d=a.utils,b=d.css,c=d.isIOS();a.html5.view=function(n,H,h){var R,g,t,o,F,O,A,N,S,u,r,m=n,y=H,j=h,E=!1,x=!1;function s(U){x=j.fullscreen}function p(U){if(!S){switch(U.newstate){case a.api.events.state.PLAYING:j.getMedia()&&j.getMedia().hasChrome()&&(o.style.display="none");break;default:o.style.display="block"}l()}}function v(V){var X=j.getMedia()?j.getMedia().getDisplayElement():null;if(d.exists(X)){O!=X&&(O&&O.parentNode&&O.parentNode.replaceChild(X,O),O=X);for(var U=0;U<j.plugins.order.length;U++){var W=j.plugins.order[U];d.exists(j.plugins.object[W].getDisplayElement)&&(j.plugins.config[W].currentPosition=j.plugins.config[W].position)}}G(j.width,j.height)}function M(U){switch(U.keyCode){case 27:m.jwGetFullscreen()&&m.jwSetFullscreen(!1);break;case 32:m.jwGetState()!=a.api.events.state.IDLE&&m.jwGetState()!=a.api.events.state.PAUSED?m.jwPause():m.jwPlay()}}function G(U,ad){if("none"!=R.style.display){var X=[].concat(j.plugins.order);if(X.reverse(),F=X.length+2,x&&B())try{j.fullscreen&&!j.getMedia().getDisplayElement().webkitDisplayingFullscreen&&(j.fullscreen=!1)}catch(aa){}if(j.fullscreen)B()||c||w(e,X,!0);else{t=ad,g="string"==typeof(g=U)&&0<U.indexOf("%")?d.getElementWidth(d.parentNode(R))*parseInt(U.replace("%"),"")/100:U,t="string"==typeof ad&&0<ad.indexOf("%")?d.getElementHeight(d.parentNode(R))*parseInt(ad.replace("%"),"")/100:ad;var Y={top:0,bottom:0,left:0,right:0,width:g,height:t,position:"absolute"};b(o,Y);var ab,ae={};try{ab=j.plugins.object.display.getDisplayElement()}catch(aa){}ab&&(ae.width=d.parseDimension(ab.style.width),ae.height=d.parseDimension(ab.style.height));var ac=d.extend({},Y,ae,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});b(_instreamArea,ac),b(R,{height:t,width:g});var W,V,Z=w(I,X);0<Z.length&&(F+=Z.length,W=Z.indexOf("playlist"),V=Z.indexOf("controlbar"),0<=W&&0<=V&&(Z[W]=Z.splice(V,1,Z[W])[0]),w(q,Z,!0)),A=d.getElementWidth(o),N=d.getElementHeight(o)}l()}}function w(ab,X,Y){for(var Z=[],W=r=0;W<X.length;W++){var U,V,ac,aa=X[W];d.exists(j.plugins.object[aa].getDisplayElement)&&(j.plugins.config[aa].currentPosition!=a.html5.view.positions.NONE?(U=ab(aa,F--))?(V=U.width,ac=U.height,Y&&(delete U.width,delete U.height),b(j.plugins.object[aa].getDisplayElement(),U),j.plugins.object[aa].resize(V,ac)):Z.push(aa):b(j.plugins.object[aa].getDisplayElement(),{display:"none"}))}return Z}function I(V,W){if(d.exists(j.plugins.object[V].getDisplayElement)&&j.plugins.config[V].position&&function(U){return-1<[a.html5.view.positions.TOP,a.html5.view.positions.RIGHT,a.html5.view.positions.BOTTOM,a.html5.view.positions.LEFT].toString().indexOf(U.toUpperCase())}(j.plugins.config[V].position)){d.exists(j.plugins.object[V].getDisplayElement().parentNode)||R.appendChild(j.plugins.object[V].getDisplayElement());var U=z(V);return U.zIndex=W,U}return!1}function q(U,V){return d.exists(j.plugins.object[U].getDisplayElement().parentNode)||o.appendChild(j.plugins.object[U].getDisplayElement()),{position:"absolute",width:d.getElementWidth(o)-d.parseDimension(o.style.right),height:d.getElementHeight(o)-d.parseDimension(o.style.bottom),zIndex:V}}function e(U,V){return{position:"fixed",width:j.width,height:j.height,zIndex:V}}this.setup=function(){var U;j&&j.getMedia()&&(y=j.getMedia().getDisplayElement()),(R=document.createElement("div")).id=y.id,R.className=y.className,_videowrapper=document.createElement("div"),_videowrapper.id=R.id+"_video_wrapper",y.id=R.id+"_video",b(R,{position:"relative",height:j.height,width:j.width,padding:0,backgroundColor:function(){if(m.skin.getComponentSettings("display")&&m.skin.getComponentSettings("display").backgroundcolor)return m.skin.getComponentSettings("display").backgroundcolor;return parseInt("000000",16)}(),zIndex:0}),b(y,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"}),b(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0}),d.wrap(y,R),d.wrap(y,_videowrapper),(o=document.createElement("div")).id=R.id+"_displayarea",R.appendChild(o),_instreamArea=document.createElement("div"),_instreamArea.id=R.id+"_instreamarea",b(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"}),R.appendChild(_instreamArea),function(){for(var U=0;U<j.plugins.order.length;U++){var V=j.plugins.order[U];d.exists(j.plugins.object[V].getDisplayElement)&&(j.plugins.object[V].height=d.parseDimension(j.plugins.object[V].getDisplayElement().style.height),j.plugins.object[V].width=d.parseDimension(j.plugins.object[V].getDisplayElement().style.width),j.plugins.config[V].currentPosition=j.plugins.config[V].position)}v()}(),m.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,p),m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_LOADED,v),m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BEFOREPLAY,s),m.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_META,function(V){l()}),d.exists(window.onresize)&&(U=window.onresize),window.onresize=function(V){if(d.exists(U))try{U(V)}catch(X){}var W;m.jwGetFullscreen()?B()||(W=d.getBoundingClientRect(document.body),j.width=Math.abs(W.left)+Math.abs(W.right),j.height=window.innerHeight,G(j.width,j.height)):G(j.width,j.height)}};var J,k,Q,l=this.resizeMedia=function(){o.style.position="absolute";var U,W=j.getMedia()?j.getMedia().getDisplayElement():u;if(W)if(W&&"video"==W.tagName.toLowerCase()){if(!W.videoWidth||!W.videoHeight)return W.style.width=o.style.width,void(W.style.height=o.style.height);W.style.position="absolute",d.fadeTo(W,1,.25),W.parentNode&&(W.parentNode.style.left=o.style.left,W.parentNode.style.top=o.style.top),j.fullscreen&&m.jwGetStretching()==a.utils.stretching.EXACTFIT&&!d.isMobile()?(U=document.createElement("div"),d.stretch(a.utils.stretching.UNIFORM,U,d.getElementWidth(o),d.getElementHeight(o),A,N),d.stretch(a.utils.stretching.EXACTFIT,W,d.parseDimension(U.style.width),d.parseDimension(U.style.height),W.videoWidth?W.videoWidth:400,W.videoHeight?W.videoHeight:300),b(W,{left:U.style.left,top:U.style.top})):c||d.stretch(m.jwGetStretching(),W,d.getElementWidth(o),d.getElementHeight(o),W.videoWidth?W.videoWidth:400,W.videoHeight?W.videoHeight:300)}else{var V=j.plugins.object.display.getDisplayElement();V?j.getMedia().resize(d.parseDimension(V.style.width),d.parseDimension(V.style.height)):j.getMedia().resize(d.parseDimension(o.style.width),d.parseDimension(o.style.height))}},z=this.getComponentPosition=function(V){var W={position:"absolute",margin:0,padding:0,top:null},U=j.plugins.config[V].currentPosition.toLowerCase();switch(U.toUpperCase()){case a.html5.view.positions.TOP:W.top=d.parseDimension(o.style.top),W.left=d.parseDimension(o.style.left),W.width=d.getElementWidth(o)-d.parseDimension(o.style.left)-d.parseDimension(o.style.right),W.height=j.plugins.object[V].height,o.style[U]=d.parseDimension(o.style[U])+j.plugins.object[V].height+"px",o.style.height=d.getElementHeight(o)-W.height+"px";break;case a.html5.view.positions.RIGHT:W.top=d.parseDimension(o.style.top),W.right=d.parseDimension(o.style.right),W.width=j.plugins.object[V].width,W.height=d.getElementHeight(o)-d.parseDimension(o.style.top)-d.parseDimension(o.style.bottom),o.style.width=d.getElementWidth(o)-W.width+"px";break;case a.html5.view.positions.BOTTOM:W.left=d.parseDimension(o.style.left),W.width=d.getElementWidth(o)-d.parseDimension(o.style.left)-d.parseDimension(o.style.right),W.height=j.plugins.object[V].height,W.bottom=d.parseDimension(o.style.bottom+r),r+=W.height,o.style.height=d.getElementHeight(o)-W.height+"px";break;case a.html5.view.positions.LEFT:W.top=d.parseDimension(o.style.top),W.left=d.parseDimension(o.style.left),W.width=j.plugins.object[V].width,W.height=d.getElementHeight(o)-d.parseDimension(o.style.top)-d.parseDimension(o.style.bottom),o.style[U]=d.parseDimension(o.style[U])+j.plugins.object[V].width+"px",o.style.width=d.getElementWidth(o)-W.width+"px"}return W};this.resize=G;this.fullscreen=function(W){if(!c){var Y;try{Y=j.getMedia().getDisplayElement()}catch(X){}W&&(k=j.width,Q=j.height);var U,aa={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483e3},Z={position:"relative",height:k,width:Q,zIndex:0};if(B()&&Y&&Y.webkitSupportsFullscreen){if(W&&!Y.webkitDisplayingFullscreen)try{b(Y,aa),d.transform(Y),J=o.style.display,o.style.display="none",Y.webkitEnterFullscreen()}catch(V){}else if(!W){if(b(Y,Z),l(),Y.webkitDisplayingFullscreen)try{Y.webkitExitFullscreen()}catch(V){}o.style.display=J}E=!1}else{E=W?(document.onkeydown=M,clearInterval(void 0),U=d.getBoundingClientRect(document.body),j.width=Math.abs(U.left)+Math.abs(U.right),j.height=window.innerHeight,b(R,aa),aa.zIndex=1,j.getMedia()&&j.getMedia().getDisplayElement()&&b(j.getMedia().getDisplayElement(),aa),aa.zIndex=2,b(o,aa),!0):(document.onkeydown="",j.width=g,j.height=t,b(R,Z),!1),G(j.width,j.height)}}};function B(){return!!(m.jwGetState()!=a.api.events.state.IDLE&&!E&&j.getMedia()&&j.getMedia().getDisplayElement()&&j.getMedia().getDisplayElement().webkitSupportsFullscreen&&d.useNativeFullscreen())}this.setupInstream=function(U,V){d.css(_instreamArea,{display:"block",position:"absolute"}),o.style.display="none",_instreamArea.appendChild(U),u=V,S=!0};this.destroyInstream=function(){_instreamArea.style.display="none",_instreamArea.innerHTML="",o.style.display="block",u=null,S=!1,G(j.width,j.height)}},a.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}}(jwplayer),function(a){var b={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:a.html5.view.positions.BOTTOM,idlehide:!1,hideplaylistcontrols:!1,forcenextprev:!1,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=a.utils,_css=_utils.css,_hide=function(c){_css(c,{display:"none"})},_show=function(c){_css(c,{display:"block"})},a.html5.controlbar=function(m,Y){window.controlbar=this;var ag,R,l=m,D=_utils.extend({},b,l.skin.getComponentSettings("controlbar"),Y);if(D.position!=a.html5.view.positions.NONE&&void 0!==a.html5.view.positions[D.position]){0<_utils.mapLength(l.skin.getComponentLayout("controlbar"))&&(D.layout=l.skin.getComponentLayout("controlbar"));var h,k,ah,g,f,z,ac,p,d,e,w="none",S={},q=!1,c={},Q=-1,j=!1,V=!1,G=!1,aa=new a.html5.eventdispatcher;_utils.extend(this,aa),this.getDisplayElement=function(){return ag},this.resize=function(ap,an){T(),_utils.cancelAnimation(ag),f=ap,z=an,G!=l.jwGetFullscreen()&&((G=l.jwGetFullscreen())||Z(),d=void 0);var ao=x();return J({id:l.id,duration:ah,position:k}),v({id:l.id,bufferPercent:g}),ao},this.show=function(){j&&(j=!1,_show(ag),W())},this.hide=function(){j||(j=!0,_hide(ag),ae())};var W=I(a.api.events.JWPLAYER_COMPONENT_SHOW),ae=I(a.api.events.JWPLAYER_COMPONENT_HIDE);return function(){var ap;R=0,q||(ap={height:K().height,backgroundColor:D.backgroundcolor},(ag=document.createElement("div")).id=l.id+"_jwplayer_controlbar",_css(ag,ap));var ao=l.skin.getSkinElement("controlbar","capLeft"),an=l.skin.getSkinElement("controlbar","capRight");ao&&y("capLeft","left",!1,ag),ad("background",ag,{position:"absolute",height:K().height,left:ao?ao.width:0,zIndex:0},"img"),K().src&&(S.background.src=K().src),ad("elements",ag,{position:"relative",height:K().height,zIndex:1}),an&&y("capRight","right",!1,ag)}(),function(){if(l.jwGetHeight()<=40){D.layout=_utils.clone(D.layout);for(var an=0;an<D.layout.left.elements.length;an++)"fullscreen"==D.layout.left.elements[an].name&&D.layout.left.elements.splice(an,1);for(an=0;an<D.layout.right.elements.length;an++)"fullscreen"==D.layout.right.elements[an].name&&D.layout.right.elements.splice(an,1);o()}am(D.layout.left),am(D.layout.center),am(D.layout.right)}(),r(),q=!0,l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,B),l.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,t),l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER,v),l.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,s),l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_TIME,J),l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,al),l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_VOLUME,n),l.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE,M),D.idlehide="true"==D.idlehide.toString().toLowerCase(),D.position==a.html5.view.positions.OVER&&D.idlehide?(ag.style.opacity=0,V=!0):(ag.style.opacity=1,setTimeout(function(){V=!0,W()},1)),T(),ai(),this}function K(){return ac=ac||((ac=l.skin.getSkinElement("controlbar","background"))||{width:0,height:0,src:null})}function r(){var ao=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var ap in ao){var an=ao[ap];void 0!==S[an]&&(c[an]=_utils.getBoundingClientRect(S[an]))}}function Z(an){if(!j)if(clearTimeout(p),D.position==a.html5.view.positions.OVER||l.jwGetFullscreen())switch(l.jwGetState()){case a.api.events.state.PAUSED:case a.api.events.state.IDLE:ag&&ag.style.opacity<1&&(!D.idlehide||_utils.exists(an))&&(e=!1,setTimeout(function(){e||X()},100)),D.idlehide&&(p=setTimeout(function(){A()},2e3));break;default:e=!0,an&&X(),p=setTimeout(function(){A()},2e3)}else X()}function A(){j||(ae(),1==ag.style.opacity&&(_utils.cancelAnimation(ag),_utils.fadeTo(ag,0,.1,1,0)))}function X(){j||(W(),0==ag.style.opacity&&(_utils.cancelAnimation(ag),_utils.fadeTo(ag,1,.1,0,0)))}function I(an){return function(){V&&d!=an&&(d=an,aa.sendEvent(an,{component:"controlbar",boundingRect:D.position==a.html5.view.positions.OVER||l.jwGetFullscreen()?_utils.getDimensions(ag):{x:0,y:0,width:0,height:0}}))}}function ad(ar,aq,ap,an){var ao;return q?ao=document.getElementById(ag.id+"_"+ar):(an=an||"div",ao=document.createElement(an),(S[ar]=ao).id=ag.id+"_"+ar,aq.appendChild(ao)),_utils.exists(ap)&&_css(ao,ap),ao}function am(aq,an){var ar="right"==aq.position?"right":"left",ap=_utils.extend([],aq.elements);_utils.exists(an)&&ap.reverse();for(var aq=ad(aq.position+"Group",S.elements,{float:"left",styleFloat:"left",cssFloat:"left",height:"100%"}),ao=0;ao<ap.length;ao++)!function(ar,au,aw){var ao,ap,an,ax;aw=aw||S.elements;if("divider"==ar.type)return y("divider"+R++,au,!0,aw,void 0,ar.width,ar.element);switch(ar.name){case"play":y("playButton",au,!1,aw),y("pauseButton",au,!0,aw),U("playButton","jwPlay"),U("pauseButton","jwPause");break;case"prev":y("prevButton",au,!0,aw),U("prevButton","jwPlaylistPrev");break;case"stop":y("stopButton",au,!0,aw),U("stopButton","jwStop");break;case"next":y("nextButton",au,!0,aw),U("nextButton","jwPlaylistNext");break;case"elapsed":y("elapsedText",au,!0,aw,null,null,l.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":ao=_utils.exists(l.skin.getSkinElement("controlbar","timeSliderCapLeft"))?l.skin.getSkinElement("controlbar","timeSliderCapLeft").width:0,ap=_utils.exists(l.skin.getSkinElement("controlbar","timeSliderCapRight"))?l.skin.getSkinElement("controlbar","timeSliderCapRight").width:0,ax={height:K().height,position:"relative",float:"left",styleFloat:"left",cssFloat:"left"};var at=ad("timeSlider",aw,ax);y("timeSliderCapLeft",au,!0,at,"relative"),y("timeSliderRail",au,!1,at,"relative"),y("timeSliderBuffer",au,!1,at,"absolute"),y("timeSliderProgress",au,!1,at,"absolute"),y("timeSliderThumb",au,!1,at,"absolute"),y("timeSliderCapRight",au,!0,at,"relative"),ab("time");break;case"fullscreen":y("fullscreenButton",au,!1,aw),y("normalscreenButton",au,!0,aw),U("fullscreenButton","jwSetFullscreen",!0),U("normalscreenButton","jwSetFullscreen",!1);break;case"volume":ao=_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?l.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0,ap=_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapRight"))?l.skin.getSkinElement("controlbar","volumeSliderCapRight").width:0,an=l.skin.getSkinElement("controlbar","volumeSliderRail").width+ao+ap,ax={height:K().height,position:"relative",width:an,float:"left",styleFloat:"left",cssFloat:"left"};var av=ad("volumeSlider",aw,ax);y("volumeSliderCapLeft",au,!1,av,"relative"),y("volumeSliderRail",au,!1,av,"relative"),y("volumeSliderProgress",au,!1,av,"absolute"),y("volumeSliderThumb",au,!1,av,"absolute"),y("volumeSliderCapRight",au,!1,av,"relative"),ab("volume");break;case"mute":y("muteButton",au,!1,aw),y("unmuteButton",au,!0,aw),U("muteButton","jwSetMute",!0),U("unmuteButton","jwSetMute",!1);break;case"duration":y("durationText",au,!0,aw,null,null,l.skin.getSkinElement("controlbar","durationBackground"))}}(ap[ao],ar,aq)}function y(aq,au,ao,ax,ar,an,ap){var at,ay,av,aw;(_utils.exists(l.skin.getSkinElement("controlbar",aq))||0<aq.indexOf("Text")||0===aq.indexOf("divider"))&&(at={height:"100%",position:ar||"relative",display:"block",float:"left",styleFloat:"left",cssFloat:"left"},0!==aq.indexOf("next")&&0!==aq.indexOf("prev")||!(l.jwGetPlaylist().length<2||"true"==D.hideplaylistcontrols.toString())||"true"!=D.forcenextprev.toString()&&(ao=!1,at.display="none"),0<aq.indexOf("Text")?(aq.innerhtml="00:00",at.font=D.fontsize+"px/"+(K().height+1)+"px "+D.font,at.color=D.fontcolor,at.textAlign="center",at.fontWeight=D.fontweight,at.fontStyle=D.fontstyle,at.cursor="default",ap&&(at.background="url("+ap.src+") no-repeat center",at.backgroundSize="100% "+K().height+"px"),at.padding="0 5px"):0===aq.indexOf("divider")?an?isNaN(parseInt(an))||(ay=parseInt(an)):ap?(av=l.skin.getSkinElement("controlbar",ap))&&(at.background="url("+av.src+") repeat-x center left",ay=av.width):(at.background="url("+l.skin.getSkinElement("controlbar","divider").src+") repeat-x center left",ay=l.skin.getSkinElement("controlbar","divider").width):(at.background="url("+l.skin.getSkinElement("controlbar",aq).src+") repeat-x center left",ay=l.skin.getSkinElement("controlbar",aq).width),"left"==au?ao&&0:"right"==au&&ao&&0,"undefined"==_utils.typeOf(ax)&&(ax=S.elements),at.width=ay,q?_css(S[aq],at):(aw=ad(aq,ax,at),_utils.exists(l.skin.getSkinElement("controlbar",aq+"Over"))&&(aw.onmouseover=function(az){aw.style.backgroundImage=["url(",l.skin.getSkinElement("controlbar",aq+"Over").src,")"].join("")},aw.onmouseout=function(az){aw.style.backgroundImage=["url(",l.skin.getSkinElement("controlbar",aq).src,")"].join("")}),0==aq.indexOf("divider")&&aw.setAttribute("class","divider"),aw.innerHTML="&nbsp;"))}function B(){D.hideplaylistcontrols||(1<l.jwGetPlaylist().length||"true"==D.forcenextprev.toString()?(_show(S.nextButton),_show(S.prevButton)):(_hide(S.nextButton),_hide(S.prevButton)),x(),ai())}function t(an){ah=l.jwGetPlaylist()[an.index].duration,Q=-1,J({id:l.id,duration:ah,position:0}),v({id:l.id,bufferProgress:0})}function ai(){J({id:l.id,duration:l.jwGetDuration(),position:0}),v({id:l.id,bufferProgress:0}),al({id:l.id,mute:l.jwGetMute()}),s({id:l.id,newstate:a.api.events.state.IDLE}),n({id:l.id,volume:l.jwGetVolume()})}function U(ap,aq,ao){var an;q||_utils.exists(l.skin.getSkinElement("controlbar",ap))&&(an=S[ap],_utils.exists(an)&&(_css(an,{cursor:"pointer"}),an.onmouseup="fullscreen"==aq?function(ar){ar.stopPropagation(),l.jwSetFullscreen(!l.jwGetFullscreen())}:function(ar){ar.stopPropagation(),_utils.exists(ao)?l[aq](ao):l[aq]()}))}function ab(an){var ao;q||(ao=S[an+"Slider"],_css(S.elements,{cursor:"pointer"}),_css(ao,{cursor:"pointer"}),ao.onmousedown=function(ap){w=an},ao.onmouseup=function(ap){ap.stopPropagation(),function(ao){var an;{var aq,ap;h=!1,"time"==w?((aq=(an=ao-c.timeSliderRail.left+window.pageXOffset)/c.timeSliderRail.width*ah)<0?aq=0:ah<aq&&(aq=ah-3),l.jwGetState()!=a.api.events.state.PAUSED&&l.jwGetState()!=a.api.events.state.IDLE||l.jwPlay(),l.jwSeek(aq)):"volume"==w&&(an=ao-c.volumeSliderRail.left-window.pageXOffset,(ap=Math.round(an/c.volumeSliderRail.width*100))<10?ap=0:100<ap&&(ap=100),l.jwGetMute()&&l.jwSetMute(!1),l.jwSetVolume(ap))}w="none"}(ap.pageX)},ao.onmousemove=function(ap){var aq;"time"==w&&(h=!0,aq=ap.pageX-c[an+"Slider"].left-window.pageXOffset,_css(S[w+"SliderThumb"],{left:aq}))})}function v(ao){var aq,ap,an;_utils.exists(ao.bufferPercent)&&(g=ao.bufferPercent),c.timeSliderRail&&(aq=l.skin.getSkinElement("controlbar","timeSliderCapLeft"),ap=c.timeSliderRail.width,an=isNaN(Math.round(ap*g/100))?0:Math.round(ap*g/100),_css(S.timeSliderBuffer,{width:an,left:aq?aq.width:0}))}function al(an){an.mute?(_hide(S.muteButton),_show(S.unmuteButton),_hide(S.volumeSliderProgress)):(_show(S.muteButton),_hide(S.unmuteButton),_show(S.volumeSliderProgress))}function s(an){an.newstate==a.api.events.state.BUFFERING||an.newstate==a.api.events.state.PLAYING?(_show(S.pauseButton),_hide(S.playButton)):(_hide(S.pauseButton),_show(S.playButton)),Z(),an.newstate==a.api.events.state.IDLE?(_hide(S.timeSliderBuffer),_hide(S.timeSliderProgress),_hide(S.timeSliderThumb),J({id:l.id,duration:l.jwGetDuration(),position:0})):(_show(S.timeSliderBuffer),an.newstate!=a.api.events.state.BUFFERING&&(_show(S.timeSliderProgress),_show(S.timeSliderThumb)))}function M(an){v({bufferPercent:0}),J(_utils.extend(an,{position:0,duration:ah}))}function J(at){_utils.exists(at.position)&&(k=at.position);var ao=!1;_utils.exists(at.duration)&&at.duration!=ah&&(ah=at.duration,ao=!0);var ap,au,ar,an,aq=k===ah===0?0:k/ah,av=c.timeSliderRail;av&&(ar=(ap=isNaN(Math.round(av.width*aq))?0:Math.round(av.width*aq))+((au=l.skin.getSkinElement("controlbar","timeSliderCapLeft"))?au.width:0),S.timeSliderProgress&&(_css(S.timeSliderProgress,{width:ap,left:au?au.width:0}),h||S.timeSliderThumb&&(S.timeSliderThumb.style.left=ar+"px"))),S.durationText&&(S.durationText.innerHTML=_utils.timeFormat(ah)),S.elapsedText&&(an=_utils.timeFormat(k),S.elapsedText.innerHTML=an,Q!=an.length&&(ao=!0,Q=an.length)),ao&&x()}function o(){for(var at,aq,an=S.elements.childNodes,ap=0;ap<an.length;ap++){var ar=an[ap].childNodes;for(var ao in ar)isNaN(parseInt(ao,10))||(0===ar[ao].id.indexOf(ag.id+"_divider")&&aq&&0===aq.id.indexOf(ag.id+"_divider")&&ar[ao].style.backgroundImage==aq.style.backgroundImage?ar[ao].style.display="none":0===ar[ao].id.indexOf(ag.id+"_divider")&&at&&"none"!=at.style.display&&(ar[ao].style.display="block"),"none"!=ar[ao].style.display&&(aq=ar[ao]),at=ar[ao])}}function x(){o(),l.jwGetFullscreen()?(_show(S.normalscreenButton),_hide(S.fullscreenButton)):(_hide(S.normalscreenButton),_show(S.fullscreenButton)),l.jwGetState()==a.api.events.state.BUFFERING||l.jwGetState()==a.api.events.state.PLAYING?(_show(S.pauseButton),_hide(S.playButton)):(_hide(S.pauseButton),_show(S.playButton)),1==l.jwGetMute()?(_hide(S.muteButton),_show(S.unmuteButton),_hide(S.volumeSliderProgress)):(_show(S.muteButton),_hide(S.unmuteButton),_show(S.volumeSliderProgress));var ap={width:f},ax={float:"left",styleFloat:"left",cssFloat:"left"};D.position!=a.html5.view.positions.OVER&&!l.jwGetFullscreen()||(ap.left=D.margin,ap.width-=2*D.margin,ap.top=z-K().height-D.margin,ap.height=K().height);var ar=l.skin.getSkinElement("controlbar","capLeft"),av=l.skin.getSkinElement("controlbar","capRight");ax.width=ap.width-(ar?ar.width:0)-(av?av.width:0);var aq=_utils.getBoundingClientRect(S.leftGroup).width,au=_utils.getBoundingClientRect(S.rightGroup).width,at=ax.width-aq-au-1,ao=at,an=l.skin.getSkinElement("controlbar","timeSliderCapLeft"),aw=l.skin.getSkinElement("controlbar","timeSliderCapRight");return _utils.exists(an)&&(ao-=an.width),_utils.exists(aw)&&(ao-=aw.width),S.timeSlider.style.width=at+"px",S.timeSliderRail.style.width=ao+"px",_css(ag,ap),_css(S.elements,ax),_css(S.background,ax),r(),ap}function n(at){var ap,aq,an,ao,ar;_utils.exists(S.volumeSliderRail)&&(ap=isNaN(at.volume/100)?1:at.volume/100,aq=_utils.parseDimension(S.volumeSliderRail.style.width),an=isNaN(Math.round(aq*ap))?0:Math.round(aq*ap),_utils.parseDimension(S.volumeSliderRail.style.right),ao=_utils.exists(l.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?l.skin.getSkinElement("controlbar","volumeSliderCapLeft").width:0,_css(S.volumeSliderProgress,{width:an,left:ao}),S.volumeSliderThumb&&(ar=an-Math.round(_utils.parseDimension(S.volumeSliderThumb.style.width)/2),ar=Math.min(Math.max(ar,0),aq-_utils.parseDimension(S.volumeSliderThumb.style.width)),_css(S.volumeSliderThumb,{left:ar})),_utils.exists(S.volumeSliderCapLeft)&&_css(S.volumeSliderCapLeft,{left:0}))}function T(){try{var ao=0<l.id.indexOf("_instream")?l.id.replace("_instream",""):l.id;document.getElementById(ao).addEventListener("mousemove",Z)}catch(an){_utils.log("Could not add mouse listeners to controlbar: "+an)}}}}(jwplayer),function(b){var c=b.utils;b.html5.controller=function(o,K,f,h){var P,m=f,j=h,y=K,M=!0,G=-1,A=!1,d=!1,C=[],q=!1,D=c.exists(m.config.debug)&&"console"==m.config.debug.toString().toLowerCase(),N=new b.html5.eventdispatcher(y.id,D);function F(){try{return(P=F,!A&&(A=!0,N.sendEvent(b.api.events.JWPLAYER_MEDIA_BEFOREPLAY),A=!1,d))?(d=!1,void(P=null)):(v(m.item),0<m.playlist[m.item].levels[0].file.length&&(M||m.state==b.api.events.state.IDLE?(m.getMedia().load(m.playlist[m.item]),M=!1):m.state==b.api.events.state.PAUSED&&m.getMedia().play()),!0)}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T),P=null}return!1}function w(T){P=null,c.exists(T)||(T=!0);try{return(m.state!=b.api.events.state.IDLE||T)&&m.getMedia()&&m.getMedia().stop(T),A&&(d=!0),!0}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return!1}function k(){try{var U;return 0<m.playlist[m.item].levels[0].file.length&&(m.config.shuffle?v(S()):m.item+1==m.playlist.length?v(0):v(m.item+1)),m.state!=b.api.events.state.IDLE&&(U=m.state,m.state=b.api.events.state.IDLE,N.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:U,newstate:b.api.events.state.IDLE})),F(),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}function S(){var T=null;if(1<m.playlist.length)for(;!c.exists(T);)(T=Math.floor(Math.random()*m.playlist.length))==m.item&&(T=null);else T=0;return T}function H(U){if(!m.playlist||!m.playlist[U])return!1;try{return 0<m.playlist[U].levels[0].file.length&&(m.state!==b.api.events.state.IDLE&&(m.playlist[m.item]&&m.playlist[m.item].provider==m.playlist[U].provider?w(!1):w()),v(U),F()),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}function v(T){m.playlist[T]&&(m.setActiveMediaProvider(m.playlist[T]),m.item!=T&&(m.item=T,M=!0,N.sendEvent(b.api.events.JWPLAYER_PLAYLIST_ITEM,{index:T})))}function u(U,V){try{return void 0===U&&(U=!m.fullscreen),void 0===V&&(V=!0),U!=m.fullscreen&&(m.fullscreen="true"==U.toString().toLowerCase(),j.fullscreen(m.fullscreen),V&&N.sendEvent(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:m.fullscreen}),N.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:m.width,height:m.height})),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}function O(T){c.isIOS()||(v(m.item),"true"!=m.config.autostart.toString().toLowerCase()||c.isIOS()||F())}function E(){if(m.state==b.api.events.state.IDLE)switch(P=E,m.config.repeat.toUpperCase()){case b.html5.controller.repeatoptions.SINGLE:F();break;case b.html5.controller.repeatoptions.ALWAYS:m.item!=m.playlist.length-1||m.config.shuffle?k():H(0);break;case b.html5.controller.repeatoptions.LIST:m.item!=m.playlist.length-1||m.config.shuffle?k():(w(),v(0));break;default:w()}}c.extend(this,N),m.addGlobalListener(function(T){q?N.sendEvent(T.type,T):C.push(T)}),m.addEventListener(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){m.getMedia().play()}),m.addEventListener(b.api.events.JWPLAYER_MEDIA_TIME,function(T){T.position>=m.playlist[m.item].start&&0<=G&&(m.playlist[m.item].start=G,G=-1)}),m.addEventListener(b.api.events.JWPLAYER_MEDIA_COMPLETE,function(T){setTimeout(E,25)}),m.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,O),m.addEventListener(b.api.events.JWPLAYER_FULLSCREEN,function(T){u(T.fullscreen,!1)}),b.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};var x=[];function Q(T){return function(){q?B(T,arguments):x.push({method:T,arguments:arguments})}}function B(V,U){var T=[];for(i=0;i<U.length;i++)T.push(U[i]);V.apply(this,T)}this.play=Q(F),this.pause=Q(function(){try{if(0<m.playlist[m.item].levels[0].file.length)switch(m.state){case b.api.events.state.PLAYING:case b.api.events.state.BUFFERING:m.getMedia()&&m.getMedia().pause();break;default:A&&(d=!0)}return!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}),this.seek=Q(function(T){try{if(0<m.playlist[m.item].levels[0].file.length)switch("number"!=typeof T&&(T=parseFloat(T)),m.state){case b.api.events.state.IDLE:G<0&&(G=m.playlist[m.item].start,m.playlist[m.item].start=T),A||F();break;case b.api.events.state.PLAYING:case b.api.events.state.PAUSED:case b.api.events.state.BUFFERING:m.seek(T)}return!0}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return!1}),this.stop=Q(w),this.next=Q(k),this.prev=Q(function(){try{var U;return 0<m.playlist[m.item].levels[0].file.length&&(m.config.shuffle?v(S()):0===m.item?v(m.playlist.length-1):v(m.item-1)),m.state!=b.api.events.state.IDLE&&(U=m.state,m.state=b.api.events.state.IDLE,N.sendEvent(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:U,newstate:b.api.events.state.IDLE})),F(),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}),this.item=Q(H),this.setVolume=Q(function(U){try{v(m.item);var V=m.getMedia();switch(typeof U){case"number":V.volume(U);break;case"string":V.volume(parseInt(U,10))}return m.setVolume(U),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}),this.setMute=Q(function(U){try{v(m.item);var V=m.getMedia();return void 0===U?(V.mute(!m.mute),m.setMute(!m.mute)):"true"==U.toString().toLowerCase()?(V.mute(!0),m.setMute(!0)):(V.mute(!1),m.setMute(!1)),!0}catch(T){N.sendEvent(b.api.events.JWPLAYER_ERROR,T)}return!1}),this.resize=Q(function(U,T){try{return m.width=U,m.height=T,j.resize(U,T),N.sendEvent(b.api.events.JWPLAYER_RESIZE,{width:m.width,height:m.height}),!0}catch(V){N.sendEvent(b.api.events.JWPLAYER_ERROR,V)}return!1}),this.setFullscreen=Q(u),this.load=Q(function(T){try{return w(),A&&(d=!1),m.loadPlaylist(T),!!m.playlist[m.item].provider&&(v(m.item),"true"!=m.config.autostart.toString().toLowerCase()||c.isIOS()||A||F(),!0)}catch(U){N.sendEvent(b.api.events.JWPLAYER_ERROR,U)}return!1}),this.playerReady=function(T){if(!q){for(q=!0,N.sendEvent(b.api.events.JWPLAYER_READY,T),b.utils.exists(window.playerReady)&&playerReady(T),b.utils.exists(window[f.config.playerReady])&&window[f.config.playerReady](T);0<C.length;){var V=C.shift();N.sendEvent(V.type,V)}for(f.config.autostart&&!b.utils.isIOS()&&O();0<x.length;){var U=x.shift();B(U.method,U.arguments)}}},this.detachMedia=function(){try{return m.getMedia().detachMedia()}catch(T){return null}},this.attachMedia=function(){try{m.getMedia().attachMedia();"function"==typeof P&&P()}catch(U){return null}},this.beforePlay=function(){return A},this.destroy=function(){m.getMedia()&&m.getMedia().destroy()}}}(jwplayer),jwplayer.html5.defaultSkin=function(){return this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>',this.xml=null,window.DOMParser?(parser=new DOMParser,this.xml=parser.parseFromString(this.text,"text/xml")):(this.xml=new ActiveXObject("Microsoft.XMLDOM"),this.xml.async="false",this.xml.loadXML(this.text)),this},function(a){_utils=a.utils,_css=_utils.css,_hide=function(b){_css(b,{display:"none"})},_show=function(b){_css(b,{display:"block"})},a.html5.display=function(k,K){var e,w,z,T,u,M,E,d,m,y,R,X=_utils.extend({},{icons:!0,showmute:!1},K),h=k,W={},N=_utils.exists(h.skin.getComponentSettings("display").bufferrotation)?parseInt(h.skin.getComponentSettings("display").bufferrotation,10):15,s=_utils.exists(h.skin.getComponentSettings("display").bufferinterval)?parseInt(h.skin.getComponentSettings("display").bufferinterval,10):100,D=-1,v=a.api.events.state.IDLE,O=!0,C=!1,V=!0,p="",g=!1,o=!1,L=new a.html5.eventdispatcher;_utils.extend(this,L);var H={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:function(Y){void 0!==Y.preventDefault?Y.preventDefault():Y.returnValue=!1;{if("function"==typeof m)return void m(Y);h.jwGetState()!=a.api.events.state.PLAYING?h.jwPlay():h.jwPause()}}},display_icon:{style:{cursor:"pointer",position:"absolute",top:(h.skin.getSkinElement("display","background").height-h.skin.getSkinElement("display","playIcon").height)/2,left:(h.skin.getSkinElement("display","background").width-h.skin.getSkinElement("display","playIcon").width)/2,border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:(w-h.skin.getSkinElement("display","background").height)/2,left:(e-h.skin.getSkinElement("display","background").width)/2,border:0,backgroundImage:["url(",h.skin.getSkinElement("display","background").src,")"].join(""),width:h.skin.getSkinElement("display","background").width,height:h.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:e,height:w,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};function B(Y){z=W.display_image.naturalWidth,T=W.display_image.naturalHeight,c(),h.jwGetState()!=a.api.events.state.IDLE&&"sound"!=h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider||(_css(W.display_image,{display:"block",opacity:0}),_utils.fadeTo(W.display_image,1,.1)),C=!1}function c(){var Y;h.jwGetFullscreen()&&h.jwGetStretching()==a.utils.stretching.EXACTFIT?(Y=document.createElement("div"),_utils.stretch(a.utils.stretching.UNIFORM,Y,e,w,y,R),_utils.stretch(a.utils.stretching.EXACTFIT,W.display_image,_utils.parseDimension(Y.style.width),_utils.parseDimension(Y.style.height),z,T),_css(W.display_image,{left:Y.style.left,top:Y.style.top})):_utils.stretch(h.jwGetStretching(),W.display_image,e,w,z,T)}function G(Y,aa){var Z=document.createElement(Y);return Z.id=h.id+"_jwplayer_"+aa,_css(Z,H[aa].style),Z}function U(Y){E?F():(W.display_icon.style.backgroundImage=["url(",h.skin.getSkinElement("display",Y).src,")"].join(""),_css(W.display_icon,{width:h.skin.getSkinElement("display",Y).width,height:h.skin.getSkinElement("display",Y).height,top:(h.skin.getSkinElement("display","background").height-h.skin.getSkinElement("display",Y).height)/2,left:(h.skin.getSkinElement("display","background").width-h.skin.getSkinElement("display",Y).width)/2}),g||"true"!=X.icons.toString()||(_show(W.display_icon),_show(W.display_iconBackground),J()),_utils.exists(h.skin.getSkinElement("display",Y+"Over"))?(W.display_icon.onmouseover=function(Z){W.display_icon.style.backgroundImage=["url(",h.skin.getSkinElement("display",Y+"Over").src,")"].join("")},W.display_icon.onmouseout=function(Z){W.display_icon.style.backgroundImage=["url(",h.skin.getSkinElement("display",Y).src,")"].join("")}):(W.display_icon.onmouseover=null,W.display_icon.onmouseout=null))}function F(){"true"==X.icons.toString()&&(_hide(W.display_icon),_hide(W.display_iconBackground),S())}function I(){V=!1,W.display_image.style.display="none"}function q(Y){Y.type!=a.api.events.JWPLAYER_PLAYER_STATE&&Y.type!=a.api.events.JWPLAYER_PLAYLIST_ITEM||!E||(E=!1,_hide(W.display_text));var Z=h.jwGetState();Z!=v&&(v=Z,0<=D&&clearTimeout(D),O||h.jwGetState()==a.api.events.state.PLAYING||h.jwGetState()==a.api.events.state.PAUSED?t(h.jwGetState()):D=setTimeout(function(Y){return function(){t(Y)}}(h.jwGetState()),500))}function t(Y){switch(_utils.exists(M)&&(clearInterval(M),M=null,_utils.animations.rotate(W.display_icon,0)),Y){case a.api.events.state.BUFFERING:_utils.isIPod()?(I(),F()):("sound"==h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider&&x(),u=0,M=setInterval(function(){u+=N,_utils.animations.rotate(W.display_icon,u%360)},s),U("bufferIcon"),O=!0);break;case a.api.events.state.PAUSED:_utils.isIPod()||("sound"!=h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider&&_css(W.display_image,{background:"transparent no-repeat center center"}),U("playIcon"),O=!0);break;case a.api.events.state.IDLE:(h.jwGetPlaylist()[h.jwGetPlaylistIndex()]&&h.jwGetPlaylist()[h.jwGetPlaylistIndex()].image?x:I)(),U("playIcon"),O=!0;break;default:!h.jwGetPlaylist()[h.jwGetPlaylistIndex()]||"sound"!=h.jwGetPlaylist()[h.jwGetPlaylistIndex()].provider||_utils.isIPod()?(I(),O=!1):x(),h.jwGetMute()&&X.showmute?U("muteIcon"):F()}D=-1}function x(){var Y;!h.jwGetPlaylist()[h.jwGetPlaylistIndex()]||(Y=h.jwGetPlaylist()[h.jwGetPlaylistIndex()].image)&&(Y!=p?(p=Y,C=!0,W.display_image.src=_utils.getAbsolutePath(Y)):C||V||(V=!0,W.display_image.style.opacity=0,W.display_image.style.display="block",_utils.fadeTo(W.display_image,1,.1)))}function A(Y){return function(){o&&(g||d==Y||(d=Y,L.sendEvent(Y,{component:"display",boundingRect:_utils.getDimensions(W.display_iconBackground)})))}}h.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,q),h.jwAddEventListener(a.api.events.JWPLAYER_MEDIA_MUTE,q),h.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,function(){v=""}),h.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,q),h.jwAddEventListener(a.api.events.JWPLAYER_ERROR,function(Y){E=!0,F(),W.display_text.innerHTML=Y.message,_show(W.display_text),W.display_text.style.top=(w-_utils.getBoundingClientRect(W.display_text).height)/2+"px"}),W.display=G("div","display"),W.display_text=G("div","display_text"),W.display.appendChild(W.display_text),W.display_image=G("img","display_image"),W.display_image.onerror=function(Y){_hide(W.display_image)},W.display_image.onload=B,W.display_icon=G("div","display_icon"),W.display_iconBackground=G("div","display_iconBackground"),W.display.appendChild(W.display_image),W.display_iconBackground.appendChild(W.display_icon),W.display.appendChild(W.display_iconBackground),function(){for(var Y in W)_utils.exists(H[Y].click)&&(W[Y].onclick=H[Y].click)}(),setTimeout(function(){o=!0,"true"==X.icons.toString()&&J()},1),this.getDisplayElement=function(){return W.display},this.resize=function(Z,Y){h.jwGetFullscreen()&&_utils.isMobile()||(_css(W.display,{width:Z,height:Y}),_css(W.display_text,{width:Z-10,top:(Y-_utils.getBoundingClientRect(W.display_text).height)/2}),_css(W.display_iconBackground,{top:(Y-h.skin.getSkinElement("display","background").height)/2,left:(Z-h.skin.getSkinElement("display","background").width)/2}),e==Z&&w==Y||(e=Z,w=Y,d=void 0,J()),h.jwGetFullscreen()||(y=Z,R=Y),c(),q({}))},this.show=function(){g&&(g=!1,t(h.jwGetState()))},this.hide=function(){g||(F(),g=!0)};var J=A(a.api.events.JWPLAYER_COMPONENT_SHOW),S=A(a.api.events.JWPLAYER_COMPONENT_HIDE);return this.setAlternateClickHandler=function(Y){m=Y},this.revertAlternateClickHandler=function(){m=void 0},this}}(jwplayer),function(a){var c=a.utils,b=c.css;a.html5.dock=function(w,D){var n=c.extend({},{align:a.html5.view.positions.RIGHT},D);if("FALSE"!=n.align){var k,F,z,y,j={},A=[],f=!1,C=!1,g={x:0,y:0,width:0,height:0},m=new a.html5.eventdispatcher;c.extend(this,m);var r=document.createElement("div");r.id=w.id+"_jwplayer_dock",r.style.opacity=1,p(),w.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,function(H){(c.isMobile()?H.newstate==a.api.events.state.IDLE?v:e:B)()}),this.getDisplayElement=function(){return r},this.setButton=function(K,H,I,J){!H&&j[K]?(c.arrays.remove(A,K),r.removeChild(j[K].div),delete j[K]):H&&(j[K]||(j[K]={}),j[K].handler=H,j[K].outGraphic=I,j[K].overGraphic=J,j[K].div||(A.push(K),j[K].div=document.createElement("div"),j[K].div.style.position="absolute",r.appendChild(j[K].div),j[K].div.appendChild(document.createElement("div")),j[K].div.childNodes[0].style.position="relative",j[K].div.childNodes[0].style.width="100%",j[K].div.childNodes[0].style.height="100%",j[K].div.childNodes[0].style.zIndex=10,j[K].div.childNodes[0].style.cursor="pointer",j[K].div.appendChild(document.createElement("img")),j[K].div.childNodes[1].style.position="absolute",j[K].div.childNodes[1].style.left=0,j[K].div.childNodes[1].style.top=0,w.skin.getSkinElement("dock","button")&&(j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src),j[K].div.childNodes[1].style.zIndex=9,j[K].div.childNodes[1].style.cursor="pointer",j[K].div.onmouseover=function(){j[K].overGraphic&&(j[K].div.childNodes[0].style.background=h(j[K].overGraphic)),w.skin.getSkinElement("dock","buttonOver")&&(j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","buttonOver").src)},j[K].div.onmouseout=function(){j[K].outGraphic&&(j[K].div.childNodes[0].style.background=h(j[K].outGraphic)),w.skin.getSkinElement("dock","button")&&(j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src)},w.skin.getSkinElement("dock","button")&&(j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src)),j[K].outGraphic?j[K].div.childNodes[0].style.background=h(j[K].outGraphic):j[K].overGraphic&&(j[K].div.childNodes[0].style.background=h(j[K].overGraphic)),H&&(j[K].div.onclick=function(L){L.preventDefault(),a(w.id).callback(K),j[K].overGraphic&&(j[K].div.childNodes[0].style.background=h(j[K].overGraphic)),w.skin.getSkinElement("dock","button")&&(j[K].div.childNodes[1].src=w.skin.getSkinElement("dock","button").src)})),l(k,F)};var s=d(a.api.events.JWPLAYER_COMPONENT_SHOW),G=d(a.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=l;var v=function(){b(r,{display:"block"}),f&&(f=!1,s())},e=function(){b(r,{display:"none"}),f||(G(),f=!0)};return this.hide=e,this.show=v,this}function h(H){return"url("+H+") no-repeat center center"}function l(H,T){if(p(),0<A.length){var R,L,I=10,S=I,P=-1,Q=w.skin.getSkinElement("dock","button").height,O=w.skin.getSkinElement("dock","button").width,M=H-O-I;n.align==a.html5.view.positions.LEFT&&(P=1,M=I);for(var J=0;J<A.length;J++){var U=Math.floor(S/T);(U+1)*T<S+Q+I&&(S=(U+1)*T+I,U=Math.floor(S/T));var K=j[A[J]].div;K.style.top=S%T+"px",K.style.left=M+(w.skin.getSkinElement("dock","button").width+I)*U*P+"px";var N={x:c.parseDimension(K.style.left),y:c.parseDimension(K.style.top),width:O,height:Q};(!R||N.x<=R.x&&N.y<=R.y)&&(R=N),(!L||N.x>=L.x&&N.y>=L.y)&&(L=N),K.style.width=O+"px",K.style.height=Q+"px",S+=w.skin.getSkinElement("dock","button").height+I}g={x:R.x,y:R.y,width:L.x-R.x+L.width,height:R.y-L.y+L.height}}C==w.jwGetFullscreen()&&k==H&&F==T||(k=H,F=T,C=w.jwGetFullscreen(),z=void 0,setTimeout(s,1))}function d(H){return function(){!f&&z!=H&&0<A.length&&(z=H,m.sendEvent(H,{component:"dock",boundingRect:g}))}}function B(H){if(!f)if(clearTimeout(y),D.position==a.html5.view.positions.OVER||w.jwGetFullscreen())switch(w.jwGetState()){case a.api.events.state.PAUSED:case a.api.events.state.IDLE:r&&r.style.opacity<1&&(!D.idlehide||c.exists(H))&&E(),D.idlehide&&(y=setTimeout(function(){u()},2e3));break;default:c.exists(H)&&E(),y=setTimeout(function(){u()},2e3)}else E()}function u(){f||(G(),1==r.style.opacity&&(c.cancelAnimation(r),c.fadeTo(r,0,.1,1,0)))}function E(){f||(s(),0==r.style.opacity&&(c.cancelAnimation(r),c.fadeTo(r,1,.1,0,0)))}function p(){try{document.getElementById(w.id).addEventListener("mousemove",B)}catch(H){c.log("Could not add mouse listeners to dock: "+H)}}}}(jwplayer),function(a){a.html5.eventdispatcher=function(d,b){var c=new a.events.eventdispatcher(b);a.utils.extend(this,c),this.sendEvent=function(e,f){a.utils.exists(f)||(f={}),a.utils.extend(f,{id:d,version:a.version,type:e}),c.sendEvent(e,f)}}}(jwplayer),function(a){var b=a.utils;a.html5.instream=function(y,m,x,z){var v,A,r,G,e,f,g,l,q,k,d,t={controlbarseekable:"always",controlbarpausable:!0,controlbarstoppable:!0,playlistclickable:!0},C=y,E=m,j=x,w=z,h=!1,n=this;function I(K){h&&D(K.type,K)}function B(K){h&&g.play()}function u(K){h&&setTimeout(function(){n.jwInstreamDestroy(!0)},10)}function J(K){K.metadata.width&&K.metadata.height&&j.resizeMedia()}function D(K,L,M){(h||M)&&k.sendEvent(K,L)}function p(){var L,K=E.plugins.object.display.getDisplayElement().style;l&&(L=E.plugins.object.controlbar.getDisplayElement().style,l.resize(b.parseDimension(K.width),b.parseDimension(K.height)),_css(l.getDisplayElement(),b.extend({},L,{zIndex:1001,opacity:1}))),q&&(q.resize(b.parseDimension(K.width),b.parseDimension(K.height)),_css(q.getDisplayElement(),b.extend({},K,{zIndex:1e3}))),j&&j.resizeMedia()}return this.load=function(M,K){_fakemodel.setMute(E.mute),_fakemodel.setVolume(E.volume),h=!0,A=b.extend(t,K),v=a.html5.playlistitem(M),function(){g||((g=new a.html5.mediavideo(_fakemodel,E.getMedia()?E.getMedia().getDisplayElement():E.container)).addGlobalListener(I),g.addEventListener(a.api.events.JWPLAYER_MEDIA_META,J),g.addEventListener(a.api.events.JWPLAYER_MEDIA_COMPLETE,u),g.addEventListener(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL,B));g.attachMedia()}(),(d=document.createElement("div")).id=n.id+"_instream_container",w.detachMedia(),r=g.getDisplayElement(),f=E.playlist[E.item],(e=C.jwGetState())!=a.api.events.state.BUFFERING&&e!=a.api.events.state.PLAYING||r.pause(),r.src?r.src:r.currentSrc,r.innerHTML,G=r.currentTime,(q=new a.html5.display(n,b.extend({},E.plugins.config.display))).setAlternateClickHandler(function(N){_fakemodel.state==a.api.events.state.PAUSED?n.jwInstreamPlay():D(a.api.events.JWPLAYER_INSTREAM_CLICK,N)}),d.appendChild(q.getDisplayElement()),b.isMobile()||(l=new a.html5.controlbar(n,b.extend({},E.plugins.config.controlbar,{})),E.plugins.config.controlbar.position==a.html5.view.positions.OVER?d.appendChild(l.getDisplayElement()):E.plugins.object.controlbar.getDisplayElement().parentNode.appendChild(l.getDisplayElement())),j.setupInstream(d,r),p(),g.load(v)},this.jwInstreamDestroy=function(K){if(h){if(h=!1,e!=a.api.events.state.IDLE?(g.load(f,!1),g.stop(!1)):g.stop(!0),g.detachMedia(),j.destroyInstream(),l)try{l.getDisplayElement().parentNode.removeChild(l.getDisplayElement())}catch(L){}D(a.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:K?"complete":"destroyed"},!0),w.attachMedia(),e!=a.api.events.state.BUFFERING&&e!=a.api.events.state.PLAYING||(r.play(),E.playlist[E.item]==f&&E.getMedia().seek(G))}},this.jwInstreamAddEventListener=function(K,L){k.addEventListener(K,L)},this.jwInstreamRemoveEventListener=function(K,L){k.removeEventListener(K,L)},this.jwInstreamPlay=function(){h&&g.play(!0)},this.jwInstreamPause=function(){h&&g.pause(!0)},this.jwInstreamSeek=function(K){h&&g.seek(K)},this.jwInstreamGetState=function(){if(h)return _fakemodel.state},this.jwInstreamGetPosition=function(){if(h)return _fakemodel.position},this.jwInstreamGetDuration=function(){if(h)return _fakemodel.duration},this.playlistClickable=function(){return!h||"true"==A.playlistclickable.toString().toLowerCase()},this.jwPlay=function(K){"true"==A.controlbarpausable.toString().toLowerCase()&&this.jwInstreamPlay()},this.jwPause=function(K){"true"==A.controlbarpausable.toString().toLowerCase()&&this.jwInstreamPause()},this.jwStop=function(){"true"==A.controlbarstoppable.toString().toLowerCase()&&(this.jwInstreamDestroy(),C.jwStop())},this.jwSeek=function(K){switch(A.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(K);break;case"backwards":_fakemodel.position>K&&this.jwInstreamSeek(K)}},this.jwGetPosition=function(){},this.jwGetDuration=function(){},this.jwGetWidth=C.jwGetWidth,this.jwGetHeight=C.jwGetHeight,this.jwGetFullscreen=C.jwGetFullscreen,this.jwSetFullscreen=C.jwSetFullscreen,this.jwGetVolume=function(){return E.volume},this.jwSetVolume=function(K){g.volume(K),C.jwSetVolume(K)},this.jwGetMute=function(){return E.mute},this.jwSetMute=function(K){g.mute(K),C.jwSetMute(K)},this.jwGetState=function(){return _fakemodel.state},this.jwGetPlaylist=function(){return[v]},this.jwGetPlaylistIndex=function(){return 0},this.jwGetStretching=function(){return E.config.stretching},this.jwAddEventListener=function(L,K){k.addEventListener(L,K)},this.jwRemoveEventListener=function(L,K){k.removeEventListener(L,K)},this.skin=C.skin,this.id=C.id+"_instream",function(){_fakemodel=new a.html5.model(this,E.getMedia()?E.getMedia().getDisplayElement():E.container,E),k=new a.html5.eventdispatcher,C.jwAddEventListener(a.api.events.JWPLAYER_RESIZE,p),C.jwAddEventListener(a.api.events.JWPLAYER_FULLSCREEN,p)}(),this}}(jwplayer),function(a){var b={prefix:"http://l.longtailvideo.com/html5/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!0,position:"bottom-left"};_css=a.utils.css,a.html5.logo=function(n,r){var u,d,t,q=n,h=!1;if(function(){{var v;b.prefix&&(v=n.version.split(/\W/).splice(0,2).join("/"),b.prefix.indexOf(v)<0&&(b.prefix+=v+"/"))}r.position==a.html5.view.positions.OVER&&(r.position=b.position);try{0==window.location.href.indexOf("https")&&(b.prefix=b.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com"))}catch(w){}d=a.utils.extend({},b)}(),q.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,j),function(){if((t=document.createElement("img")).id=q.id+"_jwplayer_logo",t.style.display="none",t.onload=function(v){_css(t,function(){var x={textDecoration:"none",position:"absolute",cursor:"pointer"};x.display="true"!=d.hide.toString()||h?"block":"none";var w=d.position.toLowerCase().split("-");for(var v in w)x[w[v]]=parseInt(d.margin);return x}()),p()},!d.file)return;0<=d.file.indexOf("/")?t.src=d.file:t.src=d.prefix+d.file}(),function(){d.link?(t.onmouseover=f,t.onmouseout=p,t.onclick=s):this.mouseEnabled=!1}(),d.file)return this.resize=function(w,v){},this.getDisplayElement=function(){return t},this;function s(v){void 0!==v&&v.stopPropagation(),h&&(q.jwPause(),q.jwSetFullscreen(!1),d.link&&window.open(d.link,d.linktarget))}function p(v){d.link&&h&&(t.style.opacity=d.out)}function f(v){h&&(t.style.opacity=d.over)}function m(){"true"==d.hide.toString()&&(t.style.display="block",t.style.opacity=0,a.utils.fadeTo(t,d.out,.1,parseFloat(t.style.opacity)),u=setTimeout(function(){h=!1,"true"==d.hide.toString()&&a.utils.fadeTo(t,0,.1,parseFloat(t.style.opacity))},1e3*d.timeout)),h=!0}function j(v){v.newstate==a.api.events.state.BUFFERING&&(clearTimeout(u),m())}}}(jwplayer),function(b){var g,e,d={ended:b.api.events.state.IDLE,playing:b.api.events.state.PLAYING,pause:b.api.events.state.PAUSED,buffering:b.api.events.state.BUFFERING},f=b.utils,a=f.isMobile(),c={};b.html5.mediavideo=function(k,I){var M={abort:A,canplay:r,canplaythrough:r,durationchange:w,emptied:A,ended:r,error:function(Z){if(!v)return;if(h==b.api.events.state.IDLE)return;var Y="There was an error: ";if(Z.target.error&&"video"==Z.target.tagName.toLowerCase()||Z.target.parentNode.error&&"video"==Z.target.parentNode.tagName.toLowerCase()){var X=f.exists(Z.target.error)?Z.target.error:Z.target.parentNode.error;switch(X.code){case X.MEDIA_ERR_ABORTED:return void f.log("User aborted the video playback.");case X.MEDIA_ERR_NETWORK:Y="A network error caused the video download to fail part-way: ";break;case X.MEDIA_ERR_DECODE:Y="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case X.MEDIA_ERR_SRC_NOT_SUPPORTED:Y="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:Y="An unknown error occurred: "}}else{if("source"!=Z.target.tagName.toLowerCase())return void f.log("An unknown error occurred.  Continuing...");if(0<--T)return;if(f.userAgentMatch(/firefox/i))return f.log("The video could not be loaded, either because the server or network failed or because the format is not supported."),void B(!1);Y="The video could not be loaded, either because the server or network failed or because the format is not supported: "}return B(!1),Y+=function(){var Z="";for(var Y in W.levels){var X=W.levels[Y];D.ownerDocument.createElement("source");Z+=b.utils.getAbsolutePath(X.file),Y<W.levels.length-1&&(Z+=", ")}return Z}(),_error=!0,void u(b.api.events.JWPLAYER_ERROR,{message:Y})},loadeddata:w,loadedmetadata:w,loadstart:r,pause:r,play:A,playing:r,progress:G,ratechange:A,seeked:r,seeking:r,stalled:r,suspend:r,timeupdate:function(Y){if(!v)return;if(f.exists(Y)&&f.exists(Y.target)&&(0<z&&!isNaN(Y.target.duration)&&(isNaN(l.duration)||l.duration<1)&&(Y.target.duration==1/0?l.duration=0:l.duration=Math.round(10*Y.target.duration)/10),!F&&0<o.readyState&&y(b.api.events.state.PLAYING),h==b.api.events.state.PLAYING)){if(0<o.readyState&&(-1<P||!F)){F=!0;try{o.currentTime!=P&&-1<P&&(o.currentTime=P,P=-1)}catch(X){}o.volume=l.volume/100,o.muted=l.mute}if(l.position=0<l.duration?Math.round(10*Y.target.currentTime)/10:0,u(b.api.events.JWPLAYER_MEDIA_TIME,{position:l.position,duration:l.duration}),l.position>=l.duration&&(0<l.position||0<l.duration))return void R()}G(Y)},volumechange:function(X){var Y=Math.round(100*o.volume);u(b.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Y},!0),u(b.api.events.JWPLAYER_MEDIA_MUTE,{mute:o.muted},!0)},waiting:r,canshowcurrentframe:A,dataunavailable:A,empty:A,load:function(X){},loadedfirstframe:A,webkitfullscreenchange:function(X){f.exists(o.webkitDisplayingFullscreen)&&l.fullscreen&&!o.webkitDisplayingFullscreen&&u(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:!1},!0)}},E={},N=new b.html5.eventdispatcher;f.extend(this,N);var o,h,F,W,H,P,L,J,T,l=k,D=I,O=!1,v=!1,z=!1;h=b.api.events.state.IDLE,v=!0,(o=function(){var X=c[l.id];X||(X="video"==D.tagName.toLowerCase()?D:document.createElement("video"),(c[l.id]=X).id||(X.id=D.id));for(var Y in M)X.addEventListener(Y,K(Y,M[Y]),!0);return X}()).setAttribute("x-webkit-airplay","allow"),D.parentNode&&(o.id=D.id,D.parentNode.replaceChild(o,D)),this.load=function(Y,Z){if(void 0===Z&&(Z=!0),v){if(z=0<(W=Y).duration,l.duration=W.duration,f.empty(o),o.style.display="block",o.style.opacity=1,g&&e&&(o.style.width=g,o.style.height=e,g=_previousHieght=0),T=0,function(Z){if(0<Z.length&&f.userAgentMatch(/Safari/i)&&!f.userAgentMatch(/Chrome/i)){for(var aa,X=-1,Y=0;Y<Z.length;Y++)switch(f.extension(Z[Y].file)){case"mp4":X<0&&(X=Y);break;case"webm":Z.splice(Y,1)}0<X&&(aa=Z.splice(X,1)[0],Z.unshift(aa))}}(Y.levels),Y.levels&&0<Y.levels.length)if(1==Y.levels.length||f.isIOS())o.src=Y.levels[0].file;else{o.src&&o.removeAttribute("src");for(var X=0;X<Y.levels.length;X++){var aa=o.ownerDocument.createElement("source");aa.src=Y.levels[X].file,o.appendChild(aa),T++}}else o.src=Y.file;o.volume=l.volume/100,o.muted=l.mute,a&&S(),L=J=F=!1,l.buffer=0,f.exists(Y.start)||(Y.start=0),P=0<Y.start?Y.start:-1,u(b.api.events.JWPLAYER_MEDIA_LOADED),(a||1!=Y.levels.length)&&O||o.load(),O=!1,Z&&(y(b.api.events.state.BUFFERING),u(b.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0}),C()),0<o.videoWidth&&0<o.videoHeight&&w()}},this.play=function(){v&&(C(),J?y(b.api.events.state.PLAYING):(o.load(),y(b.api.events.state.BUFFERING)),o.play())},this.pause=function(){v&&(o.pause(),y(b.api.events.state.PAUSED))},this.seek=function(X){v&&(!F&&0<o.readyState?l.duration<=0||isNaN(l.duration)||l.position<=0||isNaN(l.position)||(o.currentTime=X,o.play()):P=X)};var B=this.stop=function(X){if(v){if(f.exists(X)||(X=!0),t(),X){J=!1;navigator.userAgent;if(o.webkitSupportsFullscreen)try{o.webkitExitFullscreen()}catch(Z){}o.style.opacity=0,x(),f.isIE()?o.src="":o.removeAttribute("src"),f.empty(o),o.load(),O=!0}if(f.isIPod())g=o.style.width,e=o.style.height,o.style.width=0,o.style.height=0;else if(f.isIPad()){o.style.display="none";try{o.webkitExitFullscreen()}catch(aa){}}y(b.api.events.state.IDLE)}};function K(Y,X){return E[Y]||(E[Y]=function(Z){f.exists(Z.target.parentNode)&&X(Z)}),E[Y]}function y(X){if(X!=b.api.events.state.PAUSED||h!=b.api.events.state.IDLE){if(a)switch(X){case b.api.events.state.PLAYING:S();break;case b.api.events.state.BUFFERING:case b.api.events.state.PAUSED:x()}var Y;h!=X&&(Y=h,l.state=h=X,u(b.api.events.JWPLAYER_PLAYER_STATE,{oldstate:Y,newstate:X}))}}function A(X){}function G(Z){var Y,X;v&&(f.exists(Z)&&Z.lengthComputable&&Z.total?Y=Z.loaded/Z.total*100:f.exists(o.buffered)&&0<o.buffered.length&&(0<=(X=o.buffered.length-1)&&(Y=o.buffered.end(X)/o.duration*100)),f.useNativeFullscreen()&&f.exists(o.webkitDisplayingFullscreen)&&l.fullscreen!=o.webkitDisplayingFullscreen&&u(b.api.events.JWPLAYER_FULLSCREEN,{fullscreen:o.webkitDisplayingFullscreen},!0),!1===J&&h==b.api.events.state.BUFFERING&&(u(b.api.events.JWPLAYER_MEDIA_BUFFER_FULL),J=!0),L||(100==Y&&(L=!0),f.exists(Y)&&Y>l.buffer&&(l.buffer=Math.round(Y),u(b.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(Y)}))))}function r(X){v&&(g&&e&&(o.style.width=g,o.style.height=e,g=_previousHieght=0),d[X.type]&&("ended"==X.type?R():y(d[X.type])))}function w(Y){var X,Z;v&&(X=Math.round(10*o.duration)/10,Z={height:o.videoHeight,width:o.videoWidth,duration:X},z||(l.duration<X||isNaN(l.duration))&&o.duration!=1/0&&(l.duration=X),u(b.api.events.JWPLAYER_MEDIA_META,{metadata:Z}))}function C(){f.exists(H)||(H=setInterval(function(){G()},100))}function t(){clearInterval(H),H=null}function R(){h==b.api.events.state.PLAYING&&(B(!1),u(b.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE),u(b.api.events.JWPLAYER_MEDIA_COMPLETE))}function S(){setTimeout(function(){o.setAttribute("controls","controls")},100)}function x(){setTimeout(function(){o.removeAttribute("controls")},250)}function u(X,Z,Y){(v||Y)&&(Z?N.sendEvent(X,Z):N.sendEvent(X))}this.fullscreen=function(X){!0===X?this.resize("100%","100%"):this.resize(l.config.width,l.config.height)},this.resize=function(Y,X){},this.volume=function(X){a||(o.volume=X/100,u(b.api.events.JWPLAYER_MEDIA_VOLUME,{volume:X/100}))},this.mute=function(X){a||(o.muted=X,u(b.api.events.JWPLAYER_MEDIA_MUTE,{mute:X}))},this.getDisplayElement=function(){return o},this.hasChrome=function(){return a&&h==b.api.events.state.PLAYING},this.detachMedia=function(){return v=!1,this.getDisplayElement()},this.attachMedia=function(){v=!0},this.destroy=function(){if(o&&o.parentNode){for(var X in t(),M)o.removeEventListener(X,K(X,M[X]),!0);f.empty(o),D=o.parentNode,o.parentNode.removeChild(o),delete c[l.id],o=null}}}}(jwplayer),function(a){a.api.events.state.IDLE,a.api.events.state.PLAYING,a.api.events.state.PAUSED,a.api.events.state.BUFFERING;var b=a.utils.css;a.html5.mediayoutube=function(j,e){var f=new a.html5.eventdispatcher;a.utils.extend(this,f);var n,m,l=j,h=document.getElementById(e.id),g=a.api.events.state.IDLE;function k(p){var q;g!=p&&(q=g,l.state=p,g=p,f.sendEvent(a.api.events.JWPLAYER_PLAYER_STATE,{oldstate:q,newstate:p}))}return this.getDisplayElement=this.detachMedia=function(){return h},this.attachMedia=function(){},this.play=function(){g==a.api.events.state.IDLE?(f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100}),f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER_FULL),k(a.api.events.state.PLAYING)):g==a.api.events.state.PAUSED&&k(a.api.events.state.PLAYING)},this.pause=function(){k(a.api.events.state.PAUSED)},this.seek=function(p){},this.stop=function(p){_utils.exists(p)||(p=!0),l.position=0,k(a.api.events.state.IDLE),p&&b(h,{display:"none"})},this.volume=function(p){l.setVolume(p),f.sendEvent(a.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(p)})},this.mute=function(p){h.muted=p,f.sendEvent(a.api.events.JWPLAYER_MEDIA_MUTE,{mute:p})},this.resize=function(q,p){0<q*p&&n&&(n.width=m.width=q,n.height=m.height=p)},this.fullscreen=function(p){!0===p?this.resize("100%","100%"):this.resize(l.config.width,l.config.height)},this.load=function(p){!function(v){var s=v.levels[0].file;s=["http://www.youtube.com/v/",function(q){for(var p=q.split(/\?|\#\!/),s="",r=0;r<p.length;r++)"v="==p[r].substr(0,2)&&(s=p[r].substr(2));""==s&&(s=0<=q.indexOf("/v/")?q.substr(q.indexOf("/v/")+3):0<=q.indexOf("youtu.be")?q.substr(q.indexOf("youtu.be/")+9):q);-1<s.indexOf("?")&&(s=s.substr(0,s.indexOf("?")));-1<s.indexOf("&")&&(s=s.substr(0,s.indexOf("&")));return s}(s),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join(""),(n=document.createElement("object")).id=h.id,n.style.position="absolute";var u={movie:s,allowfullscreen:"true",allowscriptaccess:"always"};for(var p in u){var t=document.createElement("param");t.name=p,t.value=u[p],n.appendChild(t)}m=document.createElement("embed"),n.appendChild(m);var q={src:s,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:n.width,height:n.height};for(var r in q)m.setAttribute(r,q[r]);n.appendChild(m),n.style.zIndex=2147483e3,h!=n&&h.parentNode&&h.parentNode.replaceChild(n,h);h=n}(p),b(n,{display:"block"}),k(a.api.events.state.BUFFERING),f.sendEvent(a.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0}),f.sendEvent(a.api.events.JWPLAYER_MEDIA_LOADED),this.play()},this.hasChrome=function(){return g!=a.api.events.state.IDLE},this.embed=m,this}}(jwplayer),function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"],_utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api,_container=container,_cookies=_utils.getCookies(),_model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:void 0,file:void 0,image:void 0,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:!(!_cookies.mute||"true"!=_cookies.mute.toString().toLowerCase()),fullscreen:!1,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:!1,debug:void 0,screencolor:void 0}},_media,_eventDispatcher=new jwplayer.html5.eventdispatcher,_components=["display","logo","controlbar","playlist","dock"],type;for(var option in jwplayer.utils.extend(_model,_eventDispatcher),options){"string"==typeof options[option]&&(type=/color$/.test(option)?"color":null,options[option]=jwplayer.utils.typechecker(options[option],type));var config=_model.config,path=option.split(".");for(var edge in path)edge==path.length-1?config[path[edge]]=options[option]:(jwplayer.utils.exists(config[path[edge]])||(config[path[edge]]={}),config=config[path[edge]])}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)&&"string"==typeof _model.plugins){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins)"string"==typeof userplugins[userplugin]&&pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}if(jwplayer.utils.isMobile()?(pluginorder=["display","logo","dock","playlist"],jwplayer.utils.exists(_model.config.repeat)||(_model.config.repeat="list")):_model.config.chromeless&&(pluginorder=["logo","dock","playlist"],jwplayer.utils.exists(_model.config.repeat)||(_model.config.repeat="list")),_model.plugins={order:pluginorder,config:{},object:{}},void 0!==_model.config.components)for(var component in _model.config.components)_model.plugins.config[component]=_model.config.components[component];var playlistVisible=!1,position;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex],pluginConfig=jwplayer.utils.exists(_model.plugins.config[pluginName])?_model.plugins.config[pluginName]:{};_model.plugins.config[pluginName]=jwplayer.utils.exists(_model.plugins.config[pluginName])?jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig):pluginConfig,jwplayer.utils.exists(_model.plugins.config[pluginName].position)?("playlist"==pluginName&&(playlistVisible=!0),_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()):_model.plugins.config[pluginName].position="playlist"==pluginName?jwplayer.html5.view.positions.NONE:jwplayer.html5.view.positions.OVER}if((_model.plugins.config.controlbar&&playlistVisible&&(_model.plugins.config.controlbar.hideplaylistcontrols=!0),void 0!==_model.plugins.config.dock)&&("object"!=typeof _model.plugins.config.dock&&(position=_model.plugins.config.dock.toString().toUpperCase(),_model.plugins.config.dock={position:position}),void 0!==_model.plugins.config.dock.position&&(_model.plugins.config.dock.align=_model.plugins.config.dock.position,_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER),void 0===_model.plugins.config.dock.idlehide))try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide}catch(e){}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader;loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt),_loadComplete(!0)}),loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]}),_loadComplete(!1)}),loader.load(playlistfile)}function _loadComplete(){_model.config.shuffle?_model.item=_getShuffleItem():(_model.config.item>=_model.playlist.length?_model.config.item=_model.playlist.length-1:_model.config.item<0&&(_model.config.item=0),_model.item=_model.config.item),_model.position=0,_model.duration=0<_model.playlist.length?_model.playlist[_model.item].duration:0,_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist}),_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item})}function _getShuffleItem(){var result=null;if(1<_model.playlist.length)for(;!jwplayer.utils.exists(result);)(result=Math.floor(Math.random()*_model.playlist.length))==_model.item&&(result=null);else result=0;return result}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume}_eventDispatcher.sendEvent(evt.type,evt)}_model.loadPlaylist=function(arg){var input,config;if("string"==typeof arg)if(0==arg.indexOf("[")||"0"==arg.indexOf("{"))try{input=eval(arg)}catch(err){input=arg}else input=arg;else input=arg;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input}}_model.playlist=new jwplayer.html5.playlist(config),_model.item=0<=_model.config.item?_model.config.item:0,!_model.playlist[0].provider&&_model.playlist[0].file?_loadExternal(_model.playlist[0].file):_loadComplete()};var _mediaProviders={};return _model.setActiveMediaProvider=function(playlistItem){"audio"==playlistItem.provider&&(playlistItem.provider="sound");var provider=playlistItem.provider,current=_media?_media.getDisplayElement():null;if("sound"!=provider&&"http"!=provider&&""!=provider||(provider="video"),jwplayer.utils.exists(_mediaProviders[provider]))_media!=_mediaProviders[provider]&&(_media&&_media.stop(),_media=_mediaProviders[provider]);else{switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current||_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current||_container)}if(!jwplayer.utils.exists(_media))return!1;_media.addGlobalListener(forward),_mediaProviders[provider]=_media}return!0},_model.getMedia=function(){return _media},_model.seek=function(pos){return _eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos}),_media.seek(pos)},_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol),_model.volume=newVol},_model.setMute=function(state){_utils.saveCookie("mute",state),_model.mute=state},_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||0==_model.plugins.order.length)return jwplayer.utils.log("No plugins to set up"),_model;for(var i=0;i<_model.plugins.order.length;i++)try{var pluginName=_model.plugins.order[i];jwplayer.utils.exists(jwplayer.html5[pluginName])?_model.plugins.object[pluginName]="playlist"==pluginName?new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName]):new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName]):_model.plugins.order.splice(plugin,plugin+1),"function"==typeof _model.plugins.object[pluginName].addGlobalListener&&_model.plugins.object[pluginName].addGlobalListener(forward)}catch(err){jwplayer.utils.log("Could not setup "+pluginName)}},_model}}(jwplayer),function(a){a.html5.playlist=function(b){var d=[];if(b.playlist&&b.playlist instanceof Array&&0<b.playlist.length)for(var c in b.playlist)isNaN(parseInt(c))||d.push(new a.html5.playlistitem(b.playlist[c]));else d.push(new a.html5.playlistitem(b));return d}}(jwplayer),function(a){var c={size:180,position:a.html5.view.positions.NONE,itemheight:60,thumbs:!0,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""},b={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=a.utils,_css=_utils.css,_hide=function(d){_css(d,{display:"none"})},_show=function(d){_css(d,{display:"block"})},a.html5.playlistcomponent=function(r,C){var x=r,e=a.utils.extend({},c,x.skin.getComponentSettings("playlist"),C);if(e.position!=a.html5.view.positions.NONE&&void 0!==a.html5.view.positions[e.position]){var y,l,D,d,f,k=-1,h={background:void 0,item:void 0,itemOver:void 0,itemImage:void 0,itemActive:void 0};return this.getDisplayElement=function(){return y},this.resize=function(G,E){l=G,D=E,x.jwGetFullscreen()?_hide(y):_css(y,{display:"block",width:l,height:D})},this.show=function(){_show(y)},this.hide=function(){_hide(y)},function(){switch((y=document.createElement("div")).id=x.id+"_jwplayer_playlistcomponent",y.style.overflow="hidden",e.position){case a.html5.view.positions.RIGHT:case a.html5.view.positions.LEFT:y.style.width=e.size+"px";break;case a.html5.view.positions.TOP:case a.html5.view.positions.BOTTOM:y.style.height=e.size+"px"}!function(){for(var E in h)h[E]=function(E){return x.skin.getSkinElement("playlist",E)}(E)}(),h.item&&(e.itemheight=h.item.height),y.style.backgroundColor="#C6C6C6",x.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,s),x.jwAddEventListener(a.api.events.JWPLAYER_PLAYLIST_ITEM,v),x.jwAddEventListener(a.api.events.JWPLAYER_PLAYER_STATE,m)}(),this}function o(E){return function(){var F=f.getElementsByClassName("item")[E],G=e.fontcolor,H=h.item?"url("+h.item.src+")":"";E==x.jwGetPlaylistIndex()&&(""!==e.activecolor&&(G=e.activecolor),h.itemActive&&(H="url("+h.itemActive.src+")")),_css(F,{color:G,backgroundImage:H})}}function q(J){var Q=d[J],P=document.createElement("li");P.className="item",_css(P,{height:e.itemheight,display:"block",cursor:"pointer",backgroundImage:h.item?"url("+h.item.src+")":"",backgroundSize:"100% "+e.itemheight+"px"}),P.onmouseover=function(E){return function(){var F=f.getElementsByClassName("item")[E],G=e.fontcolor,H=h.item?"url("+h.item.src+")":"";E==x.jwGetPlaylistIndex()&&(""!==e.activecolor&&(G=e.activecolor),h.itemActive&&(H="url("+h.itemActive.src+")")),_css(F,{color:""!==e.overcolor?e.overcolor:G,backgroundImage:h.itemOver?"url("+h.itemOver.src+")":H})}}(J),P.onmouseout=o(J);var K=document.createElement("div"),G=new Image,L=0,M=0,N=0;"true"==e.thumbs.toString().toLowerCase()&&(Q.image||Q["playlist.image"]||h.itemImage)&&(G.className="image",N=h.itemImage?(L=(e.itemheight-h.itemImage.height)/2,M=h.itemImage.width,h.itemImage.height):(M=4*e.itemheight/3,e.itemheight),_css(K,{height:N,width:M,float:"left",styleFloat:"left",cssFloat:"left",margin:L+"px",background:"black",overflow:"hidden",position:"relative"}),_css(G,{position:"relative"}),K.appendChild(G),G.onload=function(){a.utils.stretch(a.utils.stretching.FILL,G,M,N,this.naturalWidth,this.naturalHeight)},Q["playlist.image"]?G.src=Q["playlist.image"]:Q.image?G.src=Q.image:h.itemImage&&(G.src=h.itemImage.src),P.appendChild(K));var F=l-M-2*L;D<e.itemheight*d.length&&(F-=15);var E=document.createElement("div");_css(E,{position:"relative",height:"100%",overflow:"hidden"});var H=document.createElement("span");0<Q.duration&&(H.className="duration",_css(H,{fontSize:(e.fontsize?e.fontsize:11)+"px",fontWeight:e.fontweight?e.fontweight:"bold",width:"40px",height:e.fontsize?e.fontsize+10:20,lineHeight:24,float:"right",styleFloat:"right",cssFloat:"right"}),H.innerHTML=_utils.timeFormat(Q.duration),E.appendChild(H));var I,O=document.createElement("span");return O.className="title",_css(O,{padding:"5px 5px 0 "+(L?0:"5px"),height:e.fontsize?e.fontsize+10:20,lineHeight:e.fontsize?e.fontsize+10:20,overflow:"hidden",float:"left",styleFloat:"left",cssFloat:"left",width:(0<Q.duration?F-50:F)-10+"px",fontSize:(e.fontsize?e.fontsize:13)+"px",fontWeight:e.fontweight?e.fontweight:"bold"}),O.innerHTML=Q?Q.title:"",E.appendChild(O),Q.description&&((I=document.createElement("span")).className="description",_css(I,{display:"block",float:"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:O.style.paddingLeft,paddingRight:O.style.paddingRight,lineHeight:(e.fontsize?e.fontsize+4:16)+"px",overflow:"hidden",position:"relative"}),I.innerHTML=Q.description,E.appendChild(I)),P.appendChild(E),P}function s(F){if(y.innerHTML="",d=function(){for(var F=x.jwGetPlaylist(),G=[],E=0;E<F.length;E++)F[E]["ova.hidden"]||G.push(F[E]);return G}()){items=[],f=function(){var E=document.createElement("ul");return _css(E,{width:y.style.width,minWidth:y.style.width,height:y.style.height,backgroundColor:e.backgroundcolor,backgroundImage:h.background?"url("+h.background.src+")":"",color:e.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:b[e.font]?b[e.font]:b._sans,fontSize:(e.fontsize?e.fontsize:11)+"px",fontStyle:e.fontstyle,fontWeight:e.fontweight,overflowY:"auto"}),E}();for(var G=0;G<d.length;G++){var E=q(G);E.onclick=function(E){return function(){x.jwPlaylistItem(E),x.jwPlay(!0)}}(G),f.appendChild(E),items.push(E)}o(k=x.jwGetPlaylistIndex())(),y.appendChild(f),_utils.isIOS()&&window.iScroll&&(f.style.height=e.itemheight*d.length+"px",new iScroll(y.id))}}function v(E){0<=k&&(o(k)(),k=E.index),o(E.index)(),f.scrollTop=x.jwGetPlaylistIndex()*e.itemheight}function m(){if(e.position==a.html5.view.positions.OVER)switch(x.jwGetState()){case a.api.events.state.IDLE:_show(y);break;default:_hide(y)}}}}(jwplayer),function(b){b.html5.playlistitem=function(d){var c=b.utils.extend({},{author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]},d);return c.type&&(c.provider=c.type,delete c.type),0===c.levels.length&&(c.levels[0]=new b.html5.playlistitemlevel(c)),c.provider?c.provider=c.provider.toLowerCase():c.provider=function(e){{if(b.utils.isYouTube(e.file))return"youtube";var c,f=b.utils.extension(e.file);if(f&&b.utils.extensionmap[f]){if("m3u8"==f)return"video";c=b.utils.extensionmap[f].html5}else e.type&&(c=e.type);if(c){var d=c.split("/")[0];if("audio"==d)return"sound";if("video"==d)return d}}return""}(c.levels[0]),c}}(jwplayer),function(a){a.html5.playlistitemlevel=function(b){var d={file:"",streamer:"",bitrate:0,width:0};for(var c in d)a.utils.exists(b[c])&&(d[c]=b[c]);return d}}(jwplayer),function(a){a.html5.playlistloader=function(){var c=new a.html5.eventdispatcher;function d(g){var f=[];try{f=a.utils.parsers.rssparser.parse(g.responseXML.firstChild);c.sendEvent(a.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new a.html5.playlist({playlist:f})})}catch(h){b("Could not parse the playlist")}}function b(e){c.sendEvent(a.api.events.JWPLAYER_ERROR,{message:e||"Could not load playlist an unknown reason."})}a.utils.extend(this,c),this.load=function(e){a.utils.ajax(e,d,b)}}}(jwplayer),function(a){a.html5.skin=function(){var b={},c=!1;this.load=function(d,e){new a.html5.skinloader(d,function(f){c=!0,b=f,e()},function(){new a.html5.skinloader("",function(f){c=!0,b=f,e()})})},this.getSkinElement=function(d,e){if(c)try{return b[d].elements[e]}catch(f){a.utils.log("No such skin component / element: ",[d,e])}return null},this.getComponentSettings=function(d){return c&&b&&b[d]?b[d].settings:null},this.getComponentLayout=function(d){return c?b[d].layout:null}}}(jwplayer),function(a){a.html5.skinloader=function(f,p,k){var j,o={},c=p,l=k,e=!0,n=f,s=!1;function d(y){var E=y.getElementsByTagName("component");if(0!==E.length)for(var H=0;H<E.length;H++){var C=E[H].getAttribute("name");o[C]={settings:{},elements:{},layout:{}};for(var G=E[H].getElementsByTagName("elements")[0].getElementsByTagName("element"),F=0;F<G.length;F++)!function(y,x){var A,w=new Image,t=y.getAttribute("name"),v=y.getAttribute("src");{var u,z;A=0===v.indexOf("data:image/png;base64,")?v:(u=a.utils.getAbsolutePath(n),z=u.substr(0,u.lastIndexOf("/")),[z,x,v].join("/"))}o[x].elements[t]={height:0,width:0,src:"",ready:!1,image:w},w.onload=function(B){!function(t,v,u){o[u]&&o[u].elements[v]?(o[u].elements[v].height=t.height,o[u].elements[v].width=t.width,o[u].elements[v].src=t.src,o[u].elements[v].ready=!0,r()):a.utils.log("Loaded an image for a missing element: "+u+"."+v)}(w,t,x)},w.onerror=function(B){s=!0,r(),l()},w.src=A}(G[F],C);var z=E[H].getElementsByTagName("settings")[0];if(z&&0<z.childNodes.length)for(var K=z.getElementsByTagName("setting"),P=0;P<K.length;P++){var Q=K[P].getAttribute("name"),I=K[P].getAttribute("value"),x=/color$/.test(Q)?"color":null;o[C].settings[Q]=a.utils.typechecker(I,x)}var L=E[H].getElementsByTagName("layout")[0];if(L&&0<L.childNodes.length)for(var M=L.getElementsByTagName("group"),w=0;w<M.length;w++){var A=M[w];o[C].layout[A.getAttribute("position")]={elements:[]};for(var O=0;O<A.attributes.length;O++){var D=A.attributes[O];o[C].layout[A.getAttribute("position")][D.name]=D.value}for(var N=A.getElementsByTagName("*"),v=0;v<N.length;v++){var t=N[v];o[C].layout[A.getAttribute("position")].elements.push({type:t.tagName});for(var u=0;u<t.attributes.length;u++){var J=t.attributes[u];o[C].layout[A.getAttribute("position")].elements[v][J.name]=J.value}a.utils.exists(o[C].layout[A.getAttribute("position")].elements[v].name)||(o[C].layout[A.getAttribute("position")].elements[v].name=t.tagName)}}e=!1,r()}}function r(){clearInterval(j),s||(j=setInterval(function(){!function(){for(var t in o)if("properties"!=t)for(var u in o[t].elements)if(!o[t].elements[u].ready)return;!1===e&&(clearInterval(j),c(o))}()},100))}"string"!=typeof n||""===n?d(a.html5.defaultSkin().xml):a.utils.ajax(a.utils.getAbsolutePath(n),function(t){try{if(a.utils.exists(t.responseXML))return void d(t.responseXML)}catch(u){!function(){for(var u in o){var w=o[u];for(var t in w.elements){var x=w.elements[t],v=x.image;v.onload=null,v.onerror=null,delete x.image,delete w.elements[t]}delete o[u]}}()}d(a.html5.defaultSkin().xml)},function(t){d(a.html5.defaultSkin().xml)})}}(jwplayer),function(a){a.html5.api=function(c,p){var n={},g=document.createElement("div");c.parentNode.replaceChild(g,c),g.id=c.id,n.version=a.version,n.id=g.id;var d,m=new a.html5.model(n,g,p),k=new a.html5.view(n,g,m),l=new a.html5.controller(n,g,m,k);function f(){m.state==a.api.events.state.PLAYING||m.state==a.api.events.state.BUFFERING?l.pause():l.play()}function j(q){return function(){return m[q]}}function e(q,s,r){return function(){var t=m.plugins.object[q];t&&t[s]&&"function"==typeof t[s]&&t[s].apply(t,r)}}function o(q){return function(){if(d&&"function"==typeof d[q])return d[q].apply(this,arguments);_utils.log("Could not call instream method - instream API not initialized")}}function b(){m.config.playlistfile?(m.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h),m.loadPlaylist(m.config.playlistfile)):"string"==typeof m.config.playlist?(m.addEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h),m.loadPlaylist(m.config.playlist)):(m.loadPlaylist(m.config),setTimeout(h,25))}function h(q){m.removeEventListener(a.api.events.JWPLAYER_PLAYLIST_LOADED,h),m.setupPlugins(),k.setup();q={id:n.id,version:n.version};l.playerReady(q)}return n.skin=new a.html5.skin,n.jwPlay=function(q){void 0===q?f():"true"==q.toString().toLowerCase()?l.play():l.pause()},n.jwPause=function(q){void 0===q?f():"true"==q.toString().toLowerCase()?l.pause():l.play()},n.jwStop=l.stop,n.jwSeek=l.seek,n.jwPlaylistItem=function(q){return d?d.playlistClickable()?(d.jwInstreamDestroy(),l.item(q)):void 0:l.item(q)},n.jwPlaylistNext=l.next,n.jwPlaylistPrev=l.prev,n.jwResize=l.resize,n.jwLoad=l.load,n.jwDetachMedia=l.detachMedia,n.jwAttachMedia=l.attachMedia,n.jwGetPlaylistIndex=j("item"),n.jwGetPosition=j("position"),n.jwGetDuration=j("duration"),n.jwGetBuffer=j("buffer"),n.jwGetWidth=j("width"),n.jwGetHeight=j("height"),n.jwGetFullscreen=j("fullscreen"),n.jwSetFullscreen=l.setFullscreen,n.jwGetVolume=j("volume"),n.jwSetVolume=l.setVolume,n.jwGetMute=j("mute"),n.jwSetMute=l.setMute,n.jwGetStretching=function(){return m.stretching.toUpperCase()},n.jwGetState=j("state"),n.jwGetVersion=function(){return n.version},n.jwGetPlaylist=function(){return m.playlist},n.jwAddEventListener=l.addEventListener,n.jwRemoveEventListener=l.removeEventListener,n.jwSendEvent=l.sendEvent,n.jwDockSetButton=function(t,q,r,s){m.plugins.object.dock&&m.plugins.object.dock.setButton&&m.plugins.object.dock.setButton(t,q,r,s)},n.jwControlbarShow=e("controlbar","show"),n.jwControlbarHide=e("controlbar","hide"),n.jwDockShow=e("dock","show"),n.jwDockHide=e("dock","hide"),n.jwDisplayShow=e("display","show"),n.jwDisplayHide=e("display","hide"),n.jwLoadInstream=function(r,q){d=d||new a.html5.instream(n,m,k,l),setTimeout(function(){d.load(r,q)},10)},n.jwInstreamDestroy=function(){d&&d.jwInstreamDestroy()},n.jwInstreamAddEventListener=o("jwInstreamAddEventListener"),n.jwInstreamRemoveEventListener=o("jwInstreamRemoveEventListener"),n.jwInstreamGetState=o("jwInstreamGetState"),n.jwInstreamGetDuration=o("jwInstreamGetDuration"),n.jwInstreamGetPosition=o("jwInstreamGetPosition"),n.jwInstreamPlay=o("jwInstreamPlay"),n.jwInstreamPause=o("jwInstreamPause"),n.jwInstreamSeek=o("jwInstreamSeek"),n.jwDestroy=function(){l.destroy()},n.jwGetLevel=function(){},n.jwGetBandwidth=function(){},n.jwGetLockState=function(){},n.jwLock=function(){},n.jwUnlock=function(){},m.config.chromeless&&!a.utils.isIOS()?b():n.skin.load(m.config.skin,b),n}}(jwplayer)),function(){function t(e){for(var t=-1,n=e.length,r=[];++t<n;)r.push(e[t]);return r}function r(){}function i(e){return e}function s(){return this}function o(){return!0}function u(e){return"function"==typeof e?e:function(){return e}}function f(e){return null!=e&&!isNaN(e)}function l(e){return e.length}function c(e){return null==e}function h(e){return e.trim().replace(/\s+/g," ")}function d(){}function v(e){function t(){for(var s,t=n,r=-1,i=t.length;++r<i;)(s=t[r].on)&&s.apply(this,arguments);return e}var n=[],i=new r;return t.on=function(t,r){var o,s=i.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function m(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function g(e){return e+""}function y(e){for(var t=e.lastIndexOf("."),n=0<=t?e.substring(t):(t=e.length,""),r=[];0<t;)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function E(e){return function(t){return 1-e(1-t)}}function S(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function x(e){return e}function T(e){return function(t){return Math.pow(t,e)}}function N(e){return 1-Math.cos(e*Math.PI/2)}function C(e){return Math.pow(2,10*(e-1))}function k(e){return 1-Math.sqrt(1-e*e)}function O(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function M(){d3.event.stopPropagation(),d3.event.preventDefault()}function _(){for(var t,e=d3.event;t=e.sourceEvent;)e=t;return e}function D(e){for(var t=new d,n=0,r=arguments.length;++n<r;)t[arguments[n]]=v(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function P(e){var t=[e.a,e.b],n=[e.c,e.d],r=B(t),i=H(t,n),s=B(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ls,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*ls:0}function H(e,t){return e[0]*t[0]+e[1]*t[1]}function B(e){var t=Math.sqrt(H(e,e));return t&&(e[0]/=t,e[1]/=t),t}function F(e){return"transform"==e?d3.interpolateTransform:d3.interpolate}function I(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function q(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function R(){}function U(e,t,n){return new z(e,t,n)}function z(e,t,n){this.r=e,this.g=t,this.b=n}function W(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function X(e,t,n){var u,a,r=0,i=0,s=0,o=/([a-z]+)\((.*)\)/i.exec(e);if(o)switch(u=o[2].split(","),o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(K(u[0]),K(u[1]),K(u[2]))}return(a=ds.get(e))?t(a.r,a.g,a.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):7===e.length&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function V(e,t,n){var o,u,r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),o=e==i?(t-n)/s+(t<n?6:0):t==i?(n-e)/s+2:(e-t)/s+4,o*=60):u=o=0,Q(o,u,a)}function $(e,t,n){var r=ut((.4124564*(e=J(e))+.3575761*(t=J(t))+.1804375*(n=J(n)))/ys),i=ut((.2126729*e+.7151522*t+.072175*n)/bs);return nt(116*i-16,500*(r-i),200*(i-ut((.0193339*e+.119192*t+.9503041*n)/ws)))}function J(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function K(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Q(e,t,n){return new G(e,t,n)}function G(e,t,n){this.h=e,this.s=t,this.l=n}function Y(e,t,n){function i(e){return Math.round(255*function(e){return 360<e?e-=360:e<0&&(e+=360),e<60?s+(o-s)*e/60:e<180?o:e<240?s+(o-s)*(240-e)/60:s}(e))}var s,o;return(e%=360)<0&&(e+=360),t=t<0?0:1<t?1:t,s=2*(n=n<0?0:1<n?1:n)-(o=n<=.5?n*(1+t):n+t-n*t),U(i(e+120),i(e),i(e-120))}function Z(e,t,n){return new et(e,t,n)}function et(e,t,n){this.h=e,this.c=t,this.l=n}function tt(e,t,n){return nt(n,Math.cos(e*=Math.PI/180)*t,Math.sin(e)*t)}function nt(e,t,n){return new rt(e,t,n)}function rt(e,t,n){this.l=e,this.a=t,this.b=n}function it(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return U(at(3.2404542*(i=ot(i)*ys)-1.5371385*(r=ot(r)*bs)-.4985314*(s=ot(s)*ws)),at(-.969266*i+1.8760108*r+.041556*s),at(.0556434*i-.2040259*r+1.0572252*s))}function st(e,t,n){return Z(Math.atan2(n,t)/Math.PI*180,Math.sqrt(t*t+n*n),e)}function ot(e){return.206893034<e?e*e*e:(e-4/29)/7.787037}function ut(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29}function at(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ft(e){return Qi(e,ks),e}function lt(e){return function(){return Ss(e,this)}}function ct(e){return function(){return xs(e,this)}}function ht(e,t){return e=d3.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function pt(e){return new RegExp("(?:^|\\s+)"+d3.requote(e)+"(?:\\s+|$)","g")}function dt(e,t){var i=(e=e.trim().split(/\s+/).map(vt)).length;return"function"==typeof t?function(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}:function(){for(var n=-1;++n<i;)e[n](this,t)}}function vt(e){var t=pt(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,s=null!=i.baseVal,o=s?i.baseVal:i;r?(t.lastIndex=0,t.test(o)||(o=h(o+" "+e),s?i.baseVal=o:n.className=o)):o&&(o=h(o.replace(t," ")),s?i.baseVal=o:n.className=o)}}function mt(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function gt(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function yt(e){return{__data__:e}}function bt(e){return function(){return Cs(this,e)}}function Et(e,t,n){function r(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}var s="__on"+e,o=e.indexOf(".");return 0<o&&(e=e.substring(0,o)),t?function(){function i(e){var n=d3.event;d3.event=e,u[0]=o.__data__;try{t.apply(o,u)}finally{d3.event=n}}var o=this,u=arguments;r.call(this),this.addEventListener(e,this[s]=i,i.$=n),i._=t}:r}function St(e,t){for(var n=0,r=e.length;n<r;n++)for(var u,i=e[n],s=0,o=i.length;s<o;s++)(u=i[s])&&t(u,s,n);return e}function xt(e){return Qi(e,As),e}function Tt(e,t,n){Qi(e,Os);var i=new r,s=d3.dispatch("start","end"),o=Fs;return e.id=t,e.time=n,e.tween=function(t,n){return arguments.length<2?i.get(t):(null==n?i.remove(t):i.set(t,n),e)},e.ease=function(t){return arguments.length?(o="function"==typeof t?t:d3.ease.apply(d3,arguments),e):o},e.each=function(t,n){return arguments.length<2?function(e){var t=_s,n=Fs,r=Bs,i=js;return _s=this.id,Fs=this.ease(),St(this,function(t,n,r){Bs=t.delay,js=t.duration,e.call(t=t.node,t.__data__,n,r)}),_s=t,Fs=n,Bs=r,js=i,this}.call(e,t):(s.on(t,n),e)},d3.timer(function(r){return St(e,function(e,u,a){function f(r){return v.active>t?c():(v.active=t,i.forEach(function(t,n){(n=n.call(e,m,u))&&h.push(n)}),s.start.call(e,m,u),l(r)||d3.timer(l,0,n),1)}function l(n){if(v.active!==t)return c();for(var r=(n-p)/d,i=o(r),a=h.length;0<a;)h[--a].call(e,i);return 1<=r?(c(),_s=t,s.end.call(e,m,u),_s=0,1):void 0}function c(){return--v.count||delete e.__transition__,1}var h=[],p=e.delay,d=e.duration,v=(e=e.node).__transition__||(e.__transition__={active:0,count:0}),m=e.__data__;++v.count,p<=r?f(r):d3.timer(f,p,n)})},0,n),e}function Ct(e,t,n){return""!=n&&Is}function kt(e,t){return d3.tween(e,F(t))}function Lt(){for(var e,t=Date.now(),n=Us;n;)(e=t-n.then)>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=At()-t;24<r?(isFinite(r)&&(clearTimeout(Ws),Ws=setTimeout(Lt,r)),zs=0):(zs=1,Xs(Lt))}function At(){for(var e=null,t=Us,n=1/0;t;)t=t.flush?(delete Rs[t.callback.id],e?e.next=t.next:Us=t.next):(n=Math.min(n,t.then+t.delay),(e=t).next);return n}function Ot(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i,r=n.createSVGPoint();return Vs<0&&(window.scrollX||window.scrollY)&&(i=(n=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0))[0][0].getScreenCTM(),Vs=!i.f&&!i.e,n.remove()),Vs?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function _t(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Dt(e){return e.rangeExtent?e.rangeExtent():_t(e.range())}function Pt(e,t){var o,n=0,r=e.length-1,i=e[n],s=e[r];return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),(t=t(s-i))&&(e[n]=t.floor(i),e[r]=t.ceil(s)),e}function Ht(){return Math}function jt(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ft(e){return(e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1))&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function It(e,t){var n=_t(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function qt(e,t){return d3.range.apply(d3,It(e,t))}function Rt(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(It(e,t)[2])/Math.LN10+.01))+"f")}function Ut(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function zt(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=u;)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function Xt(e){return Math.log(e<0?0:e)/Math.LN10}function Vt(e){return-Math.log(0<e?0:-e)/Math.LN10}function Jt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function en(e){return e.innerRadius}function tn(e){return e.outerRadius}function nn(e){return e.startAngle}function rn(e){return e.endAngle}function sn(e){function t(t){function o(){a.push("M",s(e(l),f))}for(var p,a=[],l=[],c=-1,h=t.length,d=u(n),v=u(r);++c<h;)i.call(this,p=t[c],c)?l.push([+d.call(this,p,c),+v.call(this,p,c)]):l.length&&(o(),l=[]);return l.length&&o(),a.length?a.join(""):null}var n=on,r=un,i=o,s=an,a=s.key,f=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?s=e:(s=eo.get(e)||an).key,t):a},t.tension=function(e){return arguments.length?(f=e,t):f},t}function on(e){return e[0]}function un(e){return e[1]}function an(e){return e.join("L")}function ln(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function cn(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function vn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return an(e);var l,n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n&&(r+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],i=e[1],a=2),1<t.length){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}return n&&(l=e[a],r+="Q"+(s[0]+2*u[0]/3)+","+(s[1]+2*u[1]/3)+","+l[0]+","+l[1]),r}function mn(e,t){for(var i,n=[],r=(1-t)/2,s=e[0],o=e[1],u=1,a=e.length;++u<a;)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function gn(e){if(e.length<3)return an(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];for(Sn(a,o,u);++t<n;)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Sn(a,o,u);for(t=-1;++t<2;)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Sn(a,o,u);return a.join("")}function En(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Sn(e,t,n){e.push("C",En(to,t),",",En(to,n),",",En(no,t),",",En(no,n),",",En(ro,t),",",En(ro,n))}function xn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Nn(e){for(var n,r,i,s,t=[],o=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=xn(i,s);++t<n;)r[t]=(o+(o=xn(i=s,s=e[t+1])))/2;return r[t]=o,r}(e),u=-1,a=e.length-1;++u<a;)n=xn(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:9<(s=(r=o[u]/n)*r+(i=o[u+1]/n)*i)&&(s=3*n/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i);for(u=-1;++u<=a;)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function kn(e){for(var t,i,s,n=-1,r=e.length;++n<r;)i=(t=e[n])[0],s=t[1]+Ys,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function Ln(e){function t(t){function o(){l.push("M",f(e(v),p),h,c(e(d.reverse()),p),"Z")}for(var y,x,T,l=[],d=[],v=[],m=-1,g=t.length,b=u(n),w=u(i),E=n===r?function(){return x}:u(r),S=i===s?function(){return T}:u(s);++m<g;)a.call(this,y=t[m],m)?(d.push([x=+b.call(this,y,m),T=+w.call(this,y,m)]),v.push([+E.call(this,y,m),+S.call(this,y,m)])):d.length&&(o(),d=[],v=[]);return d.length&&o(),l.length?l.join(""):null}var n=on,r=on,i=0,s=un,a=o,f=an,l=f.key,c=f,h="L",p=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?f=e:(f=eo.get(e)||an).key,c=f.reverse||f,h=f.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(p=e,t):p},t}function An(e){return e.source}function On(e){return e.target}function Mn(e){return e.radius}function Pn(e){return[e.x,e.y]}function Bn(){return 64}function jn(){return"circle"}function Fn(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function In(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function qn(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function zn(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;var n=Wn(e),r=Wn(t),i=n.pop(),s=r.pop(),o=null;for(;i===s;)o=i,i=n.pop(),s=r.pop();return o}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var s=i.length;n!==r;)i.splice(s,0,n),n=n.parent;return i}function Wn(e){for(var t=[],n=e.parent;null!=n;)t.push(e),n=(e=n).parent;return t.push(e),t}function Vn(e){e.fixed|=2}function $n(e){e.fixed&=1}function Jn(e){e.fixed|=4}function Kn(e){e.fixed&=3}function Gn(e){return 20}function Yn(e){return 1}function Zn(e){return e.x}function er(e){return e.y}function tr(e,t,n){e.y0=t,e.y=n}function nr(e){return d3.range(e.length)}function rr(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ir(e){for(var i,t=1,n=0,r=e[0][1],s=e.length;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function sr(e){return e.reduce(or,0)}function or(e,t){return e+t[1]}function ur(e,t){return ar(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ar(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];++n<=t;)s[n]=i*n+r;return s}function fr(e){return[d3.min(e),d3.max(e)]}function lr(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=dr,e.nodes=function(t){return vo=!0,(e.nodes=e)(t)},e}function cr(e){return e.children}function hr(e){return e.value}function pr(e,t){return t.value-e.value}function dr(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function vr(e,t){return e.value-t.value}function mr(e,t){var n=e._pack_next;(e._pack_next=t)._pack_prev=e,(t._pack_next=n)._pack_prev=t}function gr(e,t){(e._pack_next=t)._pack_prev=e}function yr(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.001<i*i-n*n-r*r}function br(e){function t(e){r=Math.min(e.x-e.r,r),i=Math.max(e.x+e.r,i),s=Math.min(e.y-e.r,s),o=Math.max(e.y+e.r,o)}if((n=e.children)&&(p=n.length)){var n,u,a,f,h,p,r=1/0,i=-1/0,s=1/0,o=-1/0;if(n.forEach(wr),(u=n[0]).x=-u.r,u.y=0,t(u),1<p&&((a=n[1]).x=a.r,a.y=0,t(a),2<p))for(xr(u,a,f=n[2]),t(f),mr(u,f),mr(u._pack_prev=f,a),a=u._pack_next,l=3;l<p;l++){xr(u,a,f=n[l]);for(var d=0,v=1,m=1,c=a._pack_next;c!==a;c=c._pack_next,v++)if(yr(c,f)){d=1;break}if(1==d)for(h=u._pack_prev;h!==c._pack_prev&&!yr(h,f);h=h._pack_prev,m++);d?(v<m||v==m&&a.r<u.r?gr(u,a=c):gr(u=h,a),l--):(mr(u,f),t(a=f))}for(var g=(r+i)/2,y=(s+o)/2,b=0,l=0;l<p;l++)(f=n[l]).x-=g,f.y-=y,b=Math.max(b,f.r+Math.sqrt(f.x*f.x+f.y*f.y));e.r=b,n.forEach(Er)}}function wr(e){e._pack_next=e._pack_prev=e}function Er(e){delete e._pack_next,delete e._pack_prev}function xr(e,t,n){var o,u,a,f,r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;r&&(i||s)?(o=t.r+n.r,a=.5+((r*=r)-(o*=o))/(2*(u=i*i+s*s)),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u),n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i):(n.x=e.x+r,n.y=e.y)}function Lr(e,t){return e.parent==t.parent?1:2}function Ar(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Or(e){var n,t=e.children;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Mr(e,t){var n=e.children;if(n&&(i=n.length))for(var r,i,s=-1;++s<i;)0<t(r=Mr(n[s],t),e)&&(e=r);return e}function _r(e,t){return e.x-t.x}function Dr(e,t){return t.x-e.x}function Pr(e,t){return e.depth-t.depth}function Hr(e,t){!function n(e,r){var i=e.children;if(i&&(a=i.length))for(var s,a,o=null,u=-1;++u<a;)n(s=i[u],o),o=s;t(e,r)}(e,null)}function Ir(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function qr(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function Rr(e,t){function n(e,r){d3.text(e,t,function(e){r(e&&n.parse(e))})}function r(t){return t.map(i).join(e)}function i(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp("\r\n|["+e+"\r\n]","g"),o=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e){var t;return n.parseRows(e,function(e,n){if(n){for(var r={},i=-1,s=t.length;++i<s;)r[t[i]]=e[i];return r}return t=e,null})},n.parseRows=function(e,t){function n(){if(s.lastIndex>=e.length)return i;if(l)return l=!1,r;var t=s.lastIndex;if(34===e.charCodeAt(t)){for(var n=t;n++<e.length;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;n++}s.lastIndex=n+2;var o=e.charCodeAt(n+1);return 13===o?(l=!0,10===e.charCodeAt(n+2)&&s.lastIndex++):10===o&&(l=!0),e.substring(t+1,n).replace(/""/g,'"')}var a=s.exec(e);return a?(l=a[0].charCodeAt(0)!==u,e.substring(t,a.index)):(s.lastIndex=e.length,e.substring(t))}var f,l,r={},i={},o=[],a=0;for(s.lastIndex=0;(f=n())!==i;){for(var c=[];f!==r&&f!==i;)c.push(f),f=n();t&&!(c=t(c,a++))||o.push(c)}return o},n.format=function(e){return e.map(r).join("\n")},n}function Ur(e,t){return function(n){return n&&e.hasOwnProperty(n.type)?e[n.type](n):t}}function zr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Wr(e,t){go.hasOwnProperty(e.type)&&go[e.type](e,t)}function Jr(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Zr(e){return e.source}function ei(e){return e.target}function ti(){function e(e){var t=Math.sin(e*=p)*d,n=Math.sin(p-e)*d,r=n*s+t*c,u=n*o+t*h,a=n*i+t*l;return[Math.atan2(u,r)/mo,Math.atan2(a,Math.sqrt(r*r+u*u))/mo]}var t,n,r,i,s,o,u,a,f,l,c,h,p,d;return e.distance=function(){return null==p&&(d=1/Math.sin(p=Math.acos(Math.max(-1,Math.min(1,i*l+r*f*Math.cos(u-t)))))),p},e.source=function(u){var a=Math.cos(t=u[0]*mo),f=Math.sin(t);return r=Math.cos(n=u[1]*mo),i=Math.sin(n),s=r*a,o=r*f,p=null,e},e.target=function(t){var n=Math.cos(u=t[0]*mo),r=Math.sin(u);return f=Math.cos(a=t[1]*mo),l=Math.sin(a),c=f*n,h=f*r,p=null,e},e}function ni(e,t){var n=ti().source(e).target(t);return n.distance(),n}function si(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function oi(e,t,n,r){var i=e[0],s=t[0],o=n[0],u=r[0],a=e[1],f=t[1],l=n[1],p=s-i,d=u-o,m=f-a,g=r[1]-l,y=(d*(a-l)-g*(i-o))/(g*p-d*m);return[i+y*p,a+y*m]}function ui(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){for(var t=r.leftEnd;(t=t.r)!=r.rightEnd&&i.rightOf(t,e););return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[wo[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=0<r?r:-r,o=0<i?i:-i;return n.c=e.x*r+e.y*i+.5*(r*r+i*i),o<s?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var f,s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,l=u.y<a.y||u.y==a.y&&u.x<a.x?(f=e,n):(f=t,r),c=s>=l.region.r.x;return c&&"l"===f.side||!c&&"r"===f.side?null:{x:s,y:o}},rightOf:function(e,t){var s,o,u,f,a,l,c,h,p,n=e.edge,r=n.region.r,i=t.x>r.x;return i&&"l"===e.side?1:i||"r"!==e.side?(1===n.a?(s=t.y-r.y,o=t.x-r.x,a=u=0,!i&&n.b<0||i&&0<=n.b?a=u=s>=n.b*o:(a=t.x+t.y*n.b>n.c,n.b<0&&(a=!a),a||(u=1)),u||(f=r.x-n.region.l.x,a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b),n.b<0&&(a=!a))):(l=n.c-n.a*t.x,c=t.y-l,a=(h=t.x-r.x)*h+(p=l-r.y)*p<c*c),"l"===e.side?a:!a):0},endPoint:function(e,n,r){e.ep[n]=r,e.ep[wo[n]]&&t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(!(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x))break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return 0===s.list.length},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init(),n.bottomSite=n.list.shift();for(var u,a,f,l,c,h,p,d,v,m,g,y,b,o=n.list.shift();;)if(s.empty()||(u=s.min()),o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x))a=r.leftBound(o),f=r.right(a),p=r.rightRegion(a),y=i.bisect(p,o),h=r.createHalfEdge(y,"l"),r.insert(a,h),(m=i.intersect(a,h))&&(s.del(a),s.insert(a,m,i.distance(m,o))),a=h,h=r.createHalfEdge(y,"r"),r.insert(a,h),(m=i.intersect(h,f))&&s.insert(h,m,i.distance(m,o)),o=n.list.shift();else{if(s.empty())break;a=s.extractMin(),l=r.left(a),f=r.right(a),c=r.right(f),p=r.leftRegion(a),d=r.rightRegion(f),g=a.vertex,i.endPoint(a.edge,a.side,g),i.endPoint(f.edge,f.side,g),r.del(a),s.del(f),r.del(f),b="l",p.y>d.y&&(v=p,p=d,d=v,b="r"),y=i.bisect(p,d),h=r.createHalfEdge(y,b),r.insert(l,h),i.endPoint(y,wo[b],g),(m=i.intersect(l,h))&&(s.del(l),s.insert(l,m,i.distance(m,p))),(m=i.intersect(h,c))&&s.insert(h,m,i.distance(m,p))}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function ai(){return{leaf:!0,nodes:[],point:null}}function li(e){return{x:e[0],y:e[1]}}function ci(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function hi(e){return e.substring(0,3)}function pi(e,t,n,r){for(var i,s,o=0,u=t.length,a=n.length;o<u;){if(a<=r)return-1;if(37==(i=t.charCodeAt(o++))){if(!(s=Uo[t.charAt(o++)])||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function di(e){return new RegExp("^(?:"+e.map(d3.requote).join("|")+")","i")}function vi(e){for(var t=new r,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function ki(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Li(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Pi(e){return e.toISOString()}function Hi(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Eo(n-1)),1),n}function s(e,n){return t(e=new Eo(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(1<s)for(;o<r;)n(o)%s||u.push(new Date(+o)),t(o,1);else for(;o<r;)u.push(new Date(+o)),t(o,1);return u}(e.floor=e).round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Bi(e);return(a.floor=a).round=Bi(r),a.ceil=Bi(i),a.offset=Bi(s),a.range=function(e,t,n){try{var r=new(Eo=ci);return r._=e,o(r,t,n)}finally{Eo=Date}},e}function Bi(e){return function(t,n){try{var r=new(Eo=ci);return r._=t,e(r,n)._}finally{Eo=Date}}}function ji(e,t,n){function r(t){return e(t)}return r.invert=function(t){return Ii(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Ii)},r.nice=function(e){return r.domain(Pt(r.domain(),function(){return e}))},r.ticks=function(n,i){var s=function(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}(r.domain());if("function"!=typeof n){var u=(s[1]-s[0])/n,a=d3.bisect(Vo,u);if(a==Vo.length)return t.year(s,n);if(!a)return e.ticks(n).map(Ii);Math.log(u/Vo[a-1])<Math.log(Vo[a]/u)&&--a,i=(n=t[a])[1],n=n[0].range}return n(s[0],new Date(+s[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return ji(e.copy(),t,n)},d3.rebind(r,e,"range","rangeRound","interpolate","clamp")}function Ii(e){return new Date(e)}function qi(e){return function(t){for(var n=e.length-1,r=e[n];!r[1](t);)r=e[--n];return r[0](t)}}function Ri(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function Ui(e){var t=e.getFullYear(),n=Ri(t);return t+(e-n)/(Ri(t+1)-n)}function zi(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function Wi(e){var t=e.getUTCFullYear(),n=zi(t);return t+(e-n)/(zi(t+1)-n)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(Xi){var Vi=CSSStyleDeclaration.prototype,$i=Vi.setProperty;Vi.setProperty=function(e,t,n){$i.call(this,e,t+"",n)}}d3={version:"2.10.3"};var Ji=function(e){return Array.prototype.slice.call(e)};try{Ji(document.documentElement.childNodes)[0].nodeType}catch(Ki){Ji=t}var Qi=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new r;for(var n in e)t.set(n,e[n]);return t},function(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}(r,{has:function(e){return Gi+e in this},get:function(e){return this[Gi+e]},set:function(e,t){return this[Gi+e]=t},remove:function(e){return(e=Gi+e)in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Yi&&e.call(this,t.substring(1),this[t])}});var Gi="\0",Yi=Gi.charCodeAt(0);d3.functor=u,d3.rebind=function(e,t){for(var i,n=1,r=arguments.length;++n<r;)e[i=arguments[n]]=function(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:t<e?1:t<=e?0:NaN},d3.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},d3.mean=function(e,t){var r,n=e.length,i=0,s=-1,o=0;if(1===arguments.length)for(;++s<n;)f(r=e[s])&&(i+=(r-i)/++o);else for(;++s<n;)f(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:void 0},d3.median=function(e,t){return 1<arguments.length&&(e=e.map(t)),(e=e.filter(f)).length?d3.quantile(e.sort(d3.ascending),.5):void 0},d3.min=function(e,t){var i,s,n=-1,r=e.length;if(1===arguments.length){for(;++n<r&&(null==(i=e[n])||i!=i);)i=void 0;for(;++n<r;)null!=(s=e[n])&&s<i&&(i=s)}else{for(;++n<r&&(null==(i=t.call(e,e[n],n))||i!=i);)i=void 0;for(;++n<r;)null!=(s=t.call(e,e[n],n))&&s<i&&(i=s)}return i},d3.max=function(e,t){var i,s,n=-1,r=e.length;if(1===arguments.length){for(;++n<r&&(null==(i=e[n])||i!=i);)i=void 0;for(;++n<r;)null!=(s=e[n])&&i<s&&(i=s)}else{for(;++n<r&&(null==(i=t.call(e,e[n],n))||i!=i);)i=void 0;for(;++n<r;)null!=(s=t.call(e,e[n],n))&&i<s&&(i=s)}return i},d3.extent=function(e,t){var i,s,o,n=-1,r=e.length;if(1===arguments.length){for(;++n<r&&(null==(i=o=e[n])||i!=i);)i=o=void 0;for(;++n<r;)null!=(s=e[n])&&(s<i&&(i=s),o<s&&(o=s))}else{for(;++n<r&&(null==(i=o=t.call(e,e[n],n))||i!=i);)i=void 0;for(;++n<r;)null!=(s=t.call(e,e[n],n))&&(s<i&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){for(var n,r,i;!(i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r)||1<i;);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(e,t){var n=arguments.length;n<2&&(t=1),n<1&&(e=0);var r=d3.random.normal();return function(){return Math.exp(e+t*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},d3.sum=function(e,t){var i,n=0,r=e.length,s=-1;if(1===arguments.length)for(;++s<r;)isNaN(i=+e[s])||(n+=i);else for(;++s<r;)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,l),n=new Array(t);++e<t;)for(var i,r=-1,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var s=r+i>>>1;e.call(t,t[s],s)<n?r=1+s:i=s}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=1+s}return r}}};var Zi=d3.bisector(function(e){return e});d3.bisectLeft=Zi.left,d3.bisect=d3.bisectRight=Zi.right,d3.first=function(e,t){var s,n=0,r=e.length,i=e[0];for(1===arguments.length&&(t=d3.ascending);++n<r;)0<t.call(e,i,s=e[n])&&(i=s);return i},d3.last=function(e,t){var s,n=0,r=e.length,i=e[0];for(1===arguments.length&&(t=d3.ascending);++n<r;)t.call(e,i,s=e[n])<=0&&(i=s);return i},d3.nest=function(){function e(t,s){if(s>=i.length)return u?u.call(n,t):o?t.sort(o):t;for(var c,h,d,a=-1,f=t.length,l=i[s++],p=new r,v={};++a<f;)(d=p.get(c=l(h=t[a])))?d.push(h):p.set(c,[h]);return p.forEach(function(t,n){v[t]=e(n,s)}),v}var o,u,n={},i=[],s=[];return n.map=function(t){return e(t,0)},n.entries=function(n){return function t(e,n){if(n>=i.length)return e;var u,r=[],o=s[n++];for(u in e)r.push({key:u,values:t(e[u],n)});return o&&r.sort(function(e,t){return o(e.key,t.key)}),r}(e(n,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return s[i.length-1]=e,n},n.sortValues=function(e){return o=e,n},n.rollup=function(e){return u=e,n},n},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){for(var n=[],r=-1,i=t.length;++r<i;)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var i,n=[],r=[],s=-1,o=e.length;for(arguments.length<2&&(t=c);++s<o;)t.call(r,i=e[s],s)?r=[]:(r.length||n.push(r),r.push(i));return n},d3.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var o,r=[],i=function(e){for(var t=1;e*t%1;)t*=10;return t}(Math.abs(n)),s=-1;if(e*=i,t*=i,(n*=i)<0)for(;(o=e+n*++s)>t;)r.push(o/i);else for(;(o=e+n*++s)<t;)r.push(o/i);return r},d3.requote=function(e){return e.replace(es,"\\$&")};var es=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?(n=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),t&&r.setRequestHeader("Accept",t),r.onreadystatechange=function(){var e;4===r.readyState&&(e=r.status,n(!e&&r.response||200<=e&&e<300||304===e?r:null))},r.send(null)},d3.text=function(e,t,n){arguments.length<3&&(n=t,t=null),d3.xhr(e,t,function(e){n(e&&e.responseText)})},d3.json=function(e,t){d3.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},d3.html=function(e,t){d3.text(e,"text/html",function(e){var n;null!=e&&((n=document.createRange()).selectNode(document.body),e=n.createContextualFragment(e)),t(e)})},d3.xml=function(e,t,n){arguments.length<3&&(n=t,t=null),d3.xhr(e,t,function(e){n(e&&e.responseXML)})};var ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:ts,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&(n=e.substring(0,t),e=e.substring(t+1)),ts.hasOwnProperty(n)?{space:ts[n],local:e}:e}},d3.dispatch=function(){for(var e=new d,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=v(e);return e},d.prototype.on=function(e,t){var n=e.indexOf("."),r="";return 0<n&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(e){var t=ns.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],s=+t[6],o=t[7],u=t[8],a=t[9],f=1,l="",c=!1,u=u&&+u.substring(1);switch(i&&(n="0",o&&(s-=Math.floor((s-1)/4))),a){case"n":o=!0,a="g";break;case"%":f=100,l="%",a="f";break;case"p":f=100,l="%",a="r";break;case"d":c=!0,u=0;break;case"s":f=-1,a="r"}return"r"!=a||u||(a="g"),a=rs.get(a)||g,function(e){if(c&&e%1)return"";var h,p,t=e<0&&(e=-e)?"-":r;return f<0?(e=(h=d3.formatPrefix(e,u)).scale(e),l=h.symbol):e*=f,e=a(e,u),i?((p=e.length+t.length)<s&&(e=new Array(s-p+1).join(n)+e),o&&(e=y(e)),e=t+e):(o&&(e=y(e)),(p=(e=t+e).length)<s&&(e=new Array(s-p+1).join(n)+e)),e+l}};var ns=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,rs=d3.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=m(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),is=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,m(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),is[8+n/3]};function us(){return x}var ss=T(2),os=T(3),as=d3.map({linear:us,poly:T,quad:function(){return ss},cubic:function(){return os},sin:function(){return N},exp:function(){return C},circle:function(){return k},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),n=arguments.length<1?(e=1,t/4):t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin(2*(r-n)*Math.PI/t)}},back:function(e){return e=e||1.70158,function(t){return t*t*((e+1)*t-e)}},bounce:function(){return O}}),fs=d3.map({in:x,out:E,"in-out":S,"out-in":function(e){return S(E(e))}});d3.ease=function(e){var t=e.indexOf("-"),n=0<=t?e.substring(0,t):e,r=0<=t?e.substring(t+1):"in",n=as.get(n)||us;return function(e){return function(t){return t<=0?0:1<=t?1:e(t)}}((r=fs.get(r)||x)(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new P(n?n.matrix:cs)})(e)},P.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ls=180/Math.PI,cs={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(e,t){for(var r,n=d3.interpolators.length;0<=--n&&!(r=d3.interpolators[n](e,t)););return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,f,l,s=0,u=[],a=[];for(hs.lastIndex=0,r=0;n=hs.exec(t);++r)n.index&&u.push(t.substring(s,n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=hs.lastIndex;for(s<t.length&&u.push(t.substring(s)),r=0,f=a.length;(n=hs.exec(e))&&r<f;++r)if((l=a[r]).x==n[0]){if(l.i)if(null==u[l.i+1])for(u[l.i-1]+=l.x,u.splice(l.i,1),i=r+1;i<f;++i)a[i].i--;else for(u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2),i=r+1;i<f;++i)a[i].i-=2;else if(null==u[l.i+1])u[l.i]=l.x;else for(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1),i=r+1;i<f;++i)a[i].i--;a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x));for(;r<f;)l=a.pop(),null==u[l.i+1]?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return 1===u.length?null==u[0]?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){var i,n=[],r=[],s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push("translate("+a+")"):n.push(""),f!=l?(180<f-l?l+=360:180<l-f&&(f+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(f,l)})):l&&n.push(n.pop()+"rotate("+l+")"),c!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):1==d[0]&&1==d[1]||n.push(n.pop()+"scale("+d+")"),i=r.length,function(e){for(var s,t=-1;++t<i;)n[(s=r[t]).i]=s.x(e);return n.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+W(Math.round(n+s*e))+W(Math.round(r+o*e))+W(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return 180<s?s-=360:s<-180&&(s+=360),function(e){return Y(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateLab=function(e,t){e=d3.lab(e),t=d3.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return it(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateHcl=function(e,t){e=d3.hcl(e),t=d3.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return 180<s?s-=360:s<-180&&(s+=360),function(e){return tt(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateArray=function(e,t){for(var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var i,n={},r={};for(i in e)i in t?n[i]=F(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return("string"==typeof e||"string"==typeof t)&&d3.interpolateString(e+"",t+"")},function(e,t){return("string"==typeof t?ds.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof R)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],R.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(e,t,n){return 1===arguments.length?e instanceof z?U(e.r,e.g,e.b):X(""+e,U,Y):U(~~e,~~t,~~n)};var ps=z.prototype=new R;ps.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),U(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e)))):U(i,i,i)},ps.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),U(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},ps.hsl=function(){return V(this.r,this.g,this.b)},ps.toString=function(){return"#"+W(this.r)+W(this.g)+W(this.b)};var ds=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});ds.forEach(function(e,t){ds.set(e,X(t,U,Y))}),d3.hsl=function(e,t,n){return 1===arguments.length?e instanceof G?Q(e.h,e.s,e.l):X(""+e,V,Q):Q(+e,+t,+n)};var vs=G.prototype=new R;vs.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),Q(this.h,this.s,this.l/e)},vs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),Q(this.h,this.s,e*this.l)},vs.rgb=function(){return Y(this.h,this.s,this.l)},d3.hcl=function(e,t,n){return 1===arguments.length?e instanceof et?Z(e.h,e.c,e.l):st(e instanceof rt?e.l:(e=$((e=d3.rgb(e)).r,e.g,e.b)).l,e.a,e.b):Z(+e,+t,+n)};var ms=et.prototype=new R;ms.brighter=function(e){return Z(this.h,this.c,Math.min(100,this.l+gs*(arguments.length?e:1)))},ms.darker=function(e){return Z(this.h,this.c,Math.max(0,this.l-gs*(arguments.length?e:1)))},ms.rgb=function(){return tt(this.h,this.c,this.l).rgb()},d3.lab=function(e,t,n){return 1===arguments.length?e instanceof rt?nt(e.l,e.a,e.b):e instanceof et?tt(e.l,e.c,e.h):$((e=d3.rgb(e)).r,e.g,e.b):nt(+e,+t,+n)};var gs=18,ys=.95047,bs=1,ws=1.08883,Es=rt.prototype=new R;Es.brighter=function(e){return nt(Math.min(100,this.l+gs*(arguments.length?e:1)),this.a,this.b)},Es.darker=function(e){return nt(Math.max(0,this.l-gs*(arguments.length?e:1)),this.a,this.b)},Es.rgb=function(){return it(this.l,this.a,this.b)};var Ss=function(e,t){return t.querySelector(e)},xs=function(e,t){return t.querySelectorAll(e)},Ts=document.documentElement,Ns=Ts.matchesSelector||Ts.webkitMatchesSelector||Ts.mozMatchesSelector||Ts.msMatchesSelector||Ts.oMatchesSelector,Cs=function(e,t){return Ns.call(e,t)};"function"==typeof Sizzle&&(Ss=function(e,t){return Sizzle(e,t)[0]||null},xs=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Cs=Sizzle.matchesSelector);var ks=[];d3.selection=function(){return Ls},(d3.selection.prototype=ks).select=function(e){var n,r,i,s,t=[];"function"!=typeof e&&(e=lt(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return ft(t)},ks.selectAll=function(e){var n,r,t=[];"function"!=typeof e&&(e=ct(e));for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)(r=o[u])&&(t.push(n=Ji(e.call(r,r.__data__,u))),n.parentNode=r);return ft(t)},ks.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=d3.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ht(t,e[t]));return this}return this.each(ht(e,t))},ks.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(null!=(t=n.className).baseVal&&(t=t.baseVal);++i<r;)if(!pt(e[i]).test(t))return!1;return!0}for(t in e)this.each(dt(t,e[t]));return this}return this.each(dt(e,t))},ks.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(mt(n,e[n],t));return this}if(r<2)return window.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(mt(e,t,n))},ks.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(gt(t,e[t]));return this}return this.each(gt(e,t))},ks.text=function(e){return arguments.length<1?this.node().textContent:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e})},ks.html=function(e){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e})},ks.append=function(e){return e=d3.ns.qualify(e),this.select(e.local?function(){return this.appendChild(document.createElementNS(e.space,e.local))}:function(){return this.appendChild(document.createElementNS(this.namespaceURI,e))})},ks.insert=function(e,t){return e=d3.ns.qualify(e),this.select(e.local?function(){return this.insertBefore(document.createElementNS(e.space,e.local),Ss(t,this))}:function(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),Ss(t,this))})},ks.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ks.data=function(e,t){function n(e,n){var v,m,s=e.length,o=n.length,u=Math.min(s,o),c=Math.max(s,o),h=[],p=[],d=[];if(t){for(var b,g=new r,y=[],w=n.length,i=-1;++i<s;)b=t.call(v=e[i],v.__data__,i),g.has(b)?d[w++]=v:g.set(b,v),y.push(b);for(i=-1;++i<o;)b=t.call(n,m=n[i],i),g.has(b)?(h[i]=v=g.get(b),v.__data__=m,p[i]=d[i]=null):(p[i]=yt(m),h[i]=d[i]=null),g.remove(b);for(i=-1;++i<s;)g.has(y[i])&&(d[i]=e[i])}else{for(i=-1;++i<u;)v=e[i],m=n[i],v?(v.__data__=m,h[i]=v,p[i]=d[i]=null):(p[i]=yt(m),h[i]=d[i]=null);for(;i<o;++i)p[i]=yt(n[i]),h[i]=d[i]=null;for(;i<c;++i)d[i]=e[i],p[i]=h[i]=null}p.update=h,p.parentNode=h.parentNode=d.parentNode=e.parentNode,a.push(p),f.push(h),l.push(d)}var o,u,i=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(o=this[0]).length);++i<s;)(u=o[i])&&(e[i]=u.__data__);return e}var a=xt([]),f=ft([]),l=ft([]);if("function"==typeof e)for(;++i<s;)n(o=this[i],e.call(o,o.parentNode.__data__,i));else for(;++i<s;)n(o=this[i],e);return f.enter=function(){return a},f.exit=function(){return l},f},ks.datum=ks.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},ks.filter=function(e){var n,r,i,t=[];"function"!=typeof e&&(e=bt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return ft(t)},ks.order=function(){for(var e=-1,t=this.length;++e<t;)for(var s,n=this[e],r=n.length-1,i=n[r];0<=--r;)(s=n[r])&&(i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s);return this},ks.sort=function(e){e=function(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ks.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(Et(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Et(e,t,n))},ks.each=function(e){return St(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ks.call=function(e){return e.apply(this,(e=this,arguments)),this},ks.empty=function(){return!this.node()},ks.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];if(o)return o}return null},ks.transition=function(){for(var t,n,e=[],r=-1,i=this.length;++r<i;){e.push(t=[]);for(var s=this[r],o=-1,u=s.length;++o<u;)t.push((n=s[o])?{node:n,delay:Bs,duration:js}:null)}return Tt(e,_s||++Ms,Date.now())};var Ls=ft([[document]]);Ls[0].parentNode=Ts,d3.select=function(e){return"string"==typeof e?Ls.select(e):ft([[e]])},d3.selectAll=function(e){return"string"==typeof e?Ls.selectAll(e):ft([Ji(e)])};var As=[];d3.selection.enter=xt,(d3.selection.enter.prototype=As).append=ks.append,As.insert=ks.insert,As.empty=ks.empty,As.node=ks.node,As.select=function(e){for(var n,r,i,s,o,t=[],u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return ft(t)};var Os=[],Ms=0,_s=0,Hs=d3.ease("cubic-in-out"),Bs=0,js=250,Fs=Hs;Os.call=ks.call,d3.transition=function(e){return arguments.length?_s?e.transition():e:Ls.transition()},(d3.transition.prototype=Os).select=function(e){var n,r,i,t=[];"function"!=typeof e&&(e=lt(e));for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(i=u[a])&&(r=e.call(i.node,i.node.__data__,a))?("__data__"in i.node&&(r.__data__=i.node.__data__),n.push({node:r,delay:i.delay,duration:i.duration})):n.push(null)}return Tt(t,this.id,this.time).ease(this.ease())},Os.selectAll=function(e){var n,r,i,t=[];"function"!=typeof e&&(e=ct(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a]){r=e.call(i.node,i.node.__data__,a),t.push(n=[]);for(var l=-1,c=r.length;++l<c;)n.push({node:r[l],delay:i.delay,duration:i.duration})}return Tt(t,this.id,this.time).ease(this.ease())},Os.filter=function(e){var n,i,t=[];"function"!=typeof e&&(e=bt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r,u=0,a=(r=this[s]).length;u<a;u++)(i=r[u])&&e.call(i.node,i.node.__data__,u)&&n.push(i)}return Tt(t,this.id,this.time).ease(this.ease())},Os.attr=function(e,t){if(arguments.length<2){for(t in e)this.attrTween(t,kt(e[t],t));return this}return this.attrTween(e,kt(t,e))},Os.attrTween=function(e,t){var i=d3.ns.qualify(e);return this.tween("attr."+e,i.local?function(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r===Is?(this.removeAttributeNS(i.space,i.local),null):r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}:function(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r===Is?(this.removeAttribute(i),null):r&&function(e){this.setAttribute(i,r(e))}})},Os.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.styleTween(n,kt(e[n],n),t);return this}n=""}return this.styleTween(e,kt(t,e),n)},Os.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return s===Is?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),n)}})},Os.text=function(e){return this.tween("text",function(t,n){this.textContent="function"==typeof e?e.call(this,t,n):e})},Os.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Os.delay=function(e){return St(this,"function"==typeof e?function(t,n,r){t.delay=0|e.call(t=t.node,t.__data__,n,r)}:(e|=0,function(t){t.delay=e}))},Os.duration=function(e){return St(this,"function"==typeof e?function(t,n,r){t.duration=Math.max(1,0|e.call(t=t.node,t.__data__,n,r))}:(e=Math.max(1,0|e),function(t){t.duration=e}))},Os.transition=function(){return this.select(s)},d3.tween=function(e,t){return"function"==typeof e?function(n,r,i){var s=e.call(this,n,r);return null==s?""!=i&&Is:i!=s&&t(i,s+"")}:null==e?Ct:(e+="",function(n,r,i){return i!=e&&t(i,e)})};var zs,Ws,Is={},qs=0,Rs={},Us=null;d3.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=Rs[e.id];r&&r.callback===e?(r.then=n,r.delay=t):Rs[e.id=++qs]=Us={callback:e,then:n,delay:t,next:Us},zs||(Ws=clearTimeout(Ws),zs=1,Xs(Lt))},d3.timer.flush=function(){for(var e,t=Date.now(),n=Us;n;)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;At()};var Xs=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.mouse=function(e){return Ot(e,_())};var Vs=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=_().touches),t?Ji(t).map(function(t){var n=Ot(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return function Bt(e,t,n,r){function i(){var i=2<Math.min(e.length,t.length)?zt:Ut,a=r?q:I;return o=i(e,t,a,n),u=i(t,e,a,d3.interpolate),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(d3.interpolateRound)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return qt(e,t)},s.tickFormat=function(t){return Rt(e,t)},s.nice=function(){return Pt(e,Ft),i()},s.copy=function(){return Bt(e,t,n,r)},i()}([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return function Wt(e,t){function n(n){return e(t(n))}var r=t.pow;return n.invert=function(t){return r(e.invert(t))},n.domain=function(i){return arguments.length?(t=i[0]<0?Vt:Xt,r=t.pow,e.domain(i.map(t)),n):e.domain().map(r)},n.nice=function(){return e.domain(Pt(e.domain(),Ht)),n},n.ticks=function(){var n=_t(e.domain()),i=[];if(n.every(isFinite)){var s=Math.floor(n[0]),o=Math.ceil(n[1]),u=r(n[0]),a=r(n[1]);if(t===Vt)for(i.push(r(s));s++<o;)for(var f=9;0<f;f--)i.push(r(s)*f);else{for(;s<o;s++)for(f=1;f<10;f++)i.push(r(s)*f);i.push(r(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},n.tickFormat=function(e,i){if(arguments.length<2&&(i=$s),arguments.length<1)return i;var u,s=Math.max(.1,e/n.ticks().length),o=t===Vt?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil);return function(e){return e/r(o(t(e)+u))<=s?i(e):""}},n.copy=function(){return Wt(e.copy(),t)},jt(n,e)}(d3.scale.linear(),Xt)};var $s=d3.format(".0e");Xt.pow=function(e){return Math.pow(10,e)},Vt.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return function $t(e,t){function n(t){return e(r(t))}var r=Jt(t),i=Jt(1/t);return n.invert=function(t){return i(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t.map(r)),n):e.domain().map(i)},n.ticks=function(e){return qt(n.domain(),e)},n.tickFormat=function(e){return Rt(n.domain(),e)},n.nice=function(){return n.domain(Pt(n.domain(),Ft))},n.exponent=function(e){if(!arguments.length)return t;var s=n.domain();return r=Jt(t=e),i=Jt(1/t),n.domain(s)},n.copy=function(){return $t(e.copy(),t)},jt(n,e)}(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return function Kt(e,t){function n(t){return o[((s.get(t)||s.set(t,e.push(t)))-1)%o.length]}function i(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var s,o,u;return n.domain=function(i){if(!arguments.length)return e;e=[],s=new r;for(var a,o=-1,u=i.length;++o<u;)s.has(a=i[o])||s.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,u=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var a=r[0],f=r[1],l=(f-a)/(Math.max(1,e.length-1)+s);return o=i(e.length<2?(a+f)/2:a+l*s/2,l),u=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=r[1]<r[0],l=r[+f],h=(r[1-f]-l)/(e.length-s+2*a);return o=i(l+h*a,h),f&&o.reverse(),u=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=r[1]<r[0],l=r[+f],c=r[1-f],h=Math.floor((c-l)/(e.length-s+2*a)),p=c-l-(e.length-s)*h;return o=i(l+Math.round(p/2),h),f&&o.reverse(),u=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return _t(t.a[0])},n.copy=function(){return Kt(e,t)},n.domain(e)}([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Js)},d3.scale.category20=function(){return d3.scale.ordinal().range(Ks)},d3.scale.category20b=function(){return d3.scale.ordinal().range(Qs)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Gs)};var Js=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Ks=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Qs=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Gs=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return function Qt(e,t){function n(){var n=0,o=(e.length,t.length);for(i=[];++n<o;)i[n-1]=d3.quantile(e,n/o);return r}function r(e){return isNaN(e=+e)?NaN:t[d3.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.copy=function(){return Qt(e,t)},n()}([],[])},d3.scale.quantize=function(){return function Gt(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.copy=function(){return Gt(e,t,n)},i()}(0,1,[0,1])},d3.scale.threshold=function(){return function Yt(e,t){function n(n){return t[d3.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Yt(e,t)},n}([.5],[0,1])},d3.scale.identity=function(){return function Zt(e){function t(e){return+e}return(t.invert=t).domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return qt(e,t)},t.tickFormat=function(t){return Rt(e,t)},t.copy=function(){return Zt(e)},t}([0,1])},d3.svg={},d3.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),o=r.apply(this,arguments)+Ys,u=i.apply(this,arguments)+Ys,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Math.PI?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return Zs<=a?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+f+",0 "+e*l+","+e*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0Z"}var t=en,n=tn,r=nn,i=rn;return e.innerRadius=function(n){return arguments.length?(t=u(n),e):t},e.outerRadius=function(t){return arguments.length?(n=u(t),e):n},e.startAngle=function(t){return arguments.length?(r=u(t),e):r},e.endAngle=function(t){return arguments.length?(i=u(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+Ys;return[Math.cos(s)*e,Math.sin(s)*e]},e};var Ys=-Math.PI/2,Zs=2*Math.PI-1e-6;d3.svg.line=function(){return sn(i)};var eo=d3.map({linear:an,"linear-closed":function(e){return an(e)+"Z"},"step-before":ln,"step-after":cn,basis:gn,"basis-open":function(e){if(e.length<4)return an(e);for(var i,t=[],n=-1,r=e.length,s=[0],o=[0];++n<3;)i=e[n],s.push(i[0]),o.push(i[1]);for(t.push(En(ro,s)+","+En(ro,o)),--n;++n<r;)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Sn(t,s,o);return t.join("")},"basis-closed":function(e){for(var t,s,n=-1,r=e.length,i=r+4,o=[],u=[];++n<4;)s=e[n%r],o.push(s[0]),u.push(s[1]);for(t=[En(ro,o),",",En(ro,u)],--n;++n<i;)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),Sn(t,o,u);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var a,f,r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1;++u<=n;)f=u/n,(a=e[u])[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o);return gn(e)},cardinal:function(e,t,n){return e.length<3?an(e):e[0]+vn(e,mn(e,t))},"cardinal-open":function(e,t){return e.length<4?an(e):e[1]+vn(e.slice(1,e.length-1),mn(e,t))},"cardinal-closed":function(e,t){return e.length<3?an(e):e[0]+vn((e.push(e[0]),e),mn([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?an(e):e[0]+vn(e,Nn(e))}});eo.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var to=[0,2/3,1/3,0],no=[0,1/3,2/3,0],ro=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=sn(kn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},(ln.reverse=cn).reverse=ln,d3.svg.area=function(){return Ln(i)},d3.svg.area.radial=function(){var e=Ln(kn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=a.call(e,i,r),o=f.call(e,i,r)+Ys,u=l.call(e,i,r)+Ys;return{r:s,a0:o,a1:u,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(u),s*Math.sin(u)]}}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Math.PI)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=An,o=On,a=Mn,f=nn,l=rn;return e.radius=function(t){return arguments.length?(a=u(t),e):a},e.source=function(t){return arguments.length?(s=u(t),e):s},e.target=function(t){return arguments.length?(o=u(t),e):o},e.startAngle=function(t){return arguments.length?(f=u(t),e):f},e.endAngle=function(t){return arguments.length?(l=u(t),e):l},e},d3.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return"M"+(a=a.map(r))[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=An,n=On,r=Pn;return e.source=function(n){return arguments.length?(t=u(n),e):t},e.target=function(t){return arguments.length?(n=u(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=Pn,n=e.projection;return e.projection=function(e){return arguments.length?n(function(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Ys;return[n*Math.cos(r),n*Math.sin(r)]}}(t=e)):t},e},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function e(e,r){return(io.get(t.call(this,e,r))||Fn)(n.call(this,e,r))}var t=jn,n=Bn;return e.type=function(n){return arguments.length?(t=u(n),e):t},e.size=function(t){return arguments.length?(n=u(t),e):n},e};var io=d3.map({circle:Fn,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*oo)),n=t*oo;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/so),n=t*so/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/so),n=t*so/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});d3.svg.symbolTypes=io.keys();var so=Math.sqrt(3),oo=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function e(e){e.each(function(){var S,e=d3.select(this),c=null==a?t.ticks?t.ticks.apply(t,u):t.domain():a,h=null==f?t.tickFormat?t.tickFormat.apply(t,u):String:f,p=function(e,t,n){if(i=[],n&&1<t.length){for(var i,a,f,r=_t(e.domain()),s=-1,o=t.length,u=(t[1]-t[0])/++n;++s<o;)for(a=n;0<--a;)(f=t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}(t,c,l),d=e.selectAll(".minor").data(p,String),v=d.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(d.exit()).style("opacity",1e-6).remove(),g=d3.transition(d).style("opacity",1),y=e.selectAll("g").data(c,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),E=d3.transition(y).style("opacity",1),x=Dt(t),T=e.selectAll(".domain").data([0]),C=(T.enter().append("path").attr("class","domain"),d3.transition(T)),k=t.copy(),L=this.__chart__||k;this.__chart__=k,b.append("line").attr("class","tick"),b.append("text");var P,H,A=b.select("line"),O=E.select("line"),M=y.select("text").text(h),_=b.select("text"),D=E.select("text");switch(n){case"bottom":S=In,v.attr("y2",i),g.attr("x2",0).attr("y2",i),A.attr("y2",r),_.attr("y",Math.max(r,0)+o),O.attr("x2",0).attr("y2",r),D.attr("x",0).attr("y",Math.max(r,0)+o),M.attr("dy",".71em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+s+"V0H"+x[1]+"V"+s);break;case"top":S=In,v.attr("y2",-i),g.attr("x2",0).attr("y2",-i),A.attr("y2",-r),_.attr("y",-(Math.max(r,0)+o)),O.attr("x2",0).attr("y2",-r),D.attr("x",0).attr("y",-(Math.max(r,0)+o)),M.attr("dy","0em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+-s+"V0H"+x[1]+"V"+-s);break;case"left":S=qn,v.attr("x2",-i),g.attr("x2",-i).attr("y2",0),A.attr("x2",-r),_.attr("x",-(Math.max(r,0)+o)),O.attr("x2",-r).attr("y2",0),D.attr("x",-(Math.max(r,0)+o)).attr("y",0),M.attr("dy",".32em").attr("text-anchor","end"),C.attr("d","M"+-s+","+x[0]+"H0V"+x[1]+"H"+-s);break;case"right":S=qn,v.attr("x2",i),g.attr("x2",i).attr("y2",0),A.attr("x2",r),_.attr("x",Math.max(r,0)+o),O.attr("x2",r).attr("y2",0),D.attr("x",Math.max(r,0)+o).attr("y",0),M.attr("dy",".32em").attr("text-anchor","start"),C.attr("d","M"+s+","+x[0]+"H0V"+x[1]+"H"+s)}t.ticks?(b.call(S,L),E.call(S,k),w.call(S,k),v.call(S,L),g.call(S,k),m.call(S,k)):(P=k.rangeBand()/2,H=function(e){return k(e)+P},b.call(S,H),E.call(S,H))})}var f,t=d3.scale.linear(),n="bottom",r=6,i=6,s=6,o=3,u=[10],a=null,l=0;return e.scale=function(n){return arguments.length?(t=n,e):t},e.orient=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return arguments.length?(u=arguments,e):u},e.tickValues=function(t){return arguments.length?(a=t,e):a},e.tickFormat=function(t){return arguments.length?(f=t,e):f},e.tickSize=function(t,n,o){if(!arguments.length)return r;var u=arguments.length-1;return r=+t,i=1<u?+n:r,s=0<u?+arguments[u]:r,e},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(t){return arguments.length?(l=+t,e):l},e},d3.svg.brush=function(){function e(s){s.each(function(){var h,s=d3.select(this),f=s.selectAll(".background").data([0]),l=s.selectAll(".extent").data([0]),c=s.selectAll(".resize").data(a,String);s.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),f.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),l.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return uo[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",e.empty()?"none":null),c.exit().remove(),o&&(h=Dt(o),f.attr("x",h[0]).attr("width",h[1]-h[0]),n(s)),u&&(h=Dt(u),f.attr("y",h[0]).attr("height",h[1]-h[0]),r(s)),t(s)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)][0]+","+f[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",f[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1][0]-f[0][0])}function r(e){e.select(".extent").attr("y",f[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1][1]-f[0][1])}function i(){function i(){var e=d3.event.changedTouches;return e?d3.touches(v,e)[0]:d3.mouse(v)}function h(){var e=i(),s=!1;N&&(e[0]+=N[0],e[1]+=N[1]),S||(d3.event.altKey?(x=x||[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],T[0]=f[+(e[0]<x[0])][0],T[1]=f[+(e[1]<x[1])][1]):x=null),w&&p(e,o,0)&&(n(y),s=!0),E&&p(e,u,1)&&(r(y),s=!0),s&&(t(y),g({type:"brush",mode:S?"move":"resize"}))}function p(e,t,n){var a,c,r=Dt(t),i=r[0],s=r[1],o=T[n],u=f[1][n]-f[0][n];return S&&(i-=o,s-=u+o),a=Math.max(i,Math.min(s,e[n])),S?c=(a+=o)+u:(x&&(o=Math.max(i,Math.min(s,2*x[n]-a))),o<a?(c=a,a=o):c=o),f[0][n]!==a||f[1][n]!==c?(l=null,f[0][n]=a,f[1][n]=c,1):void 0}function d(){h(),y.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),d3.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g({type:"brushend"}),M()}var x,k,L,N,v=this,m=d3.select(d3.event.target),g=s.of(v,arguments),y=d3.select(v),b=m.datum(),w=!/^(n|s)$/.test(b)&&o,E=!/^(e|w)$/.test(b)&&u,S=m.classed("extent"),T=i(),C=d3.select(window).on("mousemove.brush",h).on("mouseup.brush",d).on("touchmove.brush",h).on("touchend.brush",d).on("keydown.brush",function(){32==d3.event.keyCode&&(S||(x=null,T[0]-=f[1][0],T[1]-=f[1][1],S=2),M())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==S&&(T[0]+=f[1][0],T[1]+=f[1][1],S=0,M())});S?(T[0]=f[0][0]-T[0],T[1]=f[0][1]-T[1]):b?(k=+/w$/.test(b),L=+/^n/.test(b),N=[f[1-k][0]-T[0],f[1-L][1]-T[1]],T[0]=f[k][0],T[1]=f[L][1]):d3.event.altKey&&(x=T.slice()),y.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",m.style("cursor")),g({type:"brushstart"}),h(),M()}var l,s=D(e,"brushstart","brush","brushend"),o=null,u=null,a=ao[0],f=[[0,0],[0,0]];return e.x=function(t){return arguments.length?(a=ao[!(o=t)<<1|!u],e):o},e.y=function(t){return arguments.length?(a=ao[!o<<1|!(u=t)],e):u},e.extent=function(t){var n,r,i,s,a;return arguments.length?(l=[[0,0],[0,0]],o&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),l[0][0]=n,l[1][0]=r,o.invert&&(n=o(n),r=o(r)),r<n&&(a=n,n=r,r=a),f[0][0]=0|n,f[1][0]=0|r),u&&(i=t[0],s=t[1],o&&(i=i[1],s=s[1]),l[0][1]=i,l[1][1]=s,u.invert&&(i=u(i),s=u(s)),s<i&&(a=i,i=s,s=a),f[0][1]=0|i,f[1][1]=0|s),e):(t=l||f,o&&(n=t[0][0],r=t[1][0],l||(n=f[0][0],r=f[1][0],o.invert&&(n=o.invert(n),r=o.invert(r)),r<n&&(a=n,n=r,r=a))),u&&(i=t[0][1],s=t[1][1],l||(i=f[0][1],s=f[1][1],u.invert&&(i=u.invert(i),s=u.invert(s)),s<i&&(a=i,i=s,s=a))),o&&u?[[n,i],[r,s]]:o?[n,r]:u&&[i,s])},e.clear=function(){return l=null,f[0][0]=f[0][1]=f[1][0]=f[1][1]=0,e},e.empty=function(){return o&&f[0][0]===f[1][0]||u&&f[0][1]===f[1][1]},d3.rebind(e,s,"on")};var uo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ao=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=o.parentNode;return f?d3.touches(e).filter(function(e){return e.identifier===f})[0]:d3.mouse(e)}function i(){u({type:"dragend"}),h&&(M(),d3.event.target===a&&p.on("click.drag",s,!0)),p.on(f?"touchmove.drag-"+f:"mousemove.drag",null).on(f?"touchend.drag-"+f:"mouseup.drag",null)}function s(){M(),p.on("click.drag",null)}var o=this,u=n.of(o,arguments),a=d3.event.target,f=d3.event.touches&&d3.event.changedTouches[0].identifier,c=e(),h=0,p=d3.select(window).on(f?"touchmove.drag-"+f:"mousemove.drag",function(){if(!o.parentNode)return i();var t=e(),n=t[0]-c[0],r=t[1]-c[1];h|=n|r,c=t,M(),u({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:n,dy:r})}).on(f?"touchend.drag-"+f:"mouseup.drag",i,!0),l=r?[(l=r.apply(o,arguments)).x-c[0],l.y-c[1]]:[0,0];f||M(),u({type:"dragstart"})}var n=D(e,"drag","dragstart","dragend"),r=null;return e.origin=function(t){return arguments.length?(r=t,e):r},d3.rebind(e,n,"on")},d3.behavior.zoom=function(){function e(){this.on("mousedown.zoom",o).on("mousewheel.zoom",u).on("mousemove.zoom",a).on("DOMMouseScroll.zoom",u).on("dblclick.zoom",f).on("touchstart.zoom",l).on("touchmove.zoom",c).on("touchend.zoom",l)}function t(e){return[(e[0]-h[0])/d,(e[1]-h[1])/d]}function r(e){d=Math.max(m[0],Math.min(m[1],e))}function i(e,t){t=function(e){return[e[0]*d+h[0],e[1]*d+h[1]]}(t),h[0]+=e[0]-t[0],h[1]+=e[1]-t[1]}function s(e){b&&b.domain(y.range().map(function(e){return(e-h[0])/d}).map(y.invert)),E&&E.domain(w.range().map(function(e){return(e-h[1])/d}).map(w.invert)),d3.event.preventDefault(),e({type:"zoom",scale:d,translate:h})}function o(){function r(){M(),l.on("click.zoom",null)}var o=this,u=g.of(o,arguments),a=d3.event.target,f=0,l=d3.select(window).on("mousemove.zoom",function(){f=1,i(d3.mouse(o),c),s(u)}).on("mouseup.zoom",function(){f&&M(),l.on("mousemove.zoom",null).on("mouseup.zoom",null),f&&d3.event.target===a&&l.on("click.zoom",r,!0)}),c=t(d3.mouse(o));window.focus(),M()}function u(){p=p||t(d3.mouse(this)),r(Math.pow(2,.002*function(){fo=fo||d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode;var t,e=d3.event;try{fo.scrollTop=1e3,fo.dispatchEvent(e),t=1e3-fo.scrollTop}catch(n){t=e.wheelDelta||5*-e.detail}return t}())*d),i(d3.mouse(this),p),s(g.of(this,arguments))}function a(){p=null}function f(){var e=d3.mouse(this),n=t(e);r(d3.event.shiftKey?d/2:2*d),i(e,n),s(g.of(this,arguments))}function l(){var o,u,e=d3.touches(this),n=Date.now();v=d,p={},e.forEach(function(e){p[e.identifier]=t(e)}),M(),1===e.length&&(n-S<500&&(o=e[0],u=t(e[0]),r(2*d),i(o,u),s(g.of(this,arguments))),S=n)}function c(){var o,u,e=d3.touches(this),t=e[0],n=p[t.identifier];(o=e[1])&&(u=p[o.identifier],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n=[(n[0]+u[0])/2,(n[1]+u[1])/2],r(d3.event.scale*v)),i(t,n),S=null,s(g.of(this,arguments))}var p,v,y,b,w,E,S,h=[0,0],d=1,m=lo,g=D(e,"zoom");return e.translate=function(t){return arguments.length?(h=t.map(Number),e):h},e.scale=function(t){return arguments.length?(d=+t,e):d},e.scaleExtent=function(t){return arguments.length?(m=null==t?lo:t.map(Number),e):m},e.x=function(t){return arguments.length?(y=(b=t).copy(),e):b},e.y=function(t){return arguments.length?(w=(E=t).copy(),e):E},d3.rebind(e,g,"on")};var fo,lo=[0,1/0];d3.layout={},d3.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(zn(e[n]));return t}},d3.layout.chord=function(){function e(){var p,d,v,m,g,e={},n=[],c=d3.range(o),h=[];for(r=[],i=[],p=0,m=-1;++m<o;){for(d=0,g=-1;++g<o;)d+=s[m][g];n.push(d),h.push(d3.range(o)),p+=d}for(a&&c.sort(function(e,t){return a(n[e],n[t])}),f&&h.forEach(function(e,t){e.sort(function(e,n){return f(s[t][e],s[t][n])})}),p=(2*Math.PI-u*o)/p,d=0,m=-1;++m<o;){for(v=d,g=-1;++g<o;){var y=c[m],b=h[y][g],w=s[y][b],E=d,S=d+=w*p;e[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}i[y]={index:y,startAngle:v,endAngle:d,value:(d-v)/p},d+=u}for(m=-1;++m<o;)for(g=m-1;++g<o;){var x=e[m+"-"+g],T=e[g+"-"+m];(x.value||T.value)&&r.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}l&&t()}function t(){r.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var r,i,s,o,a,f,l,n={},u=0;return n.matrix=function(e){return arguments.length?(o=(s=e)&&s.length,r=i=null,n):s},n.padding=function(e){return arguments.length?(u=e,r=i=null,n):u},n.sortGroups=function(e){return arguments.length?(a=e,r=i=null,n):a},n.sortSubgroups=function(e){return arguments.length?(f=e,r=null,n):f},n.sortChords=function(e){return arguments.length?(l=e,r&&t(),n):l},n.chords=function(){return r||e(),r},n.groups=function(){return i||e(),i},n},d3.layout.force=function(){function e(e){return function(t,n,r,i,s){if(t.point!==e){var o=t.cx-e.x,u=t.cy-e.y,a=1/Math.sqrt(o*o+u*u);if((i-n)*a<d){var f=t.charge*a*a;return e.px-=o*f,e.py-=u*f,!0}t.point&&isFinite(a)&&(f=t.pointCharge*a*a,e.px-=o*f,e.py-=u*f)}return!t.charge}}function t(e){e.px=d3.event.x,e.py=d3.event.y,n.resume()}var o,a,y,b,w,n={},r=d3.dispatch("start","tick","end"),s=[1,1],f=.9,l=Gn,c=Yn,h=-30,p=.1,d=.8,m=[],g=[];return n.tick=function(){if((a*=.99)<.005)return r.end({type:"end",alpha:a=0}),!0;for(var i,u,l,c,d,v,E,S,t=m.length,n=g.length,o=0;o<n;++o)l=(u=g[o]).source,(d=(E=(c=u.target).x-l.x)*E+(S=c.y-l.y)*S)&&(E*=d=a*b[o]*((d=Math.sqrt(d))-y[o])/d,S*=d,c.x-=E*(v=l.weight/(c.weight+l.weight)),c.y-=S*v,l.x+=E*(v=1-v),l.y+=S*v);if((v=a*p)&&(E=s[0]/2,S=s[1]/2,o=-1,v))for(;++o<t;)(u=m[o]).x+=(E-u.x)*v,u.y+=(S-u.y)*v;if(h)for(function Qn(e,t,n){var f,r=0,i=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,o=s.length,u=-1;++u<o;)null!=(a=s[u])&&(Qn(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);e.point&&(e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5),f=t*n[e.point.index],e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y),e.cx=r/e.charge,e.cy=i/e.charge}(i=d3.geom.quadtree(m),a,w),o=-1;++o<t;)(u=m[o]).fixed||i.visit(e(u));for(o=-1;++o<t;)(u=m[o]).fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*f,u.y-=(u.py-(u.py=u.y))*f);r.tick({type:"tick",alpha:a})},n.nodes=function(e){return arguments.length?(m=e,n):m},n.links=function(e){return arguments.length?(g=e,n):g},n.size=function(e){return arguments.length?(s=e,n):s},n.linkDistance=function(e){return arguments.length?(l=u(e),n):l},n.distance=n.linkDistance,n.linkStrength=function(e){return arguments.length?(c=u(e),n):c},n.friction=function(e){return arguments.length?(f=e,n):f},n.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,n):h},n.gravity=function(e){return arguments.length?(p=e,n):p},n.theta=function(e){return arguments.length?(d=e,n):d},n.alpha=function(e){return arguments.length?(a?a=0<e?e:0:0<e&&(r.start({type:"start",alpha:a=e}),d3.timer(n.tick)),n):a},n.start=function(){function e(e,n){for(var u,i=t(),s=-1,o=i.length;++s<o;)if(!isNaN(u=i[s][e]))return u;return Math.random()*n}function t(){if(!p){for(p=[],i=0;i<o;++i)p[i]=[];for(i=0;i<u;++i){var e=g[i];p[e.source.index].push(e.target),p[e.target.index].push(e.source)}}return p[r]}for(var i,p,d,o=m.length,u=g.length,a=s[0],f=s[1],r=0;r<o;++r)(d=m[r]).index=r,d.weight=0;for(y=[],b=[],r=0;r<u;++r)"number"==typeof(d=g[r]).source&&(d.source=m[d.source]),"number"==typeof d.target&&(d.target=m[d.target]),y[r]=l.call(this,d,r),b[r]=c.call(this,d,r),++d.source.weight,++d.target.weight;for(r=0;r<o;++r)d=m[r],isNaN(d.x)&&(d.x=e("x",a)),isNaN(d.y)&&(d.y=e("y",f)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(w=[],"function"==typeof h)for(r=0;r<o;++r)w[r]=+h.call(this,m[r],r);else for(r=0;r<o;++r)w[r]=h;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){o=o||d3.behavior.drag().origin(i).on("dragstart",Vn).on("drag",t).on("dragend",$n),this.on("mouseover.force",Jn).on("mouseout.force",Kn).call(o)},d3.rebind(n,r,"on")},d3.layout.partition=function(){function n(n,s){var o=r.call(this,n,s);return function e(t,n,r,i){var s=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,s&&(u=s.length)){var u,a,f,o=-1;for(r=t.value?r/t.value:0;++o<u;)e(a=s[o],n,f=a.value*r,i),n+=f}}(o[0],0,i[0],i[1]/function t(e){var n=e.children,r=0;if(n&&(s=n.length))for(var s,i=-1;++i<s;)r=Math.max(r,t(n[i]));return 1+r}(o[0])),o}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},lr(n,r)},d3.layout.pie=function(){function e(s,o){var u=s.map(function(n,r){return+t.call(e,n,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),f=(("function"==typeof i?i.apply(this,arguments):i)-r)/d3.sum(u),l=d3.range(s.length);null!=n&&l.sort(n===co?function(e,t){return u[t]-u[e]}:function(e,t){return n(s[e],s[t])});var c=[];return l.forEach(function(e){var t;c[e]={data:s[e],value:t=u[e],startAngle:a,endAngle:a+=t*f}}),c}var t=Number,n=co,r=0,i=2*Math.PI;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var co={};d3.layout.stack=function(){function e(i,a){for(var v,g,l=(f=i.map(function(n,r){return t.call(e,n,r)})).map(function(t,n){return t.map(function(t,n){return[o.call(e,t,n),u.call(e,t,n)]})}),c=n.call(e,l,a),f=d3.permute(f,c),l=d3.permute(l,c),h=r.call(e,l,a),p=f.length,d=f[0].length,m=0;m<d;++m)for(s.call(e,f[0][m],g=h[m],l[0][m][1]),v=1;v<p;++v)s.call(e,f[v][m],g+=l[v-1][m][1],l[v][m][1]);return i}var t=i,n=nr,r=rr,s=tr,o=Zn,u=er;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ho.get(t)||nr,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:po.get(t)||rr,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(u=t,e):u},e.out=function(t){return arguments.length?(s=t,e):s},e};var ho=d3.map({"inside-out":function(e){for(var r,t=e.length,i=e.map(ir),s=e.map(sr),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[],n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},default:nr}),po=d3.map({silhouette:function(e){for(var s,u,t=e.length,n=e[0].length,r=[],i=0,a=[],o=0;o<n;++o){for(u=s=0;s<t;s++)u+=e[s][o][1];i<u&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var s,o,u,a,f,l,c,h,p,t=e.length,n=e[0],r=n.length,d=[];for(d[0]=h=p=0,o=1;o<r;++o){for(a=s=0;s<t;++s)a+=e[s][o][1];for(f=s=0,c=n[o][0]-n[o-1][0];s<t;++s){for(u=0,l=(e[s][o][1]-e[s][o-1][1])/(2*c);u<s;++u)l+=(e[u][o][1]-e[u][o-1][1])/c;f+=l*e[s][o][1]}d[o]=h-=a?f/a*c:0,h<p&&(p=h)}for(o=0;o<r;++o)d[o]-=p;return d},expand:function(e){for(var i,o,t=e.length,n=e[0].length,r=1/t,u=[],s=0;s<n;++s){for(o=i=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:rr});d3.layout.histogram=function(){function e(e,s){for(var l,d,o=[],u=e.map(n,this),a=r.call(this,u,s),f=i.call(this,a,u,s),s=-1,c=u.length,h=f.length-1,p=t?1:1/c;++s<h;)(l=o[s]=[]).dx=f[s+1]-(l.x=f[s]),l.y=0;if(0<h)for(s=-1;++s<c;)(d=u[s])>=a[0]&&d<=a[1]&&((l=o[d3.bisect(f,d,1,h)-1]).y+=p,l.push(e[s]));return o}var t=!0,n=Number,r=fr,i=ur;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=u(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return ar(e,t)}:u(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e};var vo=!(d3.layout.hierarchy=function(){function e(t,o,u){var a=i.call(n,t,o),f=vo?t:{data:t};if(f.depth=o,u.push(f),a&&(c=a.length)){for(var c,v,l=-1,h=f.children=[],p=0,d=o+1;++l<c;)(v=e(a[l],d,u)).parent=f,h.push(v),p+=v.value;r&&h.sort(r),s&&(f.value=p)}else s&&(f.value=+s.call(n,t,o)||0);return f}function n(t){var n=[];return e(t,0,n),n}var r=pr,i=cr,s=hr;return n.sort=function(e){return arguments.length?(r=e,n):r},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(s=e,n):s},n.revalue=function(e){return function t(e,r){var i=e.children,o=0;if(i&&(a=i.length))for(var a,u=-1,f=r+1;++u<a;)o+=t(i[u],f);else s&&(o=+s.call(n,vo?e:e.data,r)||0);return s&&(e.value=o),o}(e,0),e},n});d3.layout.pack=function(){function e(e,i){var s=t.call(this,e,i),o=s[0];o.x=0,o.y=0,Hr(o,function(e){e.r=Math.sqrt(e.value)}),Hr(o,br);var l,u=r[0],a=r[1],f=Math.max(2*o.r/u,2*o.r/a);return 0<n&&(l=n*f/2,Hr(o,function(e){e.r+=l}),Hr(o,br),Hr(o,function(e){e.r-=l}),f=Math.max(2*o.r/u,2*o.r/a)),function Sr(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var s=-1,o=i.length;++s<o;)Sr(i[s],t,n,r)}(o,u/2,a/2,1/f),s}var t=d3.layout.hierarchy().sort(vr),n=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.padding=function(t){return arguments.length?(n=+t,e):n},lr(e,t)},d3.layout.cluster=function(){function e(e,i){var u,s=t.call(this,e,i),o=s[0],a=0;Hr(o,function(e){var t=e.children;t&&t.length?(e.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(t),e.y=function(e){return 1+d3.max(e,function(e){return e.y})}(t)):(e.x=u?a+=n(e,u):0,e.y=0,u=e)});var c=function Cr(e){var t=e.children;return t&&t.length?Cr(t[0]):e}(o),h=function kr(e){var n,t=e.children;return t&&(n=t.length)?kr(t[n-1]):e}(o),p=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return Hr(o,function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=(1-(o.y?e.y/o.y:1))*r[1]}),s}var t=d3.layout.hierarchy().sort(null).value(null),n=Lr,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},lr(e,t)},d3.layout.tree=function(){function e(e,i){var a=t.call(this,e,i),f=a[0];Hr(f,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),function s(e,t){var r=e.children,i=e._tree;if(r&&(o=r.length)){for(var o,f,c,a=r[0],l=a,h=-1;++h<o;)s(c=r[h],f),l=function(e,t,r){if(t){for(var h,i=e,s=e,o=t,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod;o=Or(o),i=Ar(i),o&&i;)u=Ar(u),(s=Or(s))._tree.ancestor=e,0<(h=o._tree.prelim+l-i._tree.prelim-a+n(o,i))&&(function(e,t,n){e=e._tree;var r=n/((t=t._tree).number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}(function(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!Or(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!Ar(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}(c,f,l),f=c;!function(e){for(var s,t=0,n=0,r=e.children,i=r.length;0<=--i;)(s=r[i]._tree).prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}(e);var p=.5*(a._tree.prelim+c._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-p):i.prelim=p}else t&&(i.prelim=t._tree.prelim+n(e,t))}(f),function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var i,r=-1;for(t+=e._tree.mod;++r<i;)o(n[r],t)}}(f,-f._tree.prelim);var l=Mr(f,Dr),c=Mr(f,_r),h=Mr(f,Pr),p=l.x-n(l,c)/2,d=c.x+n(c,l)/2,v=h.depth||1;return Hr(f,function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=e.depth/v*r[1],delete e._tree}),a}var t=d3.layout.hierarchy().sort(null).value(null),n=Lr,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},lr(e,t)},d3.layout.treemap=function(){function e(e,t){for(var i,s,n=-1,r=e.length;++n<r;)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function t(n){var s=n.children;if(s&&s.length){var f,h,d,o=l(n),u=[],a=s.slice(),c=1/0,p=Math.min(o.dx,o.dy);for(e(a,o.dx*o.dy/n.value),u.area=0;0<(d=a.length);)u.push(f=a[d-1]),u.area+=f.area,c=(h=r(u,p))<=c?(a.pop(),h):(u.area-=u.pop().area,i(u,p,o,!1),p=Math.min(o.dx,o.dy),1/(u.length=u.area=0));u.length&&(i(u,p,o,!0),u.length=u.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var u,s=l(t),o=r.slice(),a=[];for(e(o,s.dx*s.dy/t.value),a.area=0;u=o.pop();)a.push(u),a.area+=u.area,null!=u.z&&(i(a,u.z?s.dx:s.dy,s,!o.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){for(var r,n=e.area,i=0,s=1/0,o=-1,u=e.length;++o<u;)(r=e[o].area)&&(r<s&&(s=r),i<r&&(i=r));return t*=t,(n*=n)?Math.max(t*i*p/n,n/(t*s*p)):1/0}function i(e,t,n,r){var l,i=-1,s=e.length,o=n.x,a=n.y,f=t?u(e.area/t):0;if(t==n.dx){for((r||f>n.dy)&&(f=n.dy);++i<s;)(l=e[i]).x=o,l.y=a,l.dy=f,o+=l.dx=Math.min(n.x+n.dx-o,f?u(l.area/f):0);l.z=!0,l.dx+=n.x+n.dx-o,n.y+=f,n.dy-=f}else{for((r||f>n.dx)&&(f=n.dx);++i<s;)(l=e[i]).x=o,l.y=a,l.dx=f,a+=l.dy=Math.min(n.y+n.dy-a,f?u(l.area/f):0);l.z=!1,l.dy+=n.y+n.dy-a,n.x+=f,n.dx-=f}}function s(r){var i=h||o(r),s=i[0];return s.x=0,s.y=0,s.dx=a[0],s.dy=a[1],h&&o.revalue(s),e([s],s.dx*s.dy/s.value),(h?n:t)(s),c&&(h=i),i}var h,o=d3.layout.hierarchy(),u=Math.round,a=[1,1],f=null,l=Ir,c=!1,p=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(a=e,s):a},s.padding=function(e){function n(t){return qr(t,e)}return arguments.length?(l=null==(f=e)?Ir:"function"==(r=typeof e)?function(t){var n=e.call(s,t,t.depth);return null==n?Ir(t):qr(t,"number"==typeof n?[n,n,n,n]:n)}:("number"==r&&(e=[e,e,e,e]),n),s):f;var r},s.round=function(e){return arguments.length?(u=e?Math.round:Number,s):u!=Number},s.sticky=function(e){return arguments.length?(c=e,h=null,s):c},s.ratio=function(e){return arguments.length?(p=e,s):p},lr(s,o)},d3.csv=Rr(",","text/csv"),d3.tsv=Rr("\t","text/tab-separated-values"),d3.geo={};var mo=Math.PI/180;d3.geo.azimuthal=function(){function e(e){var d,n=e[0]*mo-s,o=e[1]*mo,f=Math.cos(n),l=Math.sin(n),c=Math.cos(o),h=Math.sin(o),p="orthographic"!==t?a*h+u*c*f:null,v="stereographic"===t?1/(1+p):"gnomonic"===t?1/p:"equidistant"===t?(d=Math.acos(p))?d/Math.sin(d):0:"equalarea"===t?Math.sqrt(2/(1+p)):1,g=v*(a*c*f-u*h);return[r*(v*c*l)+i[0],r*g+i[1]]}var n,s,o,u,a,t="orthographic",r=200,i=[480,250];return e.invert=function(e){var n=(e[0]-i[0])/r,o=(e[1]-i[1])/r,f=Math.sqrt(n*n+o*o),l="stereographic"===t?2*Math.atan(f):"gnomonic"===t?Math.atan(f):"equidistant"===t?f:"equalarea"===t?2*Math.asin(.5*f):Math.asin(f),c=Math.sin(l),h=Math.cos(l);return[(s+Math.atan2(n*c,f*u*h+o*a*c))/mo,Math.asin(h*a-(f?o*c*u/f:0))/mo]},e.mode=function(n){return arguments.length?(t=n+"",e):t},e.origin=function(t){return arguments.length?(s=(n=t)[0]*mo,o=n[1]*mo,u=Math.cos(o),a=Math.sin(o),e):n},e.scale=function(t){return arguments.length?(r=+t,e):r},e.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],e):i},e.origin([0,0])},d3.geo.albers=function(){function e(e){var t=u*(mo*e[0]-o),n=Math.sqrt(a-2*u*Math.sin(mo*e[1]))/u;return[i*n*Math.sin(t)+s[0],i*(n*Math.cos(t)-f)+s[1]]}function t(){var t=mo*r[0],i=mo*r[1],s=mo*n[1],l=Math.sin(t),c=Math.cos(t);return o=mo*n[0],u=.5*(l+Math.sin(i)),a=c*c+2*u*l,f=Math.sqrt(a-2*u*Math.sin(s))/u,e}var o,u,a,f,n=[-98,38],r=[29.5,45.5],i=1e3,s=[480,250];return e.invert=function(e){var t=(e[0]-s[0])/i,n=(e[1]-s[1])/i,r=f+n,l=Math.atan2(t,r),c=Math.sqrt(t*t+r*r);return[(o+l/u)/mo,Math.asin((a-c*c*u*u)/(2*u))/mo]},e.origin=function(e){return arguments.length?(n=[+e[0],+e[1]],t()):n},e.parallels=function(e){return arguments.length?(r=[+e[0],+e[1]],t()):r},e.scale=function(t){return arguments.length?(i=+t,e):i},e.translate=function(t){return arguments.length?(s=[+t[0],+t[1]],e):s},t()},d3.geo.albersUsa=function(){function e(e){var s=e[0],o=e[1];return(50<o?n:s<-140?r:o<21?i:t)(e)}var t=d3.geo.albers(),n=d3.geo.albers().origin([-160,60]).parallels([55,65]),r=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return e.scale=function(s){return arguments.length?(t.scale(s),n.scale(.6*s),r.scale(s),i.scale(1.5*s),e.translate(t.translate())):t.scale()},e.translate=function(s){if(!arguments.length)return t.translate();var o=t.scale()/1e3,u=s[0],a=s[1];return t.translate(s),n.translate([u-400*o,a+170*o]),r.translate([u-190*o,a+200*o]),i.translate([u+580*o,a+430*o]),e},e.scale(t.scale())},d3.geo.bonne=function(){function e(e){var f,l,u=e[0]*mo-r,a=e[1]*mo-i;return s?(f=o+s-a,l=u*Math.cos(a)/f,u=f*Math.sin(l),a=f*Math.cos(l)-o):(u*=Math.cos(a),a*=-1),[t*u+n[0],t*a+n[1]]}var r,i,s,o,t=200,n=[480,250];return e.invert=function(e){var a,f,i=(e[0]-n[0])/t,u=(e[1]-n[1])/t;return s?(a=o+u,f=Math.sqrt(i*i+a*a),u=o+s-f,i=r+f*Math.atan2(i,a)/Math.cos(u)):(u*=-1,i/=Math.cos(u)),[i/mo,u/mo]},e.parallel=function(t){return arguments.length?(o=1/Math.tan(s=t*mo),e):s/mo},e.origin=function(t){return arguments.length?(r=t[0]*mo,i=t[1]*mo,e):[r/mo,i/mo]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function e(e){var r=e[0]/360,i=-e[1]/360;return[t*r+n[0],t*i+n[1]]}var t=500,n=[480,250];return e.invert=function(e){return[360*((e[0]-n[0])/t),-360*((e[1]-n[1])/t)]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},d3.geo.mercator=function(){function e(e){var r=e[0]/360,i=-Math.log(Math.tan(Math.PI/4+e[1]*mo/2))/mo/360;return[t*r+n[0],t*Math.max(-.5,Math.min(.5,i))+n[1]]}var t=500,n=[480,250];return e.invert=function(e){var r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return[360*r,2*Math.atan(Math.exp(-360*i*mo))/mo-90]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},d3.geo.path=function(){function e(e,t){"function"==typeof s&&(o=zr(s.apply(this,arguments))),f(e);var n=a.length?a.join(""):null;return a=[],n}function t(e){return u(e).join(",")}function n(e){for(var t=i(e[0]),n=0,r=e.length;++n<r;)t-=i(e[n]);return t}function r(e){for(var t=d3.geom.polygon(e[0].map(u)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),i=r[0],s=r[1],o=n,a=0,f=e.length;++a<f;)n=(t=d3.geom.polygon(e[a].map(u))).area(),i-=(r=t.centroid(n<0?(n*=-1,1):-1))[0],s-=r[1],o-=n;return[i,s,6*o]}function i(e){return Math.abs(d3.geom.polygon(e.map(u)).area())}var s=4.5,o=zr(s),u=d3.geo.albersUsa(),a=[],f=Ur({FeatureCollection:function(e){for(var t=e.features,n=-1,r=t.length;++n<r;)a.push(f(t[n].geometry))},Feature:function(e){f(e.geometry)},Point:function(e){a.push("M",t(e.coordinates),o)},MultiPoint:function(e){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)a.push("M",t(n[r]),o)},LineString:function(e){var n=e.coordinates,r=-1,i=n.length;for(a.push("M");++r<i;)a.push(t(n[r]),"L");a.pop()},MultiLineString:function(e){for(var s,o,u,n=e.coordinates,r=-1,i=n.length;++r<i;){for(o=-1,u=(s=n[r]).length,a.push("M");++o<u;)a.push(t(s[o]),"L");a.pop()}},Polygon:function(e){for(var s,o,u,n=e.coordinates,r=-1,i=n.length;++r<i;)if(o=-1,0<(u=(s=n[r]).length-1)){for(a.push("M");++o<u;)a.push(t(s[o]),"L");a[a.length-1]="Z"}},MultiPolygon:function(e){for(var s,o,u,f,l,c,n=e.coordinates,r=-1,i=n.length;++r<i;)for(o=-1,u=(s=n[r]).length;++o<u;)if(l=-1,0<(c=(f=s[o]).length-1)){for(a.push("M");++l<c;)a.push(t(f[l]),"L");a[a.length-1]="Z"}},GeometryCollection:function(e){for(var t=e.geometries,n=-1,r=t.length;++n<r;)a.push(f(t[n]))}}),l=e.area=Ur({FeatureCollection:function(e){for(var t=0,n=e.features,r=-1,i=n.length;++r<i;)t+=l(n[r]);return t},Feature:function(e){return l(e.geometry)},Polygon:function(e){return n(e.coordinates)},MultiPolygon:function(e){for(var t=0,r=e.coordinates,i=-1,s=r.length;++i<s;)t+=n(r[i]);return t},GeometryCollection:function(e){for(var t=0,n=e.geometries,r=-1,i=n.length;++r<i;)t+=l(n[r]);return t}},0),c=e.centroid=Ur({Feature:function(e){return c(e.geometry)},Polygon:function(e){var t=r(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){for(var i,n=e.coordinates,s=0,o=0,u=0,a=-1,f=n.length;++a<f;)s+=(i=r(n[a]))[0],o+=i[1],u+=i[2];return[s/u,o/u]}});return e.projection=function(t){return u=t,e},e.pointRadius=function(t){return"function"==typeof t?s=t:o=zr(s=+t),e},e},d3.geo.bounds=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return Wr(e,function(e,s){e<t&&(t=e),r<e&&(r=e),s<n&&(n=s),i<s&&(i=s)}),[[t,n],[r,i]]};var go={Feature:function(e,t){Wr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=0,i=n.length;r<i;r++)Wr(n[r].geometry,t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=0,i=n.length;r<i;r++)Wr(n[r],t)},LineString:Jr,MultiLineString:function(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r],o=0,u=s.length;o<u;o++)t.apply(null,s[o])},MultiPoint:Jr,MultiPolygon:function(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r][0],o=0,u=s.length;o<u;o++)t.apply(null,s[o])},Point:function(e,t){t.apply(null,e.coordinates)},Polygon:function(e,t){for(var n=e.coordinates[0],r=0,i=n.length;r<i;r++)t.apply(null,n[r])}};d3.geo.circle=function(){function e(){}function t(e){return a.distance(e)<u}function n(e){for(var s,o,f,l,c,t=-1,n=e.length,i=[];++t<n;)(c=a.distance(f=e[t]))<u?(o&&i.push(ni(o,f)((l-u)/(l-c))),i.push(f),s=o=null):(o=f,!s&&i.length&&(i.push(ni(i[i.length-1],o)((u-l)/(c-l))),s=o)),l=c;return s=e[0],!(o=i[0])||f[0]!==s[0]||f[1]!==s[1]||f[0]===o[0]&&f[1]===o[1]||i.push(o),function(e){var r,i,o,t=0,n=e.length,s=n?[e[0]]:e,u=a.source();for(;++t<n;)for(o=a.source(e[t-1])(e[t]).coordinates,r=0,i=o.length;++r<i;)s.push(o[r]);return a.source(u),s}(i)}var s=[0,0],o=89.99,u=o*mo,a=d3.geo.greatArc().source(s).target(i);e.clip=function(e){return"function"==typeof s&&a.source(s.apply(this,arguments)),f(e)||null};var f=Ur({FeatureCollection:function(e){var t=e.features.map(f).filter(i);return t&&((e=Object.create(e)).features=t,e)},Feature:function(e){var t=f(e.geometry);return t&&((e=Object.create(e)).geometry=t,e)},Point:function(e){return t(e.coordinates)&&e},MultiPoint:function(e){var n=e.coordinates.filter(t);return n.length&&{type:e.type,coordinates:n}},LineString:function(e){var t=n(e.coordinates);return t.length&&((e=Object.create(e)).coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(n).filter(function(e){return e.length});return t.length&&((e=Object.create(e)).coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(n);return t[0].length&&((e=Object.create(e)).coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(n)}).filter(function(e){return e[0].length});return t.length&&((e=Object.create(e)).coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(f).filter(i);return t.length&&((e=Object.create(e)).geometries=t,e)}});return e.origin=function(t){return arguments.length?("function"!=typeof(s=t)&&a.source(s),e):s},e.angle=function(t){return arguments.length?(u=(o=+t)*mo,e):o},d3.rebind(e,a,"precision")},d3.geo.greatArc=function(){function e(){for(var t=e.distance.apply(this,arguments),r=0,u=s/t,a=[n];(r+=u)<1;)a.push(o(r));return a.push(i),{type:"LineString",coordinates:a}}var n,i,t=Zr,r=ei,s=6*mo,o=ti();return e.distance=function(){return"function"==typeof t&&o.source(n=t.apply(this,arguments)),"function"==typeof r&&o.target(i=r.apply(this,arguments)),o.distance()},e.source=function(r){return arguments.length?("function"!=typeof(t=r)&&o.source(n=t),e):t},e.target=function(t){return arguments.length?("function"!=typeof(r=t)&&o.target(i=r),e):r},e.precision=function(t){return arguments.length?(s=t*mo,e):s/mo},e},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(e,t){for(var n=t||function(e){for(var t=0,n=0;;){if(e(t,n))return[t,n];0===t?(t=n+1,n=0):(--t,n+=1)}}(e),r=[],i=n[0],s=n[1],o=0,u=0,a=NaN,f=NaN,l=0;l=0,e(i-1,s-1)&&(l+=1),e(i,s-1)&&(l+=2),e(i-1,s)&&(l+=4),e(i,s)&&(l+=8),u=6===l?(o=-1===f?-1:1,0):9===l?(o=0,1===a?-1:1):(o=yo[l],bo[l]),o!=a&&u!=f&&(r.push([i,s]),a=o,f=u),i+=o,s+=u,n[0]!=i||n[1]!=s;);return r};var yo=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],bo=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(e){if(e.length<3)return[];for(var o,a,f,l,c,h,p,d,v,t=e.length,n=t-1,r=[],i=[],u=0,s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s)s!==u&&(f=e[s][1]-e[u][1],a=e[s][0]-e[u][0],r.push({angle:Math.atan2(f,a),index:s}));for(r.sort(function(e,t){return e.angle-t.angle}),d=r[0].angle,p=r[0].index,h=0,s=1;s<n;++s)o=r[s].index,d==r[s].angle?(a=e[p][0]-e[u][0],f=e[p][1]-e[u][1],(l=e[o][0]-e[u][0])*l+(c=e[o][1]-e[u][1])*c<=a*a+f*f?r[s].index=-1:(r[h].index=-1,d=r[s].angle,h=s,p=o)):(d=r[s].angle,h=s,p=o);for(i.push(u),o=s=0;s<2;++o)-1!==r[o].index&&(i.push(r[o].index),s++);for(v=i.length;o<n;++o)if(-1!==r[o].index){for(;!function(e,t,n,r){var i=r[e],s=i[0],o=i[1],u=(i=r[t])[0],a=i[1],f=(i=r[n])[0];return 0<(i[1]-o)*(u-s)-(a-o)*(f-s)}(i[v-2],i[v-1],r[o].index,e);)--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){for(var t=0,n=e.length,r=e[n-1][0]*e[0][1],i=e[n-1][1]*e[0][0];++t<n;)r+=e[t-1][0]*e[t][1],i+=e[t-1][1]*e[t][0];return.5*(i-r)},e.centroid=function(t){var o,a,n=-1,r=e.length,i=0,s=0,u=e[r-1];for(arguments.length||(t=-1/(6*e.area()));++n<r;)o=u,u=e[n],a=o[0]*u[1]-u[0]*o[1],i+=(o[0]+u[0])*a,s+=(o[1]+u[1])*a;return[i*t,s*t]},e.clip=function(t){for(var n,s,o,a,f,l,r=-1,i=e.length,u=e[i-1];++r<i;){for(n=t.slice(),t.length=0,a=e[r],f=n[(o=n.length)-1],s=-1;++s<o;)si(l=n[s],u,a)?(si(f,u,a)||t.push(oi(f,l,u,a)),t.push(l)):si(f,u,a)&&t.push(oi(f,l,u,a)),f=l;u=a}return t},e},d3.geom.voronoi=function(e){var t=e.map(function(){return[]});return ui(e,function(e){var n,i,s,o,u,r=1===e.a&&0<=e.b?(n=e.ep.r,e.ep.l):(n=e.ep.l,e.ep.r);1===e.a?(o=n?n.y:-1e6,i=e.c-e.b*o,u=r?r.y:1e6,s=e.c-e.b*u):(i=n?n.x:-1e6,o=e.c-e.a*i,s=r?r.x:1e6,u=e.c-e.a*s);var a=[i,o],f=[s,u];t[e.region.l.index].push(a,f),t[e.region.r.index].push(a,f)}),t.map(function(t,n){var r=e[n][0],i=e[n][1];return t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-i)}),t.sort(function(e,t){return e.angle-t.angle}).filter(function(e,n){return!n||1e-10<e.angle-t[n-1].angle})})};var wo={l:"r",r:"l"};d3.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return ui(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])}),n},d3.geom.quadtree=function(e,t,n,r,i){function s(e,t,n,r,i,s){var u;isNaN(t.x)||isNaN(t.y)||(e.leaf?(u=e.point)?(Math.abs(u.x-t.x)+Math.abs(u.y-t.y)<.01||(e.point=null,o(e,u,n,r,i,s)),o(e,t,n,r,i,s)):e.point=t:o(e,t,n,r,i,s))}function o(e,t,n,r,i,o){var u=.5*(n+i),a=.5*(r+o),f=t.x>=u,l=t.y>=a,c=(l<<1)+f;e.leaf=!1,f?n=u:i=u,l?r=a:o=a,s(e=e.nodes[c]||(e.nodes[c]=ai()),t,n,r,i,o)}var u,a=-1,f=e.length;if(f&&isNaN(e[0].x)&&(e=e.map(li)),arguments.length<5)if(3===arguments.length)i=r=n,n=t;else{for(t=n=1/0,r=i=-1/0;++a<f;)(u=e[a]).x<t&&(t=u.x),u.y<n&&(n=u.y),u.x>r&&(r=u.x),u.y>i&&(i=u.y);var l=r-t,c=i-n;c<l?i=n+l:r=t+c}var h=ai();return h.add=function(e){s(h,e,t,n,r,i)},h.visit=function(e){!function fi(e,t,n,r,i,s){var o,u,a;e(t,n,r,i,s)||(o=.5*(n+i),u=.5*(r+s),(a=t.nodes)[0]&&fi(e,a[0],n,r,o,u),a[1]&&fi(e,a[1],o,r,i,u),a[2]&&fi(e,a[2],n,u,o,s),a[3]&&fi(e,a[3],o,u,i,s))}(e,h,t,n,r,i)},e.forEach(h.add),h},d3.time={};var Eo=Date,So=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];ci.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){xo.setUTCDate.apply(this._,arguments)},setDay:function(){xo.setUTCDay.apply(this._,arguments)},setFullYear:function(){xo.setUTCFullYear.apply(this._,arguments)},setHours:function(){xo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){xo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){xo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){xo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){xo.setUTCSeconds.apply(this._,arguments)},setTime:function(){xo.setTime.apply(this._,arguments)}};var xo=Date.prototype,ko=So,Lo=ko.map(hi),Ao=["January","February","March","April","May","June","July","August","September","October","November","December"],Oo=Ao.map(hi);d3.time.format=function(e){function t(t){for(var o,u,r=[],i=-1,s=0;++i<n;)37==e.charCodeAt(i)&&(r.push(e.substring(s,i),(u=Ro[o=e.charAt(++i)])?u(t):o),s=i+1);return r.push(e.substring(s,i)),r.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(pi(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=new Eo;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},t.toString=function(){return e},t};var Mo=d3.format("02d"),_o=d3.format("03d"),Do=d3.format("04d"),Po=d3.format("2d"),Ho=di(ko),Bo=di(Lo),jo=di(Ao),Fo=vi(Ao),Io=di(Oo),qo=vi(Oo),Ro={a:function(e){return Lo[e.getDay()]},A:function(e){return ko[e.getDay()]},b:function(e){return Oo[e.getMonth()]},B:function(e){return Ao[e.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(e){return Mo(e.getDate())},e:function(e){return Po(e.getDate())},H:function(e){return Mo(e.getHours())},I:function(e){return Mo(e.getHours()%12||12)},j:function(e){return _o(1+d3.time.dayOfYear(e))},L:function(e){return _o(e.getMilliseconds())},m:function(e){return Mo(e.getMonth()+1)},M:function(e){return Mo(e.getMinutes())},p:function(e){return 12<=e.getHours()?"PM":"AM"},S:function(e){return Mo(e.getSeconds())},U:function(e){return Mo(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return Mo(d3.time.mondayOfYear(e))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(e){return Mo(e.getFullYear()%100)},Y:function(e){return Do(e.getFullYear()%1e4)},Z:function(e){var t=e.getTimezoneOffset(),n=0<t?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+Mo(r)+Mo(i)},"%":function(e){return"%"}},Uo={a:function(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n));return r?n+=r[0].length:-1},A:function(e,t,n){Ho.lastIndex=0;var r=Ho.exec(t.substring(n));return r?n+=r[0].length:-1},b:function(e,t,n){Io.lastIndex=0;var r=Io.exec(t.substring(n));return r?(e.m=qo.get(r[0].toLowerCase()),n+=r[0].length):-1},B:function(e,t,n){jo.lastIndex=0;var r=jo.exec(t.substring(n));return r?(e.m=Fo.get(r[0].toLowerCase()),n+=r[0].length):-1},c:function(e,t,n){return pi(e,Ro.c.toString(),t,n)},d:ki,e:ki,H:Li,I:Li,L:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1},m:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1},M:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1},p:function(e,t,n){var r=Wo.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1},x:function(e,t,n){return pi(e,Ro.x.toString(),t,n)},X:function(e,t,n){return pi(e,Ro.X.toString(),t,n)},y:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+2));return r?(e.y=function(e){return e+(68<e?1900:2e3)}(+r[0]),n+=r[0].length):-1},Y:function(e,t,n){zo.lastIndex=0;var r=zo.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}},zo=/^\s*\d+/,Wo=d3.map({am:0,pm:1});d3.time.format.utc=function(e){function t(e){try{var t=new(Eo=ci);return t._=e,n(t)}finally{Eo=Date}}var n=d3.time.format(e);return t.parse=function(e){try{Eo=ci;var t=n.parse(e);return t&&t._}finally{Eo=Date}},t.toString=n.toString,t};var Xo=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?Pi:Xo,Pi.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Pi.toString=Xo.toString,d3.time.second=Hi(function(e){return new Eo(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Hi(function(e){return new Eo(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Hi(function(e){var t=e.getTimezoneOffset()/60;return new Eo(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Hi(function(e){var t=new Eo(1970,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},So.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=d3.time[e]=Hi(function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});d3.time[e+"s"]=n.range,d3.time[e+"s"].utc=n.utc.range,d3.time[e+"OfYear"]=function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Hi(function(e){return(e=d3.time.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Hi(function(e){return(e=d3.time.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var Vo=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$o=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],Jo=[[d3.time.format("%Y"),function(e){return!0}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return 1!=e.getDate()}],[d3.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],Ko=d3.scale.linear(),Qo=qi(Jo);$o.year=function(e,t){return Ko.domain(e.map(Ui)).ticks(t).map(Ri)},d3.time.scale=function(){return ji(d3.scale.linear(),$o,Qo)};var Go=$o.map(function(e){return[e[0].utc,e[1]]}),Zo=qi([[d3.time.format.utc("%Y"),function(e){return!0}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]]);Go.year=function(e,t){return Ko.domain(e.map(Wi)).ticks(t).map(zi)},d3.time.scale.utc=function(){return ji(d3.scale.linear(),Go,Zo)}}(),function(){var xChart,_vis={},_scales={},_visutils={};(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,v=e.reduce,h=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,j=i.bind,w=function(n){return n instanceof w?n:this instanceof w?void(this._wrapped=n):new w(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):n._=w,w.VERSION="1.4.3";var A=w.each=w.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;u<i;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(w.has(n,a)&&t.call(e,n[a],a,n)===r)return};w.map=w.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),e)};var O="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(n,t,r,e){var u=2<arguments.length;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=w.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},w.reduceRight=w.foldr=function(n,t,r,e){var u=2<arguments.length;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=w.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var a,i=n.length;if(i!==+i&&(a=w.keys(n),i=a.length),A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},w.find=w.detect=function(n,t,r){var e;return E(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},w.filter=w.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},w.reject=function(n,t,r){return w.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},w.every=w.all=function(n,t,e){t=t||w.identity;var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var E=w.some=w.any=function(n,t,e){t=t||w.identity;var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return(u=u||t.call(e,n,i,a))?r:void 0}),!!u)};w.contains=w.include=function(n,t){return null!=n&&(y&&n.indexOf===y?-1!=n.indexOf(t):E(n,function(n){return n===t}))},w.invoke=function(n,t){var r=o.call(arguments,2);return w.map(n,function(n){return(w.isFunction(t)?t:n[t]).apply(n,r)})},w.pluck=function(n,t){return w.map(n,function(n){return n[t]})},w.where=function(n,t){return w.isEmpty(t)?[]:w.filter(n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},w.max=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&w.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},w.min=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&w.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;e.computed>a&&(e={value:n,computed:a})}),e.value},w.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=w.random(r++),e[r-1]=e[t],e[t]=n}),e};function F(n){return w.isFunction(n)?n:function(t){return t[n]}}w.sortBy=function(n,t,r){var e=F(t);return w.pluck(w.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index<t.index?-1:1}),"value")};function k(n,t,r,e){var u={},i=F(t||w.identity);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u}w.groupBy=function(n,t,r){return k(n,t,r,function(n,t,r){(w.has(n,t)?n[t]:n[t]=[]).push(r)})},w.countBy=function(n,t,r){return k(n,t,r,function(n,t){w.has(n,t)||(n[t]=0),n[t]++})},w.sortedIndex=function(n,t,r,e){for(var u=(r=null==r?w.identity:F(r)).call(e,t),i=0,a=n.length;i<a;){var o=i+a>>>1;u>r.call(e,n[o])?i=1+o:a=o}return i},w.toArray=function(n){return n?w.isArray(n)?o.call(n):n.length===+n.length?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:n.length===+n.length?n.length:w.keys(n).length},w.first=w.head=w.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},w.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},w.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},w.rest=w.tail=w.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},w.compact=function(n){return w.filter(n,w.identity)};var R=function(n,t,r){return A(n,function(n){w.isArray(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r};w.flatten=function(n,t){return R(n,t,[])},w.without=function(n){return w.difference(n,o.call(arguments,1))},w.uniq=w.unique=function(n,t,r,e){w.isFunction(t)&&(e=r,r=t,t=!1);var u=r?w.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:w.contains(a,r))||(a.push(r),i.push(n[e]))}),i},w.union=function(){return w.uniq(c.apply(e,arguments))},w.intersection=function(n){var t=o.call(arguments,1);return w.filter(w.uniq(n),function(n){return w.every(t,function(t){return 0<=w.indexOf(t,n)})})},w.difference=function(n){var t=c.apply(e,o.call(arguments,1));return w.filter(n,function(n){return!w.contains(t,n)})},w.zip=function(){for(var n=o.call(arguments),t=w.max(w.pluck(n,"length")),r=Array(t),e=0;e<t;e++)r[e]=w.pluck(n,""+e);return r},w.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},w.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return n[e=w.sortedIndex(n,t)]===t?e:-1;e=r<0?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;e<u;e++)if(n[e]===t)return e;return-1},w.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},w.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);u<e;)i[u++]=n,n+=r;return i};function I(){}w.bind=function(n,t){var r,e;if(n.bind===j&&j)return j.apply(n,o.call(arguments,1));if(!w.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));I.prototype=n.prototype;var u=new I;I.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},w.bindAll=function(n){var t=o.call(arguments,1);return 0==t.length&&(t=w.functions(n)),A(t,function(t){n[t]=w.bind(n[t],n)}),n},w.memoize=function(n,t){var r={};return t=t||w.identity,function(){var e=t.apply(this,arguments);return w.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},w.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},w.defer=function(n){return w.delay.apply(w,[n,1].concat(o.call(arguments,1)))},w.throttle=function(n,t){function o(){a=new Date,u=null,i=n.apply(r,e)}var r,e,u,i,a=0;return function(){var c=new Date,l=t-(c-a);return r=this,e=arguments,l<=0?(clearTimeout(u),u=null,a=c,i=n.apply(r,e)):u=u||setTimeout(o,l),i}},w.debounce=function(n,t,r){var e,u;return function(){var i=this,a=arguments,c=r&&!e;return clearTimeout(e),e=setTimeout(function(){e=null,r||(u=n.apply(i,a))},t),c&&(u=n.apply(i,a)),u}},w.once=function(n){var t,r=!1;return function(){return r||(r=!0,t=n.apply(this,arguments),n=null),t}},w.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},w.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;0<=r;r--)t=[n[r].apply(this,t)];return t[0]}},w.after=function(n,t){return n<=0?t():function(){return--n<1?t.apply(this,arguments):void 0}},w.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)w.has(n,r)&&(t[t.length]=r);return t},w.values=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push(n[r]);return t},w.pairs=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push([r,n[r]]);return t},w.invert=function(n){var t={};for(var r in n)w.has(n,r)&&(t[n[r]]=r);return t},w.functions=w.methods=function(n){var t=[];for(var r in n)w.isFunction(n[r])&&t.push(r);return t.sort()},w.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},w.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},w.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)w.contains(r,u)||(t[u]=n[u]);return t},w.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)null==n[r]&&(n[r]=t[r])}),n},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof w&&(n=n._wrapped),t instanceof w&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==t+"";case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;r.push(n),e.push(t);var a=0,o=!0;if("[object Array]"==u){if(o=(a=n.length)==t.length)for(;a--&&(o=S(n[a],t[a],r,e)););}else{var c=n.constructor,f=t.constructor;if(c!==f&&!(w.isFunction(c)&&c instanceof c&&w.isFunction(f)&&f instanceof f))return!1;for(var s in n)if(w.has(n,s)&&(a++,!(o=w.has(t,s)&&S(n[s],t[s],r,e))))break;if(o){for(s in t)if(w.has(t,s)&&!a--)break;o=!a}}return r.pop(),e.pop(),o};w.isEqual=function(n,t){return S(n,t,[],[])},w.isEmpty=function(n){if(null==n)return!0;if(w.isArray(n)||w.isString(n))return 0===n.length;for(var t in n)if(w.has(n,t))return!1;return!0},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=x||function(n){return"[object Array]"==l.call(n)},w.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){w["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),w.isArguments(arguments)||(w.isArguments=function(n){return!(!n||!w.has(n,"callee"))}),w.isFunction=function(n){return"function"==typeof n},w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!=+n},w.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==l.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return void 0===n},w.has=function(n,t){return f.call(n,t)},w.noConflict=function(){return n._=t,this},w.identity=function(n){return n},w.times=function(n,t,r){for(var e=Array(n),u=0;u<n;u++)e[u]=t.call(r,u);return e},w.random=function(n,t){return null==t&&(t=n,n=0),n+(0|Math.random()*(t-n+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=w.invert(T.escape);var M={escape:RegExp("["+w.keys(T.escape).join("")+"]","g"),unescape:RegExp("("+w.keys(T.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(n){w[n]=function(t){return null==t?"":(""+t).replace(M[n],function(t){return T[n][t]})}}),w.result=function(n,t){if(null==n)return null;var r=n[t];return w.isFunction(r)?r.call(n):r},w.mixin=function(n){A(w.functions(n),function(t){var r=w[t]=n[t];w.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(w,n))}})};var N=0;w.uniqueId=function(n){var t=""+ ++N;return n?n+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(n,t,r){r=w.defaults({},r,w.templateSettings);var e=RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(D,function(n){return"\\"+B[n]}),r&&(i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(i+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),a&&(i+="';\n"+a+"\n__p+='"),u=o+t.length,t}),i+="';\n",r.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=Function(r.variable||"obj","_",i)}catch(o){throw o.source=i,o}if(t)return a(t,w);function c(n){return a.call(this,n,w)}return c.source="function("+(r.variable||"obj")+"){\n"+i+"}",c},w.chain=function(n){return w(n).chain()};var z=function(n){return this._chain?w(n).chain():n};w.mixin(w),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];w.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];w.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);var defaultSpacing=.25;function _extendDomain(domain){var diff,e,min=domain[0],max=domain[1];return min===max&&(min-=e=Math.max(Math.round(min/10),4),max+=e),diff=max-min,min=min?min-diff/10:min,max=max?max+diff/10:max,[min=0<domain[0]?Math.max(min,0):min,max=domain[1]<0?Math.min(max,0):max]}function ordinal(data,axis,bounds,spacing){spacing=spacing||defaultSpacing;var domain=function(data,axis){return _.chain(data).pluck("data").flatten().pluck(axis).uniq().filter(function(d){return null!=d}).value().sort(d3.ascending)}(data,axis);return d3.scale.ordinal().domain(domain).rangeRoundBands(bounds,spacing)}function linear(extents,bounds,axis){return"y"===axis&&(extents=_extendDomain(extents)),d3.scale.linear().domain(extents).nice().rangeRound(bounds)}function exponential(extents,bounds,axis){return"y"===axis&&(extents=_extendDomain(extents)),d3.scale.pow().exponent(.65).domain(extents).nice().rangeRound(bounds)}function time(extents,bounds){return d3.time.scale().domain(_.map(extents,function(d){return new Date(d)})).range(bounds)}var insertBefore,line,_scales={ordinal:ordinal,linear:linear,exponential:exponential,time:time,xy:function(self,data,xType,yType){var extents=function(data){var nData=_.chain(data).pluck("data").flatten().value();return{x:d3.extent(nData,function(d){return d.x}),y:d3.extent(nData,function(d){return d.y})}}(data),scales={},o=self._options,horiz=[o.axisPaddingLeft,self._width],vert=[self._height,o.axisPaddingTop];return _.each([xType,yType],function(type,i){var axis=0===i?"x":"y",bounds=0===i?horiz:vert;switch(type){case"ordinal":scales[axis]=ordinal(data,axis,bounds);break;case"linear":scales[axis]=linear(extents[axis],bounds,axis);break;case"exponential":scales[axis]=exponential(extents[axis],bounds,axis);break;case"time":scales[axis]=time(extents[axis],bounds)}}),scales}};insertBefore=(_visutils={getInsertionPoint:function(zIndex){return _.chain(_.range(zIndex,10)).reverse().map(function(z){return'g[data-index="'+z+'"]'}).value().join(", ")},colorClass:function(el,i){var c=el.getAttribute("class");return(null!==c?c.replace(/color\d+/g,""):"")+" color"+i}}).getInsertionPoint(2),_vis.bar={postUpdateScale:function(self,scaleData,mainData,compData){self.xScale2=d3.scale.ordinal().domain(d3.range(0,mainData.length)).rangeRoundBands([0,self.xScale.rangeBand()],.08)},enter:function(self,storage,className,data,callbacks){var bars,yZero=self.yZero,barGroups=self._g.selectAll("g.bar"+className).data(data,function(d){return d.className});barGroups.enter().insert("g",insertBefore).attr("data-index",2).style("opacity",0).attr("class",function(d,i){return _.uniq((className+d.className).split(".")).join(" ")+" bar "+_visutils.colorClass(this,i)}).attr("transform",function(d,i){return"translate("+self.xScale2(i)+",0)"}),(bars=barGroups.selectAll("rect").data(function(d){return d.data},function(d){return d.x})).enter().append("rect").attr("width",0).attr("rx",3).attr("ry",3).attr("x",function(d){return self.xScale(d.x)+self.xScale2.rangeBand()/2}).attr("height",function(d){return Math.abs(yZero-self.yScale(d.y))}).attr("y",function(d){return d.y<0?yZero:self.yScale(d.y)}).on("mouseover",callbacks.mouseover).on("mouseout",callbacks.mouseout).on("click",callbacks.click),storage.barGroups=barGroups,storage.bars=bars},update:function(self,storage,timing){var yZero=self.yZero;storage.barGroups.attr("class",function(d,i){return _visutils.colorClass(this,i)}).transition().duration(timing).style("opacity",1).attr("transform",function(d,i){return"translate("+self.xScale2(i)+",0)"}),storage.bars.transition().duration(timing).attr("width",self.xScale2.rangeBand()).attr("x",function(d){return self.xScale(d.x)}).attr("height",function(d){return Math.abs(yZero-self.yScale(d.y))}).attr("y",function(d){return d.y<0?yZero:self.yScale(d.y)})},exit:function(self,storage,timing){storage.bars.exit().transition().duration(timing).attr("width",0).remove(),storage.barGroups.exit().transition().duration(timing).style("opacity",0).remove()},destroy:function(self,storage,timing){var band=self.xScale2?self.xScale2.rangeBand()/2:0;delete self.xScale2,storage.bars.transition().duration(timing).attr("width",0).attr("x",function(d){return self.xScale(d.x)+band})}},function(){var insertBefore=_visutils.getInsertionPoint(3);_vis.line={enter:function(self,storage,className,data,callbacks){function x(d,i){return self.xScale2||self.xScale.rangeBand?self.xScale(d.x)+self.xScale.rangeBand()/2:self.xScale(d.x)}function y(d){return self.yScale(d.y)}var container,fills,paths,inter=self._options.interpolation,line=d3.svg.line().x(x).interpolate(inter),area=d3.svg.area().x(x).y1(self.yZero).interpolate(inter);function datum(d){return[d.data]}(container=self._g.selectAll("g.line"+className).data(data,function(d){return d.className})).enter().insert("g",insertBefore).attr("data-index",3).attr("class",function(d,i){return _.uniq((className+d.className).split(".")).join(" ")+" line "+_visutils.colorClass(this,i)}),(fills=container.selectAll("path.fill").data(datum)).enter().append("path").attr("class","fill").style("opacity",0).attr("d",area.y0(y)),(paths=container.selectAll("path.line").data(datum)).enter().append("path").attr("class","line").style("opacity",0).attr("d",line.y(y)),storage.lineContainers=container,storage.lineFills=fills,storage.linePaths=paths,storage.lineX=x,storage.lineY=y,storage.lineA=area,storage.line=line},update:function(self,storage,timing){storage.lineContainers.attr("class",function(d,i){return _visutils.colorClass(this,i)}),storage.lineFills.transition().duration(timing).style("opacity",1).attr("d",storage.lineA.y0(storage.lineY)),storage.linePaths.transition().duration(timing).style("opacity",1).attr("d",storage.line.y(storage.lineY))},exit:function(self,storage){storage.linePaths.exit().style("opacity",0).remove(),storage.lineFills.exit().style("opacity",0).remove(),storage.lineContainers.exit().remove()},destroy:function(self,storage,timing){storage.linePaths.transition().duration(timing).style("opacity",0),storage.lineFills.transition().duration(timing).style("opacity",0)}}}(),line=_vis.line,_vis["line-dotted"]={enter:function(self,storage,className,data,callbacks){var circles;line.enter(self,storage,className,data,callbacks),(circles=storage.lineContainers.selectAll("circle").data(function(d){return d.data},function(d){return d.x})).enter().append("circle").style("opacity",0).attr("cx",storage.lineX).attr("cy",storage.lineY).attr("r",5).on("mouseover",callbacks.mouseover).on("mouseout",callbacks.mouseout).on("click",callbacks.click),storage.lineCircles=circles},update:function(self,storage,timing){line.update.apply(null,_.toArray(arguments)),storage.lineCircles.transition().duration(timing).style("opacity",1).attr("cx",storage.lineX).attr("cy",storage.lineY)},exit:function(self,storage){storage.lineCircles.exit().remove(),line.exit.apply(null,_.toArray(arguments))},destroy:function(self,storage,timing){line.destroy.apply(null,_.toArray(arguments)),storage.lineCircles&&storage.lineCircles.transition().duration(timing).style("opacity",0)}},function(){var line=_vis["line-dotted"];function _accumulate_data(data){function reduce(memo,num){return memo+num.y}return _.map(data,function(set){var i=set.data.length,d=_.clone(set.data);for(set=_.clone(set);i;)d[--i]=_.clone(set.data[i]),d[i].y0=set.data[i].y,d[i].y=_.reduce(_.first(set.data,i),reduce,set.data[i].y);return _.extend(set,{data:d})})}function _resetData(self){self.hasOwnProperty("cumulativeOMainData")&&(self._mainData=self.cumulativeOMainData,delete self.cumulativeOMainData,self._compData=self.cumulativeOCompData,delete self.cumulativeOCompData)}_vis.cumulative={preUpdateScale:function(self,data){_resetData(self),self.cumulativeOMainData=self._mainData,self._mainData=_accumulate_data(self._mainData),self.cumulativeOCompData=self._compData,self._compData=_accumulate_data(self._compData)},enter:function(self,storage,className,data,callbacks){line.enter(self,storage,className,data,callbacks)},update:line.update,exit:line.exit,destroy:function(self,storage,timing){_resetData(self),line.destroy.apply(null,_.toArray(arguments))}}}();var emptyData=[[]],defaults={mouseover:function(data,i){},mouseout:function(data,i){},click:function(data,i){},axisPaddingTop:0,axisPaddingRight:0,axisPaddingBottom:5,axisPaddingLeft:20,paddingTop:0,paddingRight:0,paddingBottom:20,paddingLeft:60,tickHintX:10,tickFormatX:function(x){return x},tickHintY:10,tickFormatY:function(y){return y},dataFormatX:function(x){return x},dataFormatY:function(y){return y},unsupported:function(selector){d3.select(selector).text("SVG is not supported on your browser")},empty:function(self,selector,d){},notempty:function(self,selector){},timing:750,interpolation:"monotone"};function xChart(type,data,selector,options){var resizeLock,d,self=this;if(self._options=options=_.defaults(options||{},defaults),!1==(!!(d=document).createElementNS&&!!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect))return options.unsupported(selector);self._selector=selector,self._container=d3.select(selector),self._drawSvg(),data=_.clone(data),type&&!data.type&&(data.type=type),self.setData(data),d3.select(window).on("resize.for."+selector,function(){resizeLock&&clearTimeout(resizeLock),resizeLock=setTimeout(function(){resizeLock=null,self._resize()},500)})}xChart.setVis=function(type,vis){if(_vis.hasOwnProperty(type))throw'Cannot override vis type "'+type+'".';_vis[type]=vis},xChart.getVis=function(type){if(!_vis.hasOwnProperty(type))throw'Vis type "'+type+'" does not exist.';return _.clone(_vis[type])},xChart.visutils=_visutils,xChart.scales=_scales,_.defaults(xChart.prototype,{setType:function(type,skipDraw){if(!this._type||type!==this._type){if(!_vis.hasOwnProperty(type))throw'Vis type "'+type+'" is not defined.';this._type&&this._destroy(this._vis,this._mainStorage),this._type=type,this._vis=_vis[type],skipDraw||this._draw()}},setData:function(data){var o=this._options,nData=_.clone(data);if(!data.hasOwnProperty("main"))throw'No "main" key found in given chart data.';switch(data.type){case"bar":data.xScale="ordinal";break;case void 0:data.type=this._type}function _mapData(set){var d=_.map(_.clone(set.data),function(p){var np=_.clone(p);return p.hasOwnProperty("x")&&(np.x=o.dataFormatX(p.x)),p.hasOwnProperty("y")&&(np.y=o.dataFormatY(p.y)),np}).sort(function(a,b){return a.x||b.x?a.x<b.x?-1:1:0});return _.extend(_.clone(set),{data:d})}this._vis&&this._destroy(this._vis,this._mainStorage),this.setType(data.type,!0),nData.main=_.map(nData.main,_mapData),this._mainData=nData.main,this._xScaleType=nData.xScale,this._yScaleType=nData.yScale,nData.hasOwnProperty("comp")?(nData.comp=_.map(nData.comp,_mapData),this._compData=nData.comp):this._compData=[],this._draw()},setScale:function(axis,type){switch(axis){case"x":this._xScaleType=type;break;case"y":this._yScaleType=type;break;default:throw'Cannot change scale of unknown axis "'+axis+'".'}this._draw()},_drawSvg:function(){var g,gScale,c=this._container,options=this._options,width=parseInt(c.style("width").replace("px",""),10),height=parseInt(c.style("height").replace("px",""),10),svg=c.selectAll("svg").data(emptyData);svg.enter().append("svg").attr("height",height).attr("width",width).attr("class","xchart"),svg.transition().attr("width",width).attr("height",height),(g=svg.selectAll("g").data(emptyData)).enter().append("g").attr("transform","translate("+options.paddingLeft+","+options.paddingTop+")"),(gScale=g.selectAll("g.scale").data(emptyData)).enter().append("g").attr("class","scale"),this._svg=svg,this._g=g,this._gScale=gScale,this._height=height-options.paddingTop-options.paddingBottom-options.axisPaddingTop-options.axisPaddingBottom,this._width=width-options.paddingLeft-options.paddingRight-options.axisPaddingLeft-options.axisPaddingRight},_resize:function(event){this._drawSvg(),this._draw()},_drawAxes:function(){var o,t,xTicks,yTicks,bottom,zLine,zLinePath,yRules,labels,xRules,xAxis;this._noData||(o=this._options,t=this._gScale.transition().duration(o.timing),xTicks=o.tickHintX,yTicks=o.tickHintY,bottom=this._height+o.axisPaddingTop+o.axisPaddingBottom,d3.svg.line().x(function(d){return d}),xRules=d3.svg.axis().scale(this.xScale).ticks(xTicks).tickSize(-this._height).tickFormat(o.tickFormatX).orient("bottom"),(xAxis=this._gScale.selectAll("g.axisX").data(emptyData)).enter().append("g").attr("class","axis axisX").attr("transform","translate(0,"+bottom+")"),xAxis.call(xRules),(labels=this._gScale.selectAll(".axisX g")[0]).length>this._width/80&&(labels.sort(function(a,b){var r=/translate\(([^,)]+)/;return a=a.getAttribute("transform").match(r),b=b.getAttribute("transform").match(r),parseFloat(a[1],10)-parseFloat(b[1],10)}),d3.selectAll(labels).filter(function(d,i){return i%(Math.ceil(labels.length/xTicks)+1)}).remove()),yRules=d3.svg.axis().scale(this.yScale).ticks(yTicks).tickSize(-this._width-o.axisPaddingRight-o.axisPaddingLeft).tickFormat(o.tickFormatY).orient("left"),this._gScale.selectAll("g.axisY").data(emptyData).enter().append("g").attr("class","axis axisY").attr("transform","translate(0,0)"),t.selectAll("g.axisY").call(yRules),(zLine=this._gScale.selectAll("g.axisZero").data([[]])).enter().append("g").attr("class","axisZero"),(zLinePath=zLine.selectAll("line").data([[]])).enter().append("line").attr("x1",0).attr("x2",this._width+o.axisPaddingLeft+o.axisPaddingRight).attr("y1",this.yZero).attr("y2",this.yZero),zLinePath.transition().duration(o.timing).attr("y1",this.yZero).attr("y2",this.yZero))},_updateScale:function(){function _unionData(){return _.union(self._mainData,self._compData)}var scale,min,self=this,scaleData=_unionData(),vis=self._vis;delete self.xScale,delete self.yScale,delete self.yZero,vis.hasOwnProperty("preUpdateScale")&&vis.preUpdateScale(self,scaleData,self._mainData,self._compData),scaleData=_unionData(),scale=_scales.xy(self,scaleData,self._xScaleType,self._yScaleType),self.xScale=scale.x,self.yScale=scale.y,min=self.yScale.domain()[0],self.yZero=0<min?self.yScale(min):self.yScale(0),vis.hasOwnProperty("postUpdateScale")&&vis.postUpdateScale(self,scaleData,self._mainData,self._compData)},_enter:function(vis,storage,data,className){var callbacks={click:this._options.click,mouseover:this._options.mouseover,mouseout:this._options.mouseout};this._checkVisMethod(vis,"enter"),vis.enter(this,storage,className,data,callbacks)},_update:function(vis,storage){this._checkVisMethod(vis,"update"),vis.update(this,storage,this._options.timing)},_exit:function(vis,storage){this._checkVisMethod(vis,"exit"),vis.exit(this,storage,this._options.timing)},_destroy:function(vis,storage){this._checkVisMethod(vis,"destroy");try{vis.destroy(this,storage,this._options.timing)}catch(e){}},_mainStorage:{},_compStorage:{},_draw:function(){var comp,compKeys,self=this,o=self._options;self._noData=0===_.flatten(_.pluck(self._mainData,"data").concat(_.pluck(self._compData,"data"))).length,self._updateScale(),self._drawAxes(),self._enter(self._vis,self._mainStorage,self._mainData,".main"),self._exit(self._vis,self._mainStorage),self._update(self._vis,self._mainStorage),comp=_.chain(self._compData).groupBy(function(d){return d.type}),compKeys=comp.keys(),_.each(self._compStorage,function(d,key){var vis;-1===compKeys.indexOf(key).value()&&(vis=_vis[key],self._enter(vis,d,[],".comp."+key.replace(/\W+/g,"")),self._exit(vis,d))}),comp.each(function(d,key){var storage,vis=_vis[key];self._compStorage.hasOwnProperty(key)||(self._compStorage[key]={}),storage=self._compStorage[key],self._enter(vis,storage,d,".comp."+key.replace(/\W+/g,"")),self._exit(vis,storage),self._update(vis,storage)}),self._noData?o.empty(self,self._selector,self._mainData):o.notempty(self,self._selector)},_checkVisMethod:function(vis,method){if(!vis[method])throw'Required method "'+method+'" not found on vis type "'+this._type+'".'}}),"function"==typeof define&&define.amd&&"object"==typeof define.amd?define(function(){return xChart}):window.xChart=xChart}(),function(window){var screenSize="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",screenSize+=width+" x "+height);var nameOffset,verOffset,ix,nVer=navigator.appVersion,nAgt=navigator.userAgent,browser=navigator.appName,version=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10);-1!=(verOffset=nAgt.indexOf("Opera"))&&(browser="Opera",version=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(version=nAgt.substring(verOffset+8))),-1!=(verOffset=nAgt.indexOf("OPR"))?(browser="Opera",version=nAgt.substring(verOffset+4)):-1!=(verOffset=nAgt.indexOf("Edge"))?(browser="Microsoft Edge",version=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("MSIE"))?(browser="Microsoft Internet Explorer",version=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(browser="Chrome",version=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(browser="Safari",version=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(version=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(browser="Firefox",version=nAgt.substring(verOffset+8)):-1!=nAgt.indexOf("Trident/")?(browser="Microsoft Internet Explorer",version=nAgt.substring(nAgt.indexOf("rv:")+3)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(browser=nAgt.substring(nameOffset,verOffset),version=nAgt.substring(verOffset+1),browser.toLowerCase()==browser.toUpperCase()&&(browser=navigator.appName)),-1!=(ix=version.indexOf(";"))&&(version=version.substring(0,ix)),-1!=(ix=version.indexOf(" "))&&(version=version.substring(0,ix)),-1!=(ix=version.indexOf(")"))&&(version=version.substring(0,ix)),majorVersion=parseInt(""+version,10),isNaN(majorVersion)&&(version=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10));var mobile=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(nVer),cookieEnabled=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",cookieEnabled=-1!=document.cookie.indexOf("testcookie"));var os="-",clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}var osVersion="-";switch(/Windows/.test(os)&&(osVersion=/Windows (.*)/.exec(os)[1],os="Windows"),os){case"Mac OS X":osVersion=/Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1];break;case"Android":osVersion=/Android ([\.\_\d]+)/.exec(nAgt)[1];break;case"iOS":osVersion=(osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer))[1]+"."+osVersion[2]+"."+(0|osVersion[3])}var fv,flashVersion="no check";"undefined"!=typeof swfobject&&(flashVersion=0<(fv=swfobject.getFlashPlayerVersion()).major?fv.major+"."+fv.minor+" r"+fv.release:"-"),window.jscd={screen:screenSize,browser:browser,browserVersion:version,browserMajorVersion:majorVersion,mobile:mobile,os:os,osVersion:osVersion,cookies:cookieEnabled,flashVersion:flashVersion}}(this),$(document).ready(function(){$.tablesorter.addParser({id:"wlt",is:function(s){return!1},format:function(s){return s=parseFloat(s)},type:"numeric"}),$("#rankingsTable").tablesorter({headers:{7:{sorter:"wlt"}},sortList:[[0,0]],textExtraction:"complex"})}),$(document).ready(function(){$(".smooth-scroll").bind("click",function(event){var $anchor=$(this),$navbar_position=$(".navbar").css("top"),$navbar_height=parseInt($(".navbar").css("height")),$offset=0;"0px"==$navbar_position&&($offset=$navbar_height+10);var pixels,target_offset=$($anchor.attr("href")).offset();pixels=null==target_offset?0:target_offset.top-$offset,$("html, body").stop().animate({scrollTop:pixels},250),event.preventDefault()});var hash=window.location.hash;hash&&$('ul.nav a[href="'+hash+'"]').tab("show"),$(".nav-tabs a, .nav-pills a").click(function(e){e.preventDefault(),window.location.hash=this.hash}),$(".fancybox").fancybox(),$("body").tooltip({selector:"[rel=tooltip]"}),$(".fitvids").fitVids(),0!=$("#tbavideo_container").length&&jwplayer("tbavideo_container").setup({players:[{type:"flash",src:"/jwplayer/player.swf"},{type:"html5"}],provider:"http",controlbar:"bottom"}),$(".gallery").featherlightGallery("image");var weekday=new Array(7);weekday[0]="Sun",weekday[1]="Mon",weekday[2]="Tue",weekday[3]="Wed",weekday[4]="Thu",weekday[5]="Fri",weekday[6]="Sat",$(".tba-match-time-utc").each(function(){var hour24,hour12,minute,matchTimeStr,matchTime=new Date($(this).attr("datetime"));isNaN(matchTime)||(0==(hour12=(hour24=matchTime.getHours())%12)&&(hour12=12),minute=matchTime.getMinutes(),matchTimeStr=weekday[matchTime.getDay()]+" "+hour12+":"+((""+minute).length<2?"0":"")+minute,matchTimeStr+=hour24<12?" AM":" PM",$(this).text(matchTimeStr),$(this).css("display","inline"))});var month=new Array(12);month[0]="Jan",month[1]="Feb",month[2]="Mar",month[3]="Apr",month[4]="May",month[5]="Jun",month[6]="Jul",month[7]="Aug",month[8]="Sep",month[9]="Oct",month[10]="Nov",month[11]="Dec",$(".tba-verbose-date-utc").each(function(){var time=new Date($(this).attr("datetime"));isNaN(time)||($(this).text(month[time.getMonth()]+". "+time.getDate()+", "+time.getFullYear()),$(this).css("display","inline"))}),$(".tba-verbose-time-utc").each(function(){var hour24,hour12,minute,timeStr,time=new Date($(this).attr("datetime"));isNaN(time)||(0==(hour12=(hour24=time.getHours())%12)&&(hour12=12),timeStr=hour12+":"+((""+(minute=time.getMinutes())).length<2?"0":"")+minute,timeStr+=hour24<12?" AM":" PM",$(this).text(timeStr),$(this).css("display","inline"))}),$(".tba-verbose-datetime-utc").each(function(){var hour24,hour12,minute,timeStr,time=new Date($(this).attr("datetime"));isNaN(time)||(0==(hour12=(hour24=time.getHours())%12)&&(hour12=12),minute=time.getMinutes(),timeStr=month[time.getMonth()]+". "+time.getDate()+", "+time.getFullYear()+" at ",timeStr+=hour12+":"+((""+minute).length<2?"0":"")+minute,timeStr+=hour24<12?" AM":" PM",$(this).text(timeStr),$(this).css("display","inline"))})});var config={apiKey:firebaseApiKey,authDomain:firebaseAuthDomain,databaseURL:firebaseDatabaseURL,storageBucket:firebaseStorageBucket,messagingSenderId:firebaseMessagingSenderId},finish_utc;function update_countdown(){var current_utc=(new Date).getTime(),time_diff=finish_utc-current_utc,seconds=Math.floor(time_diff/1e3),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60),days=Math.floor(hours/24);hours%=24,minutes%=60,seconds%=60,time_diff<0?$(".countdown").remove():($(".countdown-days").text(days),$(".countdown-hours").text(hours),$(".countdown-minutes").text(minutes),$(".countdown-seconds").text(seconds),setTimeout("update_countdown()",1e3))}firebase.initializeApp(config),$(function(){for(var chartsData=$(".xcharts-line-data"),i=0;i<chartsData.length;i++){for(var chartId=chartsData[i].id,raw_datasets=JSON.parse($("#"+chartId).html()),datasets=[],xLabels=[],j=0;j<raw_datasets.length;j++){for(var raw_dataset=raw_datasets[j],dataset=[],k=0;k<raw_dataset.length;k++){var tuple=raw_dataset[k];0==i&&(xLabels=xLabels.concat([tuple[0]])),dataset=dataset.concat([{x:k,y:tuple[1]}])}datasets=datasets.concat([dataset])}for(var main=[],j=0;j<datasets.length;j++)main=main.concat({className:"."+chartId+"-elements",data:datasets[j]});var chartData={xScale:"ordinal",yScale:"linear",type:"line-dotted",main:main},opts={tickFormatX:function(x){return xLabels[x]}};new xChart("line",chartData,"#"+chartId+"-chart",opts)}for(chartsData=$(".xcharts-bar-data"),i=0;i<chartsData.length;i++){for(chartId=chartsData[i].id,raw_datasets=JSON.parse($("#"+chartId).html()),datasets=[],j=0;j<raw_datasets.length;j++){raw_dataset=raw_datasets[j],dataset=[];for(var key in raw_dataset){var value=raw_dataset[key];dataset=dataset.concat([{x:parseInt(key),y:value}])}datasets=datasets.concat([dataset])}for(main=[],j=0;j<datasets.length;j++)main=main.concat({className:"."+chartId+"-elements",data:datasets[j]});chartData={xScale:"ordinal",yScale:"linear",type:"bar",main:main},opts={tickFormatY:function(y){return y+"%"}},new xChart("bar",chartData,"#"+chartId+"-chart",opts)}}),$(document).ready(function(){var utc_iso8601;0!=$("#countdown-finish-time").length&&(utc_iso8601=$("#countdown-finish-time").html(),finish_utc=new Date(utc_iso8601),update_countdown())}),$(document).ready(function(){$(document.body).scrollspy({target:".tba-sidebar",offset:$(".navbar").outerHeight(!0)+10}),$("body").bind("DOMSubtreeModified",function(){refreshScrollspyThrottled()}),$(".tba-sidebar-collapsed").on("activate.bs.scrollspy",function(){$(".tba-sidenav").find("ul").each(function(){$(this).parent().hasClass("active")?$(this).removeClass("hide"):$(this).addClass("hide")})})});var isThrottled=!1,throttleDuration=500;function refreshScrollspyThrottled(){isThrottled||(isThrottled=!0,setTimeout(function(){isThrottled=!1},throttleDuration),$(document.body).scrollspy("refresh"))}function cleanUnicode(s){var a=s.toLowerCase();return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/[]/g,"a")).replace(//g,"ae")).replace(//g,"c")).replace(/[]/g,"e")).replace(/[]/g,"i")).replace(//g,"n")).replace(/[]/g,"o")).replace(//g,"oe")).replace(/[]/g,"u")).replace(/[]/g,"y")}function teamFilter(data){for(var to_return=[],i=0;i<data.length;i++)to_return.push({value:data[i],tokens:cleanUnicode(data[i]).split(" ")});return to_return}function eventkeyRegex(){return/(\d*).+\[(.+?)\]/}function eventFilter(data){for(var to_return=[],i=0;i<data.length;i++){var event_re=cleanUnicode(data[i]).match(eventkeyRegex()),tokens=cleanUnicode(data[i]).replace("[","").replace("]","").split(" ");tokens.push(event_re[1]+event_re[2]),to_return.push({value:data[i],tokens:tokens})}return to_return}function districtFilter(data){for(var to_return=[],i=0;i<data.length;i++)to_return.push({value:data[i],tokens:cleanUnicode(data[i]).replace("[","").replace("]","").split(" ")});return to_return}$(document).ready(function(){function goToPage(obj,datum){var event_re=datum.value.match(eventkeyRegex());null!=event_re&&(event_key=(event_re[1]+event_re[2]).toLowerCase(),url="/event/"+event_key,window.location.href=url);var district_re=datum.value.match(/.+District \[(.+?)]/);null!=district_re&&(district_key=district_re[1],url="/events/"+district_key.toLowerCase(),window.location.href=url);var team_re=datum.value.match(/(\d+) [|] .+/);null!=team_re&&(team_key=team_re[1],url="/team/"+team_key,window.location.href=url)}$(".typeahead").attr("autocomplete","off"),$(".typeahead").typeahead([{name:"teams",prefetch:{url:"/_/typeahead/teams-all",filter:teamFilter},header:'<div class="tba-typeahead-header">Teams</div>'},{name:"events",prefetch:{url:"/_/typeahead/events-all",filter:eventFilter},header:'<div class="tba-typeahead-header">Events</div>'},{name:"districts",prefetch:{url:"/_/typeahead/districts-all",filter:districtFilter},header:'<div class="tba-typeahead-header">Districts</div>'}]),$(".typeahead").bind("typeahead:selected",goToPage),$(".typeahead").bind("typeahead:autocompleted",goToPage),$(".typeahead").keypress(function(event){13==event.which&&this.form.submit()})});var favoriteTeamsCookieName="tba-favorite-teams",reView;function updateFavoriteTeams(teamKey,action,skipDelay){var storedFavoriteTeams=getLocalFavoriteTeams();null!=teamKey?"add"==action?$.ajax({type:"POST",url:"/_/account/favorites/add",data:{model_key:teamKey,model_type:1},timeout:1e4,success:function(data,textStatus,xhr){addLocalFavoriteTeam(teamKey),updateFavoriteTeams(null,null,!1)},error:function(xhr,textStatus,errorThrown){401==xhr.status?$("#login-modal").modal("show"):$("#fixed-alert-container").append('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong>Oops! Failed to add favorite.</strong><br>Something went wrong on our end. Please try again later.</div>'),updateFavoriteTeams(null,null,!1)}}):"delete"==action&&$.ajax({type:"POST",url:"/_/account/favorites/delete",data:{model_key:teamKey,model_type:1},timeout:1e4,success:function(data,textStatus,xhr){deleteLocalFavoriteTeam(teamKey),updateFavoriteTeams(null,null,!1)},error:function(xhr,textStatus,errorThrown){401==xhr.status?$("#login-modal").modal("show"):$("#fixed-alert-container").append('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong>Oops! Failed to delete favorite.</strong><br>Something went wrong on our end. Please try again later.</div>'),updateFavoriteTeams(null,null,!1)}}):null==storedFavoriteTeams?$.ajax({type:"GET",dataType:"json",url:"/_/account/favorites/1",success:function(favorites,textStatus,xhr){var favoriteTeams={};for(var key in favorites)favoriteTeams[favorites[key].model_key]=!0;setLocalFavoriteTeams(favoriteTeams),updatePageFavoriteTeams(favoriteTeams,skipDelay)},error:function(xhr,textStatus,errorThrown){updatePageFavoriteTeams({},skipDelay)}}):updatePageFavoriteTeams(storedFavoriteTeams,skipDelay)}function getLocalFavoriteTeams(){return JSON.parse($.cookie(favoriteTeamsCookieName))}function setLocalFavoriteTeams(favoriteTeams){var date=new Date;date.setTime(date.getTime()+3e5),$.cookie(favoriteTeamsCookieName,JSON.stringify(favoriteTeams),{expires:date,path:"/"})}function addLocalFavoriteTeam(teamKey){var storedFavoriteTeams=getLocalFavoriteTeams();null!=storedFavoriteTeams&&(storedFavoriteTeams[teamKey]=!0,setLocalFavoriteTeams(storedFavoriteTeams))}function deleteLocalFavoriteTeam(teamKey){var storedFavoriteTeams=getLocalFavoriteTeams();null!=storedFavoriteTeams&&teamKey in storedFavoriteTeams&&(delete storedFavoriteTeams[teamKey],setLocalFavoriteTeams(storedFavoriteTeams))}function updatePageFavoriteTeams(favoriteTeams,skipDelay){updateMatchFavoriteTeams(favoriteTeams),updateTeamlistFavoriteTeams(favoriteTeams),skipDelay?updateTeamFABFavoriteTeams(favoriteTeams):setTimeout(function(){updateTeamFABFavoriteTeams(favoriteTeams)},3e3)}function updateMatchFavoriteTeams(favoriteTeams){$(".favorite-match-icon").each(function(){$(this).hide()}),$(".favorite-team-dot").each(function(){var match_key;$(this).attr("data-team")in favoriteTeams?($(this).show(),match_key=$(this).attr("data-match"),$(".favorite-match-icon-"+match_key).show()):$(this).hide()})}function updateTeamlistFavoriteTeams(favoriteTeams){$(".favorite-team-icon").each(function(){$(this).attr("data-team")in favoriteTeams?$(this).show():$(this).hide()})}function updateTeamFABFavoriteTeams(favoriteTeams){$(".tba-fab-team").each(function(){$(this).find(".fa-spin").remove(),$(this).prop("disabled",!1),$(this).attr("data-team")in favoriteTeams?($(this).find(".not-favorite").hide(),$(this).find(".favorite").show(),setupFavDeleteClick()):($(this).find(".favorite").hide(),$(this).find(".not-favorite").show(),setupFavAddClick())})}function setupFavAddClick(){$(".tba-fab-team").off("click"),$(".tba-fab-team").click(function(){$(".tba-fab-team").off("click"),$(this).find(".not-favorite").hide(),addSpinner($(this)),updateFavoriteTeams($(this).attr("data-team"),"add",!1)})}function setupFavDeleteClick(){$(".tba-fab-team").off("click"),$(".tba-fab-team").click(function(){$(".tba-fab-team").off("click"),$(this).find(".favorite").hide(),addSpinner($(this)),updateFavoriteTeams($(this).attr("data-team"),"delete",!1)})}function addSpinner(el){el.append("<i class='fa fa-refresh fa-spin'></i>"),el.prop("disabled",!0)}function Viewport(){return this.viewport=function(a){var b=document,d=b.documentElement;b.head=b.head||b.getElementsByTagName("head")[0];var e=screen,c=this,f=window;c.bScaled=!1,c.bSupported=!0,b.addEventListener!==a&&b.querySelector!==a&&f===parent&&f.orientation!==a||(c.bSupported=!1),c.updateOrientation(),c.updateScreen(),c.dpr=1;var g=f.devicePixelRatio;g===a?c.bSupported=!1:c.dpr=g,c.fromHead(),this.meta!==a&&(c.iHeight=c.height,c.iMaxScale=c.maxScale,c.iMinScale=c.minScale,c.iUserScalable=c.bUserScalable,c.iWidth=c.width),c.defaultWidth=980,e.width>c.defaultWidth&&(c.defaultWidth=e.width),e.height>c.defaultWidth&&(c.defaultWidth=e.height),c.ready(function(){var e;c.bSupported&&(0!==f.screenX?c.bSupported=!1:c.width!==a&&(d.offsetHeight<=d.clientHeight&&(e=d.style.height,d.style.height=d.clientHeight+128+"px"),"device-width"===c.width?d.clientWidth!==c.screenWidth&&(c.bSupported=!1):c.width!==d.clientWidth&&(c.bSupported=!1),""===e?d.style.height="auto":e!==a&&(d.style.height=e)),c.bSupported&&(b.addEventListener("touchend",function(){var b=(new Date).getTime();c.lastTouch!==a&&b-c.lastTouch<500&&!0===c.bUserScalable&&(c.bScaled=!0),c.lastTouch=b},!1),b.addEventListener("gestureend",function(a){1!==a.scale&&!0===c.bUserScalable&&(c.bScaled=!0)},!1),b.addEventListener("resize",function(){c.updateCheck()},!1),b.addEventListener("orientationchange",function(){var b=c.orientation;c.updateOrientation(),b!==c.orientation&&(c.updateScreen(),!0===c.bUserScalable&&(c.bScaled=!0),c.orientationChangePolicy!==a&&c.orientationChangePolicy())},!1))),c.readyPolicy!==a&&c.readyPolicy()})},this.fromContentString=function(a){for(var b,d,a=a.split(","),e=0;e<a.length;e++)2===(b=a[e].split("=")).length&&(d=b[0].trim(),b=b[1].trim(),isNaN(parseFloat(b))||(b=parseFloat(b)),"width"===d?this.width=b:"height"===d?this.height=b:"initial-scale"===d?this.initialScale=b:"maximum-scale"===d?this.maxScale=b:"minimum-scale"===d?this.minScale=b:"user-scalable"===d&&(this.bUserScalable="no"!==b))},this.fromHead=function(){var a=this.meta=document.head.querySelector("meta[name=viewport]");null===a?this.meta=void 0:a.hasAttribute("content")&&this.fromContentString(a.getAttribute("content"))},this.ready=function(a){var b=document;b.addEventListener&&b.addEventListener("DOMContentLoaded",function(){b.removeEventListener("DOMContentLoaded",arguments.callee,!1),a()},!1)},this.setDefault=function(a,b){this.bUserScalable=!0,this.height=void 0,this.maxScale=5,this.minScale=.25,this.width=this.defaultWidth,this.update(a,b)},this.setMobile=function(a,b){this.bScaled?b():(void 0===this.iWidth?(this.bUserScalable=!1,this.height=void 0,this.minScale=this.maxScale=1,this.width="device-width"):(this.bUserScalable=this.iUserScalable,this.height=this.iHeight,this.maxScale=this.iMaxScale,this.minScale=this.iMinScale,this.width=this.iWidth),this.update(a,b))},this.toString=function(){var a="";return void 0!==this.width&&(a+="width="+this.width+", "),void 0!==this.height&&(a+="height="+this.height+", "),void 0!==this.maxScale&&(a+="maximum-scale="+this.maxScale+", "),void 0!==this.minScale&&(a+="minimum-scale="+this.minScale+", "),!0===this.bUserScalable?a+="user-scalable=yes":!1===this.bUserScalable&&(a+="user-scalable=no"),a},this.update=function(a,b){var e,d=this;d.bSupported?(d.updateFailure=b,d.updateSuccess=a,"device-width"===(e=d.width)&&(e=d.screenWidth),"device-width"===(e=d.prevWidth)?e=d.screenWidth:void 0===e&&(e=document.documentElement.clientWidth),d.updateMeta(),d.updateTimeout=setTimeout(function(){d.updateCheck()},500)):b()},this.updateCheck=function(){var a,b;void 0!==this.updateTimeout&&(a=!1,b=document.documentElement.clientWidth,(this.width===b||"device-width"===this.width&&this.screenWidth===b)&&(a=!0),clearTimeout(this.updateTimeout),this.updateTimeout=void 0,a?(this.prevWidth=this.width,this.updateSuccess(),this.viewportChange()):(this.bSupported=!1,this.updateFailure()),this.updateSuccess=this.updateFailure=void 0)},this.updateMeta=function(){var a=document,b=this.meta;void 0===b?((b=this.meta=a.createElement("meta")).setAttribute("name","viewport"),b.setAttribute("content",this.toString()),a.head.appendChild(b)):b.setAttribute("content",this.toString())},this.updateOrientation=function(){var a=window.orientation;this.orientation=a=0!==a&&180!==a&&(90===a||-90===a||document.documentElement.clientWidth>document.documentElement.clientHeight)?"landscape":"portrait"},this.updateScale=function(){this.scale=this.screenWidth/window.innerWidth},this.updateScreen=function(){var a=this.screenHeight=screen.height,b=this.screenWidth=screen.width;"portrait"===this.orientation?a<b&&(this.screenHeight=b,this.screenWidth=a):b<a&&(this.screenHeight=b,this.screenWidth=a)},this.viewportChange=function(){var a=document.createEvent("Event");a.initEvent("viewportChange",!0,!0),a.bUserScalable=this.bUserScalable,a.maxScale=this.maxScale,a.minScale=this.minScale,a.width=this.width,document.dispatchEvent(a)},!0}function ReView(){return this.mode="default",this.v=new Viewport,this.v.viewport(),this.v.readyPolicy=function(){reView.ready()},this.v.bSupported&&"device-width"===this.v.width&&(this.mode="core"),this.failure=function(){var a=reView;"default"===a.mode&&void 0!==a.v.iWidth&&window.location.reload(),void 0!==a.failurePolicy&&a.failurePolicy()},this.ready=function(){var a=document.getElementsByClassName("reView"),b=a.length,d=reView;if(d.v.bSupported){for("default"===d.mode&&"core"!==sessionStorage.getItem("reViewMode")&&d.success();b--;)a[b].style.display="inline";document.body.addEventListener("click",function(a){a.target.hasAttribute("class")&&-1<a.target.getAttribute("class").indexOf("reView")&&(a.preventDefault(),"default"===d.mode?d.setCore():"core"===d.mode&&d.setDefault())})}else for(1024<=screen.width&&d.success();b--;)a[b].style.display="none"},this.setCore=function(){if("core"===this.mode)this.success();else if(this.v.bSupported){try{sessionStorage.setItem("reViewMode","core")}catch(a){}this.v.setMobile(function(){reView.mode="core",reView.success()},reView.failure)}else this.failure()},this.setDefault=function(){if("default"===this.mode)this.success();else if(this.v.bSupported){try{sessionStorage.setItem("reViewMode","default")}catch(a){}this.v.setDefault(function(){reView.mode="default",reView.success()},reView.failure)}else this.failure()},this.success=function(){var a=reView;a.v.bSupported&&a.updateAnchors(),void 0!==a.successPolicy&&a.successPolicy()},this.updateAnchors=function(){var a=document.getElementsByClassName("reView"),b=a.length;if("core"===this.mode)for(;b--;)a[b].innerHTML=a[b].hasAttribute("data-coreText")?a[b].getAttribute("data-coreText"):"Default View";else for(;b--;)a[b].innerHTML=a[b].hasAttribute("data-defaultText")?a[b].getAttribute("data-defaultText"):"Core View"},!0}$(document).ready(function(){$("#mytba-login").click(function(){window.location.href="/login?redirect="+escape("/account/register?redirect="+document.URL.replace(document.location.origin,""))}),setupFavAddClick(),updateFavoriteTeams(null,null,!0)}),function(a){if((reView=new ReView).v.bSupported)try{var b;"sessionStorage"in a&&null!==a.sessionStorage?(b=sessionStorage.getItem("reViewMode"),"core"===reView.mode&&"default"===b?reView.setDefault():"default"===reView.mode&&"core"===b&&reView.setCore()):reView.v.bSupported=!1}catch(d){reView.v.bSupported=!1}}(window);