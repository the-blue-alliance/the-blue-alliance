{% extends "base.html" %}

{% block title %}Team Admin - The Blue Alliance{% endblock %}

{% block meta_description %}Manage Team TBA Profile{% endblock %}

{% block content %}
<div class="container">
<h1>Team Admin Dashboard</h1>
<p>
  <a class="btn btn-info" href="/mod/help">Help</a>
  <a class="btn btn-primary" href="mod/redeem">Redeem</a>
</p>
<h3>Hi {{user_bundle.account.display_name}}, you have moderator access for {{teams|length}} team{% if teams|length > 1%}s{%endif%}</h3>
<ul>
  {% for team_link in existing_access %}
    <li><a href="/team/{{team_link.team_number}}">Team {{team_link.team_number}} - {{teams[team_link.team_number].nickname}}</a></li>
  {%endfor%}
</ul>

<div class="row">
<div class="col-sm-12">
<ul class="nav nav-tabs">
  <li class="active"><a href="#queue" data-toggle="tab">Suggestion Queue</a></li>
  {% for team_link in existing_access %}
    <li><a href="#frc{{team_link.team_number}}" data-toggle="tab">Team {{team_link.team_number}}</a></li>
  {% endfor %}
</ul>
</div>
</div>

<div class="tab-content">
<div class="tab-pane active" id="queue">
<div class="row">
  {% for team_link in existing_access %}
    <h2>Pending Suggestions</h2>
    {% for suggestion in suggestions_by_team[team_link.team_number] %}
    {% else %}
      <p>No suggestions found!</p>
    {% endfor %}
  {% endfor %}
</div>
</div>

{% for team_link in existing_access %}
  <div class="tab-pane" id="frc{{team_link.team_number}}">
  <div class="row">
    <h2>Social Media</h2>
    {% if team_social_medias[team_link.team_number] %}
      <table class="table table-striped table-hover table-condensed">
      <tr><th>Type</th><th>Profile</th><th>Tags</th><th>Actions</th></tr>
      {% for media in team_social_medias[team_link.team_number] %}
        {% include "media_partials/team_admin_media_row.html" %}
      {% endfor %}
      </table>
    {% else %}
      <p>No media found!</p>
    {% endif %}

    <h2>{{team_link.year}} Media</h2>
    {% if  team_medias[team_link.team_number][team_link.year] %}
      <table class="table table-striped table-hover table-condensed">
      <tr><th>Type</th><th>Media</th><th>Tags</th><th>Actions</th></tr>
      {% for media in team_medias[team_link.team_number][team_link.year] %}
        {% include "media_partials/team_admin_media_row.html" %}
      {% endfor %}
      </table>
    {% else %}
      <p>No media found!</p>
    {% endif %}
  </div>
  </div>
{% endfor %}

</div>
</div>
{% endblock %}
